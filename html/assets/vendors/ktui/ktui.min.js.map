{"version":3,"file":"ktui.min.js","mappings":"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","sources":["webpack://ktui/webpack/universalModuleDefinition","webpack://ktui/./node_modules/@popperjs/core/lib/createPopper.js","webpack://ktui/./node_modules/@popperjs/core/lib/dom-utils/contains.js","webpack://ktui/./node_modules/@popperjs/core/lib/dom-utils/getBoundingClientRect.js","webpack://ktui/./node_modules/@popperjs/core/lib/dom-utils/getClippingRect.js","webpack://ktui/./node_modules/@popperjs/core/lib/dom-utils/getCompositeRect.js","webpack://ktui/./node_modules/@popperjs/core/lib/dom-utils/getComputedStyle.js","webpack://ktui/./node_modules/@popperjs/core/lib/dom-utils/getDocumentElement.js","webpack://ktui/./node_modules/@popperjs/core/lib/dom-utils/getDocumentRect.js","webpack://ktui/./node_modules/@popperjs/core/lib/dom-utils/getHTMLElementScroll.js","webpack://ktui/./node_modules/@popperjs/core/lib/dom-utils/getLayoutRect.js","webpack://ktui/./node_modules/@popperjs/core/lib/dom-utils/getNodeName.js","webpack://ktui/./node_modules/@popperjs/core/lib/dom-utils/getNodeScroll.js","webpack://ktui/./node_modules/@popperjs/core/lib/dom-utils/getOffsetParent.js","webpack://ktui/./node_modules/@popperjs/core/lib/dom-utils/getParentNode.js","webpack://ktui/./node_modules/@popperjs/core/lib/dom-utils/getScrollParent.js","webpack://ktui/./node_modules/@popperjs/core/lib/dom-utils/getViewportRect.js","webpack://ktui/./node_modules/@popperjs/core/lib/dom-utils/getWindow.js","webpack://ktui/./node_modules/@popperjs/core/lib/dom-utils/getWindowScroll.js","webpack://ktui/./node_modules/@popperjs/core/lib/dom-utils/getWindowScrollBarX.js","webpack://ktui/./node_modules/@popperjs/core/lib/dom-utils/instanceOf.js","webpack://ktui/./node_modules/@popperjs/core/lib/dom-utils/isLayoutViewport.js","webpack://ktui/./node_modules/@popperjs/core/lib/dom-utils/isScrollParent.js","webpack://ktui/./node_modules/@popperjs/core/lib/dom-utils/isTableElement.js","webpack://ktui/./node_modules/@popperjs/core/lib/dom-utils/listScrollParents.js","webpack://ktui/./node_modules/@popperjs/core/lib/enums.js","webpack://ktui/./node_modules/@popperjs/core/lib/modifiers/applyStyles.js","webpack://ktui/./node_modules/@popperjs/core/lib/modifiers/arrow.js","webpack://ktui/./node_modules/@popperjs/core/lib/modifiers/computeStyles.js","webpack://ktui/./node_modules/@popperjs/core/lib/modifiers/eventListeners.js","webpack://ktui/./node_modules/@popperjs/core/lib/modifiers/flip.js","webpack://ktui/./node_modules/@popperjs/core/lib/modifiers/hide.js","webpack://ktui/./node_modules/@popperjs/core/lib/modifiers/offset.js","webpack://ktui/./node_modules/@popperjs/core/lib/modifiers/popperOffsets.js","webpack://ktui/./node_modules/@popperjs/core/lib/modifiers/preventOverflow.js","webpack://ktui/./node_modules/@popperjs/core/lib/popper-lite.js","webpack://ktui/./node_modules/@popperjs/core/lib/popper.js","webpack://ktui/./node_modules/@popperjs/core/lib/utils/computeAutoPlacement.js","webpack://ktui/./node_modules/@popperjs/core/lib/utils/computeOffsets.js","webpack://ktui/./node_modules/@popperjs/core/lib/utils/debounce.js","webpack://ktui/./node_modules/@popperjs/core/lib/utils/detectOverflow.js","webpack://ktui/./node_modules/@popperjs/core/lib/utils/expandToHashMap.js","webpack://ktui/./node_modules/@popperjs/core/lib/utils/getAltAxis.js","webpack://ktui/./node_modules/@popperjs/core/lib/utils/getBasePlacement.js","webpack://ktui/./node_modules/@popperjs/core/lib/utils/getFreshSideObject.js","webpack://ktui/./node_modules/@popperjs/core/lib/utils/getMainAxisFromPlacement.js","webpack://ktui/./node_modules/@popperjs/core/lib/utils/getOppositePlacement.js","webpack://ktui/./node_modules/@popperjs/core/lib/utils/getOppositeVariationPlacement.js","webpack://ktui/./node_modules/@popperjs/core/lib/utils/getVariation.js","webpack://ktui/./node_modules/@popperjs/core/lib/utils/math.js","webpack://ktui/./node_modules/@popperjs/core/lib/utils/mergeByName.js","webpack://ktui/./node_modules/@popperjs/core/lib/utils/mergePaddingObject.js","webpack://ktui/./node_modules/@popperjs/core/lib/utils/orderModifiers.js","webpack://ktui/./node_modules/@popperjs/core/lib/utils/rectToClientRect.js","webpack://ktui/./node_modules/@popperjs/core/lib/utils/userAgent.js","webpack://ktui/./node_modules/@popperjs/core/lib/utils/within.js","webpack://ktui/./src/components/accordion/accordion.ts","webpack://ktui/./src/components/accordion/index.ts","webpack://ktui/./src/components/collapse/collapse.ts","webpack://ktui/./src/components/collapse/index.ts","webpack://ktui/./src/components/component.ts","webpack://ktui/./src/components/config.ts","webpack://ktui/./src/components/datatable/datatable.ts","webpack://ktui/./src/components/datatable/index.ts","webpack://ktui/./src/components/datepicker/calendar.ts","webpack://ktui/./src/components/datepicker/config.ts","webpack://ktui/./src/components/datepicker/datepicker.ts","webpack://ktui/./src/components/datepicker/index.ts","webpack://ktui/./src/components/datepicker/keyboard.ts","webpack://ktui/./src/components/datepicker/locales.ts","webpack://ktui/./src/components/datepicker/templates.ts","webpack://ktui/./src/components/datepicker/types.ts","webpack://ktui/./src/components/dismiss/dismiss.ts","webpack://ktui/./src/components/dismiss/index.ts","webpack://ktui/./src/components/drawer/drawer.ts","webpack://ktui/./src/components/drawer/index.ts","webpack://ktui/./src/components/dropdown/dropdown.ts","webpack://ktui/./src/components/dropdown/index.ts","webpack://ktui/./src/components/image-input/image-input.ts","webpack://ktui/./src/components/image-input/index.ts","webpack://ktui/./src/components/menu/index.ts","webpack://ktui/./src/components/menu/menu.ts","webpack://ktui/./src/components/modal/index.ts","webpack://ktui/./src/components/modal/modal.ts","webpack://ktui/./src/components/reparent/index.ts","webpack://ktui/./src/components/reparent/reparent.ts","webpack://ktui/./src/components/scrollable/index.ts","webpack://ktui/./src/components/scrollable/scrollable.ts","webpack://ktui/./src/components/scrollspy/index.ts","webpack://ktui/./src/components/scrollspy/scrollspy.ts","webpack://ktui/./src/components/scrollto/index.ts","webpack://ktui/./src/components/scrollto/scrollto.ts","webpack://ktui/./src/components/select/combobox.ts","webpack://ktui/./src/components/select/config.ts","webpack://ktui/./src/components/select/index.ts","webpack://ktui/./src/components/select/option.ts","webpack://ktui/./src/components/select/remote.ts","webpack://ktui/./src/components/select/search.ts","webpack://ktui/./src/components/select/select.ts","webpack://ktui/./src/components/select/tags.ts","webpack://ktui/./src/components/select/templates.ts","webpack://ktui/./src/components/select/utils.ts","webpack://ktui/./src/components/stepper/index.ts","webpack://ktui/./src/components/stepper/stepper.ts","webpack://ktui/./src/components/sticky/index.ts","webpack://ktui/./src/components/sticky/sticky.ts","webpack://ktui/./src/components/tabs/index.ts","webpack://ktui/./src/components/tabs/tabs.ts","webpack://ktui/./src/components/theme-switch/index.ts","webpack://ktui/./src/components/theme-switch/theme-switch.ts","webpack://ktui/./src/components/toggle-password/index.ts","webpack://ktui/./src/components/toggle-password/toggle-password.ts","webpack://ktui/./src/components/toggle/index.ts","webpack://ktui/./src/components/toggle/toggle.ts","webpack://ktui/./src/components/tooltip/index.ts","webpack://ktui/./src/components/tooltip/tooltip.ts","webpack://ktui/./src/helpers/data.ts","webpack://ktui/./src/helpers/dom.ts","webpack://ktui/./src/helpers/event-handler.ts","webpack://ktui/./src/helpers/utils.ts","webpack://ktui/./src/index.ts","webpack://ktui/webpack/bootstrap","webpack://ktui/webpack/runtime/define property getters","webpack://ktui/webpack/runtime/hasOwnProperty shorthand","webpack://ktui/webpack/runtime/make namespace object","webpack://ktui/webpack/startup"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(self, function() {\nreturn ","import getCompositeRect from \"./dom-utils/getCompositeRect.js\";\nimport getLayoutRect from \"./dom-utils/getLayoutRect.js\";\nimport listScrollParents from \"./dom-utils/listScrollParents.js\";\nimport getOffsetParent from \"./dom-utils/getOffsetParent.js\";\nimport orderModifiers from \"./utils/orderModifiers.js\";\nimport debounce from \"./utils/debounce.js\";\nimport mergeByName from \"./utils/mergeByName.js\";\nimport detectOverflow from \"./utils/detectOverflow.js\";\nimport { isElement } from \"./dom-utils/instanceOf.js\";\nvar DEFAULT_OPTIONS = {\n  placement: 'bottom',\n  modifiers: [],\n  strategy: 'absolute'\n};\n\nfunction areValidElements() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  return !args.some(function (element) {\n    return !(element && typeof element.getBoundingClientRect === 'function');\n  });\n}\n\nexport function popperGenerator(generatorOptions) {\n  if (generatorOptions === void 0) {\n    generatorOptions = {};\n  }\n\n  var _generatorOptions = generatorOptions,\n      _generatorOptions$def = _generatorOptions.defaultModifiers,\n      defaultModifiers = _generatorOptions$def === void 0 ? [] : _generatorOptions$def,\n      _generatorOptions$def2 = _generatorOptions.defaultOptions,\n      defaultOptions = _generatorOptions$def2 === void 0 ? DEFAULT_OPTIONS : _generatorOptions$def2;\n  return function createPopper(reference, popper, options) {\n    if (options === void 0) {\n      options = defaultOptions;\n    }\n\n    var state = {\n      placement: 'bottom',\n      orderedModifiers: [],\n      options: Object.assign({}, DEFAULT_OPTIONS, defaultOptions),\n      modifiersData: {},\n      elements: {\n        reference: reference,\n        popper: popper\n      },\n      attributes: {},\n      styles: {}\n    };\n    var effectCleanupFns = [];\n    var isDestroyed = false;\n    var instance = {\n      state: state,\n      setOptions: function setOptions(setOptionsAction) {\n        var options = typeof setOptionsAction === 'function' ? setOptionsAction(state.options) : setOptionsAction;\n        cleanupModifierEffects();\n        state.options = Object.assign({}, defaultOptions, state.options, options);\n        state.scrollParents = {\n          reference: isElement(reference) ? listScrollParents(reference) : reference.contextElement ? listScrollParents(reference.contextElement) : [],\n          popper: listScrollParents(popper)\n        }; // Orders the modifiers based on their dependencies and `phase`\n        // properties\n\n        var orderedModifiers = orderModifiers(mergeByName([].concat(defaultModifiers, state.options.modifiers))); // Strip out disabled modifiers\n\n        state.orderedModifiers = orderedModifiers.filter(function (m) {\n          return m.enabled;\n        });\n        runModifierEffects();\n        return instance.update();\n      },\n      // Sync update – it will always be executed, even if not necessary. This\n      // is useful for low frequency updates where sync behavior simplifies the\n      // logic.\n      // For high frequency updates (e.g. `resize` and `scroll` events), always\n      // prefer the async Popper#update method\n      forceUpdate: function forceUpdate() {\n        if (isDestroyed) {\n          return;\n        }\n\n        var _state$elements = state.elements,\n            reference = _state$elements.reference,\n            popper = _state$elements.popper; // Don't proceed if `reference` or `popper` are not valid elements\n        // anymore\n\n        if (!areValidElements(reference, popper)) {\n          return;\n        } // Store the reference and popper rects to be read by modifiers\n\n\n        state.rects = {\n          reference: getCompositeRect(reference, getOffsetParent(popper), state.options.strategy === 'fixed'),\n          popper: getLayoutRect(popper)\n        }; // Modifiers have the ability to reset the current update cycle. The\n        // most common use case for this is the `flip` modifier changing the\n        // placement, which then needs to re-run all the modifiers, because the\n        // logic was previously ran for the previous placement and is therefore\n        // stale/incorrect\n\n        state.reset = false;\n        state.placement = state.options.placement; // On each update cycle, the `modifiersData` property for each modifier\n        // is filled with the initial data specified by the modifier. This means\n        // it doesn't persist and is fresh on each update.\n        // To ensure persistent data, use `${name}#persistent`\n\n        state.orderedModifiers.forEach(function (modifier) {\n          return state.modifiersData[modifier.name] = Object.assign({}, modifier.data);\n        });\n\n        for (var index = 0; index < state.orderedModifiers.length; index++) {\n          if (state.reset === true) {\n            state.reset = false;\n            index = -1;\n            continue;\n          }\n\n          var _state$orderedModifie = state.orderedModifiers[index],\n              fn = _state$orderedModifie.fn,\n              _state$orderedModifie2 = _state$orderedModifie.options,\n              _options = _state$orderedModifie2 === void 0 ? {} : _state$orderedModifie2,\n              name = _state$orderedModifie.name;\n\n          if (typeof fn === 'function') {\n            state = fn({\n              state: state,\n              options: _options,\n              name: name,\n              instance: instance\n            }) || state;\n          }\n        }\n      },\n      // Async and optimistically optimized update – it will not be executed if\n      // not necessary (debounced to run at most once-per-tick)\n      update: debounce(function () {\n        return new Promise(function (resolve) {\n          instance.forceUpdate();\n          resolve(state);\n        });\n      }),\n      destroy: function destroy() {\n        cleanupModifierEffects();\n        isDestroyed = true;\n      }\n    };\n\n    if (!areValidElements(reference, popper)) {\n      return instance;\n    }\n\n    instance.setOptions(options).then(function (state) {\n      if (!isDestroyed && options.onFirstUpdate) {\n        options.onFirstUpdate(state);\n      }\n    }); // Modifiers have the ability to execute arbitrary code before the first\n    // update cycle runs. They will be executed in the same order as the update\n    // cycle. This is useful when a modifier adds some persistent data that\n    // other modifiers need to use, but the modifier is run after the dependent\n    // one.\n\n    function runModifierEffects() {\n      state.orderedModifiers.forEach(function (_ref) {\n        var name = _ref.name,\n            _ref$options = _ref.options,\n            options = _ref$options === void 0 ? {} : _ref$options,\n            effect = _ref.effect;\n\n        if (typeof effect === 'function') {\n          var cleanupFn = effect({\n            state: state,\n            name: name,\n            instance: instance,\n            options: options\n          });\n\n          var noopFn = function noopFn() {};\n\n          effectCleanupFns.push(cleanupFn || noopFn);\n        }\n      });\n    }\n\n    function cleanupModifierEffects() {\n      effectCleanupFns.forEach(function (fn) {\n        return fn();\n      });\n      effectCleanupFns = [];\n    }\n\n    return instance;\n  };\n}\nexport var createPopper = /*#__PURE__*/popperGenerator(); // eslint-disable-next-line import/no-unused-modules\n\nexport { detectOverflow };","import { isShadowRoot } from \"./instanceOf.js\";\nexport default function contains(parent, child) {\n  var rootNode = child.getRootNode && child.getRootNode(); // First, attempt with faster native method\n\n  if (parent.contains(child)) {\n    return true;\n  } // then fallback to custom implementation with Shadow DOM support\n  else if (rootNode && isShadowRoot(rootNode)) {\n      var next = child;\n\n      do {\n        if (next && parent.isSameNode(next)) {\n          return true;\n        } // $FlowFixMe[prop-missing]: need a better way to handle this...\n\n\n        next = next.parentNode || next.host;\n      } while (next);\n    } // Give up, the result is false\n\n\n  return false;\n}","import { isElement, isHTMLElement } from \"./instanceOf.js\";\nimport { round } from \"../utils/math.js\";\nimport getWindow from \"./getWindow.js\";\nimport isLayoutViewport from \"./isLayoutViewport.js\";\nexport default function getBoundingClientRect(element, includeScale, isFixedStrategy) {\n  if (includeScale === void 0) {\n    includeScale = false;\n  }\n\n  if (isFixedStrategy === void 0) {\n    isFixedStrategy = false;\n  }\n\n  var clientRect = element.getBoundingClientRect();\n  var scaleX = 1;\n  var scaleY = 1;\n\n  if (includeScale && isHTMLElement(element)) {\n    scaleX = element.offsetWidth > 0 ? round(clientRect.width) / element.offsetWidth || 1 : 1;\n    scaleY = element.offsetHeight > 0 ? round(clientRect.height) / element.offsetHeight || 1 : 1;\n  }\n\n  var _ref = isElement(element) ? getWindow(element) : window,\n      visualViewport = _ref.visualViewport;\n\n  var addVisualOffsets = !isLayoutViewport() && isFixedStrategy;\n  var x = (clientRect.left + (addVisualOffsets && visualViewport ? visualViewport.offsetLeft : 0)) / scaleX;\n  var y = (clientRect.top + (addVisualOffsets && visualViewport ? visualViewport.offsetTop : 0)) / scaleY;\n  var width = clientRect.width / scaleX;\n  var height = clientRect.height / scaleY;\n  return {\n    width: width,\n    height: height,\n    top: y,\n    right: x + width,\n    bottom: y + height,\n    left: x,\n    x: x,\n    y: y\n  };\n}","import { viewport } from \"../enums.js\";\nimport getViewportRect from \"./getViewportRect.js\";\nimport getDocumentRect from \"./getDocumentRect.js\";\nimport listScrollParents from \"./listScrollParents.js\";\nimport getOffsetParent from \"./getOffsetParent.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport getComputedStyle from \"./getComputedStyle.js\";\nimport { isElement, isHTMLElement } from \"./instanceOf.js\";\nimport getBoundingClientRect from \"./getBoundingClientRect.js\";\nimport getParentNode from \"./getParentNode.js\";\nimport contains from \"./contains.js\";\nimport getNodeName from \"./getNodeName.js\";\nimport rectToClientRect from \"../utils/rectToClientRect.js\";\nimport { max, min } from \"../utils/math.js\";\n\nfunction getInnerBoundingClientRect(element, strategy) {\n  var rect = getBoundingClientRect(element, false, strategy === 'fixed');\n  rect.top = rect.top + element.clientTop;\n  rect.left = rect.left + element.clientLeft;\n  rect.bottom = rect.top + element.clientHeight;\n  rect.right = rect.left + element.clientWidth;\n  rect.width = element.clientWidth;\n  rect.height = element.clientHeight;\n  rect.x = rect.left;\n  rect.y = rect.top;\n  return rect;\n}\n\nfunction getClientRectFromMixedType(element, clippingParent, strategy) {\n  return clippingParent === viewport ? rectToClientRect(getViewportRect(element, strategy)) : isElement(clippingParent) ? getInnerBoundingClientRect(clippingParent, strategy) : rectToClientRect(getDocumentRect(getDocumentElement(element)));\n} // A \"clipping parent\" is an overflowable container with the characteristic of\n// clipping (or hiding) overflowing elements with a position different from\n// `initial`\n\n\nfunction getClippingParents(element) {\n  var clippingParents = listScrollParents(getParentNode(element));\n  var canEscapeClipping = ['absolute', 'fixed'].indexOf(getComputedStyle(element).position) >= 0;\n  var clipperElement = canEscapeClipping && isHTMLElement(element) ? getOffsetParent(element) : element;\n\n  if (!isElement(clipperElement)) {\n    return [];\n  } // $FlowFixMe[incompatible-return]: https://github.com/facebook/flow/issues/1414\n\n\n  return clippingParents.filter(function (clippingParent) {\n    return isElement(clippingParent) && contains(clippingParent, clipperElement) && getNodeName(clippingParent) !== 'body';\n  });\n} // Gets the maximum area that the element is visible in due to any number of\n// clipping parents\n\n\nexport default function getClippingRect(element, boundary, rootBoundary, strategy) {\n  var mainClippingParents = boundary === 'clippingParents' ? getClippingParents(element) : [].concat(boundary);\n  var clippingParents = [].concat(mainClippingParents, [rootBoundary]);\n  var firstClippingParent = clippingParents[0];\n  var clippingRect = clippingParents.reduce(function (accRect, clippingParent) {\n    var rect = getClientRectFromMixedType(element, clippingParent, strategy);\n    accRect.top = max(rect.top, accRect.top);\n    accRect.right = min(rect.right, accRect.right);\n    accRect.bottom = min(rect.bottom, accRect.bottom);\n    accRect.left = max(rect.left, accRect.left);\n    return accRect;\n  }, getClientRectFromMixedType(element, firstClippingParent, strategy));\n  clippingRect.width = clippingRect.right - clippingRect.left;\n  clippingRect.height = clippingRect.bottom - clippingRect.top;\n  clippingRect.x = clippingRect.left;\n  clippingRect.y = clippingRect.top;\n  return clippingRect;\n}","import getBoundingClientRect from \"./getBoundingClientRect.js\";\nimport getNodeScroll from \"./getNodeScroll.js\";\nimport getNodeName from \"./getNodeName.js\";\nimport { isHTMLElement } from \"./instanceOf.js\";\nimport getWindowScrollBarX from \"./getWindowScrollBarX.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport isScrollParent from \"./isScrollParent.js\";\nimport { round } from \"../utils/math.js\";\n\nfunction isElementScaled(element) {\n  var rect = element.getBoundingClientRect();\n  var scaleX = round(rect.width) / element.offsetWidth || 1;\n  var scaleY = round(rect.height) / element.offsetHeight || 1;\n  return scaleX !== 1 || scaleY !== 1;\n} // Returns the composite rect of an element relative to its offsetParent.\n// Composite means it takes into account transforms as well as layout.\n\n\nexport default function getCompositeRect(elementOrVirtualElement, offsetParent, isFixed) {\n  if (isFixed === void 0) {\n    isFixed = false;\n  }\n\n  var isOffsetParentAnElement = isHTMLElement(offsetParent);\n  var offsetParentIsScaled = isHTMLElement(offsetParent) && isElementScaled(offsetParent);\n  var documentElement = getDocumentElement(offsetParent);\n  var rect = getBoundingClientRect(elementOrVirtualElement, offsetParentIsScaled, isFixed);\n  var scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  var offsets = {\n    x: 0,\n    y: 0\n  };\n\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {\n    if (getNodeName(offsetParent) !== 'body' || // https://github.com/popperjs/popper-core/issues/1078\n    isScrollParent(documentElement)) {\n      scroll = getNodeScroll(offsetParent);\n    }\n\n    if (isHTMLElement(offsetParent)) {\n      offsets = getBoundingClientRect(offsetParent, true);\n      offsets.x += offsetParent.clientLeft;\n      offsets.y += offsetParent.clientTop;\n    } else if (documentElement) {\n      offsets.x = getWindowScrollBarX(documentElement);\n    }\n  }\n\n  return {\n    x: rect.left + scroll.scrollLeft - offsets.x,\n    y: rect.top + scroll.scrollTop - offsets.y,\n    width: rect.width,\n    height: rect.height\n  };\n}","import getWindow from \"./getWindow.js\";\nexport default function getComputedStyle(element) {\n  return getWindow(element).getComputedStyle(element);\n}","import { isElement } from \"./instanceOf.js\";\nexport default function getDocumentElement(element) {\n  // $FlowFixMe[incompatible-return]: assume body is always available\n  return ((isElement(element) ? element.ownerDocument : // $FlowFixMe[prop-missing]\n  element.document) || window.document).documentElement;\n}","import getDocumentElement from \"./getDocumentElement.js\";\nimport getComputedStyle from \"./getComputedStyle.js\";\nimport getWindowScrollBarX from \"./getWindowScrollBarX.js\";\nimport getWindowScroll from \"./getWindowScroll.js\";\nimport { max } from \"../utils/math.js\"; // Gets the entire size of the scrollable document area, even extending outside\n// of the `<html>` and `<body>` rect bounds if horizontally scrollable\n\nexport default function getDocumentRect(element) {\n  var _element$ownerDocumen;\n\n  var html = getDocumentElement(element);\n  var winScroll = getWindowScroll(element);\n  var body = (_element$ownerDocumen = element.ownerDocument) == null ? void 0 : _element$ownerDocumen.body;\n  var width = max(html.scrollWidth, html.clientWidth, body ? body.scrollWidth : 0, body ? body.clientWidth : 0);\n  var height = max(html.scrollHeight, html.clientHeight, body ? body.scrollHeight : 0, body ? body.clientHeight : 0);\n  var x = -winScroll.scrollLeft + getWindowScrollBarX(element);\n  var y = -winScroll.scrollTop;\n\n  if (getComputedStyle(body || html).direction === 'rtl') {\n    x += max(html.clientWidth, body ? body.clientWidth : 0) - width;\n  }\n\n  return {\n    width: width,\n    height: height,\n    x: x,\n    y: y\n  };\n}","export default function getHTMLElementScroll(element) {\n  return {\n    scrollLeft: element.scrollLeft,\n    scrollTop: element.scrollTop\n  };\n}","import getBoundingClientRect from \"./getBoundingClientRect.js\"; // Returns the layout rect of an element relative to its offsetParent. Layout\n// means it doesn't take into account transforms.\n\nexport default function getLayoutRect(element) {\n  var clientRect = getBoundingClientRect(element); // Use the clientRect sizes if it's not been transformed.\n  // Fixes https://github.com/popperjs/popper-core/issues/1223\n\n  var width = element.offsetWidth;\n  var height = element.offsetHeight;\n\n  if (Math.abs(clientRect.width - width) <= 1) {\n    width = clientRect.width;\n  }\n\n  if (Math.abs(clientRect.height - height) <= 1) {\n    height = clientRect.height;\n  }\n\n  return {\n    x: element.offsetLeft,\n    y: element.offsetTop,\n    width: width,\n    height: height\n  };\n}","export default function getNodeName(element) {\n  return element ? (element.nodeName || '').toLowerCase() : null;\n}","import getWindowScroll from \"./getWindowScroll.js\";\nimport getWindow from \"./getWindow.js\";\nimport { isHTMLElement } from \"./instanceOf.js\";\nimport getHTMLElementScroll from \"./getHTMLElementScroll.js\";\nexport default function getNodeScroll(node) {\n  if (node === getWindow(node) || !isHTMLElement(node)) {\n    return getWindowScroll(node);\n  } else {\n    return getHTMLElementScroll(node);\n  }\n}","import getWindow from \"./getWindow.js\";\nimport getNodeName from \"./getNodeName.js\";\nimport getComputedStyle from \"./getComputedStyle.js\";\nimport { isHTMLElement, isShadowRoot } from \"./instanceOf.js\";\nimport isTableElement from \"./isTableElement.js\";\nimport getParentNode from \"./getParentNode.js\";\nimport getUAString from \"../utils/userAgent.js\";\n\nfunction getTrueOffsetParent(element) {\n  if (!isHTMLElement(element) || // https://github.com/popperjs/popper-core/issues/837\n  getComputedStyle(element).position === 'fixed') {\n    return null;\n  }\n\n  return element.offsetParent;\n} // `.offsetParent` reports `null` for fixed elements, while absolute elements\n// return the containing block\n\n\nfunction getContainingBlock(element) {\n  var isFirefox = /firefox/i.test(getUAString());\n  var isIE = /Trident/i.test(getUAString());\n\n  if (isIE && isHTMLElement(element)) {\n    // In IE 9, 10 and 11 fixed elements containing block is always established by the viewport\n    var elementCss = getComputedStyle(element);\n\n    if (elementCss.position === 'fixed') {\n      return null;\n    }\n  }\n\n  var currentNode = getParentNode(element);\n\n  if (isShadowRoot(currentNode)) {\n    currentNode = currentNode.host;\n  }\n\n  while (isHTMLElement(currentNode) && ['html', 'body'].indexOf(getNodeName(currentNode)) < 0) {\n    var css = getComputedStyle(currentNode); // This is non-exhaustive but covers the most common CSS properties that\n    // create a containing block.\n    // https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block#identifying_the_containing_block\n\n    if (css.transform !== 'none' || css.perspective !== 'none' || css.contain === 'paint' || ['transform', 'perspective'].indexOf(css.willChange) !== -1 || isFirefox && css.willChange === 'filter' || isFirefox && css.filter && css.filter !== 'none') {\n      return currentNode;\n    } else {\n      currentNode = currentNode.parentNode;\n    }\n  }\n\n  return null;\n} // Gets the closest ancestor positioned element. Handles some edge cases,\n// such as table ancestors and cross browser bugs.\n\n\nexport default function getOffsetParent(element) {\n  var window = getWindow(element);\n  var offsetParent = getTrueOffsetParent(element);\n\n  while (offsetParent && isTableElement(offsetParent) && getComputedStyle(offsetParent).position === 'static') {\n    offsetParent = getTrueOffsetParent(offsetParent);\n  }\n\n  if (offsetParent && (getNodeName(offsetParent) === 'html' || getNodeName(offsetParent) === 'body' && getComputedStyle(offsetParent).position === 'static')) {\n    return window;\n  }\n\n  return offsetParent || getContainingBlock(element) || window;\n}","import getNodeName from \"./getNodeName.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport { isShadowRoot } from \"./instanceOf.js\";\nexport default function getParentNode(element) {\n  if (getNodeName(element) === 'html') {\n    return element;\n  }\n\n  return (// this is a quicker (but less type safe) way to save quite some bytes from the bundle\n    // $FlowFixMe[incompatible-return]\n    // $FlowFixMe[prop-missing]\n    element.assignedSlot || // step into the shadow DOM of the parent of a slotted node\n    element.parentNode || ( // DOM Element detected\n    isShadowRoot(element) ? element.host : null) || // ShadowRoot detected\n    // $FlowFixMe[incompatible-call]: HTMLElement is a Node\n    getDocumentElement(element) // fallback\n\n  );\n}","import getParentNode from \"./getParentNode.js\";\nimport isScrollParent from \"./isScrollParent.js\";\nimport getNodeName from \"./getNodeName.js\";\nimport { isHTMLElement } from \"./instanceOf.js\";\nexport default function getScrollParent(node) {\n  if (['html', 'body', '#document'].indexOf(getNodeName(node)) >= 0) {\n    // $FlowFixMe[incompatible-return]: assume body is always available\n    return node.ownerDocument.body;\n  }\n\n  if (isHTMLElement(node) && isScrollParent(node)) {\n    return node;\n  }\n\n  return getScrollParent(getParentNode(node));\n}","import getWindow from \"./getWindow.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport getWindowScrollBarX from \"./getWindowScrollBarX.js\";\nimport isLayoutViewport from \"./isLayoutViewport.js\";\nexport default function getViewportRect(element, strategy) {\n  var win = getWindow(element);\n  var html = getDocumentElement(element);\n  var visualViewport = win.visualViewport;\n  var width = html.clientWidth;\n  var height = html.clientHeight;\n  var x = 0;\n  var y = 0;\n\n  if (visualViewport) {\n    width = visualViewport.width;\n    height = visualViewport.height;\n    var layoutViewport = isLayoutViewport();\n\n    if (layoutViewport || !layoutViewport && strategy === 'fixed') {\n      x = visualViewport.offsetLeft;\n      y = visualViewport.offsetTop;\n    }\n  }\n\n  return {\n    width: width,\n    height: height,\n    x: x + getWindowScrollBarX(element),\n    y: y\n  };\n}","export default function getWindow(node) {\n  if (node == null) {\n    return window;\n  }\n\n  if (node.toString() !== '[object Window]') {\n    var ownerDocument = node.ownerDocument;\n    return ownerDocument ? ownerDocument.defaultView || window : window;\n  }\n\n  return node;\n}","import getWindow from \"./getWindow.js\";\nexport default function getWindowScroll(node) {\n  var win = getWindow(node);\n  var scrollLeft = win.pageXOffset;\n  var scrollTop = win.pageYOffset;\n  return {\n    scrollLeft: scrollLeft,\n    scrollTop: scrollTop\n  };\n}","import getBoundingClientRect from \"./getBoundingClientRect.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport getWindowScroll from \"./getWindowScroll.js\";\nexport default function getWindowScrollBarX(element) {\n  // If <html> has a CSS width greater than the viewport, then this will be\n  // incorrect for RTL.\n  // Popper 1 is broken in this case and never had a bug report so let's assume\n  // it's not an issue. I don't think anyone ever specifies width on <html>\n  // anyway.\n  // Browsers where the left scrollbar doesn't cause an issue report `0` for\n  // this (e.g. Edge 2019, IE11, Safari)\n  return getBoundingClientRect(getDocumentElement(element)).left + getWindowScroll(element).scrollLeft;\n}","import getWindow from \"./getWindow.js\";\n\nfunction isElement(node) {\n  var OwnElement = getWindow(node).Element;\n  return node instanceof OwnElement || node instanceof Element;\n}\n\nfunction isHTMLElement(node) {\n  var OwnElement = getWindow(node).HTMLElement;\n  return node instanceof OwnElement || node instanceof HTMLElement;\n}\n\nfunction isShadowRoot(node) {\n  // IE 11 has no ShadowRoot\n  if (typeof ShadowRoot === 'undefined') {\n    return false;\n  }\n\n  var OwnElement = getWindow(node).ShadowRoot;\n  return node instanceof OwnElement || node instanceof ShadowRoot;\n}\n\nexport { isElement, isHTMLElement, isShadowRoot };","import getUAString from \"../utils/userAgent.js\";\nexport default function isLayoutViewport() {\n  return !/^((?!chrome|android).)*safari/i.test(getUAString());\n}","import getComputedStyle from \"./getComputedStyle.js\";\nexport default function isScrollParent(element) {\n  // Firefox wants us to check `-x` and `-y` variations as well\n  var _getComputedStyle = getComputedStyle(element),\n      overflow = _getComputedStyle.overflow,\n      overflowX = _getComputedStyle.overflowX,\n      overflowY = _getComputedStyle.overflowY;\n\n  return /auto|scroll|overlay|hidden/.test(overflow + overflowY + overflowX);\n}","import getNodeName from \"./getNodeName.js\";\nexport default function isTableElement(element) {\n  return ['table', 'td', 'th'].indexOf(getNodeName(element)) >= 0;\n}","import getScrollParent from \"./getScrollParent.js\";\nimport getParentNode from \"./getParentNode.js\";\nimport getWindow from \"./getWindow.js\";\nimport isScrollParent from \"./isScrollParent.js\";\n/*\ngiven a DOM element, return the list of all scroll parents, up the list of ancesors\nuntil we get to the top window object. This list is what we attach scroll listeners\nto, because if any of these parent elements scroll, we'll need to re-calculate the\nreference element's position.\n*/\n\nexport default function listScrollParents(element, list) {\n  var _element$ownerDocumen;\n\n  if (list === void 0) {\n    list = [];\n  }\n\n  var scrollParent = getScrollParent(element);\n  var isBody = scrollParent === ((_element$ownerDocumen = element.ownerDocument) == null ? void 0 : _element$ownerDocumen.body);\n  var win = getWindow(scrollParent);\n  var target = isBody ? [win].concat(win.visualViewport || [], isScrollParent(scrollParent) ? scrollParent : []) : scrollParent;\n  var updatedList = list.concat(target);\n  return isBody ? updatedList : // $FlowFixMe[incompatible-call]: isBody tells us target will be an HTMLElement here\n  updatedList.concat(listScrollParents(getParentNode(target)));\n}","export var top = 'top';\nexport var bottom = 'bottom';\nexport var right = 'right';\nexport var left = 'left';\nexport var auto = 'auto';\nexport var basePlacements = [top, bottom, right, left];\nexport var start = 'start';\nexport var end = 'end';\nexport var clippingParents = 'clippingParents';\nexport var viewport = 'viewport';\nexport var popper = 'popper';\nexport var reference = 'reference';\nexport var variationPlacements = /*#__PURE__*/basePlacements.reduce(function (acc, placement) {\n  return acc.concat([placement + \"-\" + start, placement + \"-\" + end]);\n}, []);\nexport var placements = /*#__PURE__*/[].concat(basePlacements, [auto]).reduce(function (acc, placement) {\n  return acc.concat([placement, placement + \"-\" + start, placement + \"-\" + end]);\n}, []); // modifiers that need to read the DOM\n\nexport var beforeRead = 'beforeRead';\nexport var read = 'read';\nexport var afterRead = 'afterRead'; // pure-logic modifiers\n\nexport var beforeMain = 'beforeMain';\nexport var main = 'main';\nexport var afterMain = 'afterMain'; // modifier with the purpose to write to the DOM (or write into a framework state)\n\nexport var beforeWrite = 'beforeWrite';\nexport var write = 'write';\nexport var afterWrite = 'afterWrite';\nexport var modifierPhases = [beforeRead, read, afterRead, beforeMain, main, afterMain, beforeWrite, write, afterWrite];","import getNodeName from \"../dom-utils/getNodeName.js\";\nimport { isHTMLElement } from \"../dom-utils/instanceOf.js\"; // This modifier takes the styles prepared by the `computeStyles` modifier\n// and applies them to the HTMLElements such as popper and arrow\n\nfunction applyStyles(_ref) {\n  var state = _ref.state;\n  Object.keys(state.elements).forEach(function (name) {\n    var style = state.styles[name] || {};\n    var attributes = state.attributes[name] || {};\n    var element = state.elements[name]; // arrow is optional + virtual elements\n\n    if (!isHTMLElement(element) || !getNodeName(element)) {\n      return;\n    } // Flow doesn't support to extend this property, but it's the most\n    // effective way to apply styles to an HTMLElement\n    // $FlowFixMe[cannot-write]\n\n\n    Object.assign(element.style, style);\n    Object.keys(attributes).forEach(function (name) {\n      var value = attributes[name];\n\n      if (value === false) {\n        element.removeAttribute(name);\n      } else {\n        element.setAttribute(name, value === true ? '' : value);\n      }\n    });\n  });\n}\n\nfunction effect(_ref2) {\n  var state = _ref2.state;\n  var initialStyles = {\n    popper: {\n      position: state.options.strategy,\n      left: '0',\n      top: '0',\n      margin: '0'\n    },\n    arrow: {\n      position: 'absolute'\n    },\n    reference: {}\n  };\n  Object.assign(state.elements.popper.style, initialStyles.popper);\n  state.styles = initialStyles;\n\n  if (state.elements.arrow) {\n    Object.assign(state.elements.arrow.style, initialStyles.arrow);\n  }\n\n  return function () {\n    Object.keys(state.elements).forEach(function (name) {\n      var element = state.elements[name];\n      var attributes = state.attributes[name] || {};\n      var styleProperties = Object.keys(state.styles.hasOwnProperty(name) ? state.styles[name] : initialStyles[name]); // Set all values to an empty string to unset them\n\n      var style = styleProperties.reduce(function (style, property) {\n        style[property] = '';\n        return style;\n      }, {}); // arrow is optional + virtual elements\n\n      if (!isHTMLElement(element) || !getNodeName(element)) {\n        return;\n      }\n\n      Object.assign(element.style, style);\n      Object.keys(attributes).forEach(function (attribute) {\n        element.removeAttribute(attribute);\n      });\n    });\n  };\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'applyStyles',\n  enabled: true,\n  phase: 'write',\n  fn: applyStyles,\n  effect: effect,\n  requires: ['computeStyles']\n};","import getBasePlacement from \"../utils/getBasePlacement.js\";\nimport getLayoutRect from \"../dom-utils/getLayoutRect.js\";\nimport contains from \"../dom-utils/contains.js\";\nimport getOffsetParent from \"../dom-utils/getOffsetParent.js\";\nimport getMainAxisFromPlacement from \"../utils/getMainAxisFromPlacement.js\";\nimport { within } from \"../utils/within.js\";\nimport mergePaddingObject from \"../utils/mergePaddingObject.js\";\nimport expandToHashMap from \"../utils/expandToHashMap.js\";\nimport { left, right, basePlacements, top, bottom } from \"../enums.js\"; // eslint-disable-next-line import/no-unused-modules\n\nvar toPaddingObject = function toPaddingObject(padding, state) {\n  padding = typeof padding === 'function' ? padding(Object.assign({}, state.rects, {\n    placement: state.placement\n  })) : padding;\n  return mergePaddingObject(typeof padding !== 'number' ? padding : expandToHashMap(padding, basePlacements));\n};\n\nfunction arrow(_ref) {\n  var _state$modifiersData$;\n\n  var state = _ref.state,\n      name = _ref.name,\n      options = _ref.options;\n  var arrowElement = state.elements.arrow;\n  var popperOffsets = state.modifiersData.popperOffsets;\n  var basePlacement = getBasePlacement(state.placement);\n  var axis = getMainAxisFromPlacement(basePlacement);\n  var isVertical = [left, right].indexOf(basePlacement) >= 0;\n  var len = isVertical ? 'height' : 'width';\n\n  if (!arrowElement || !popperOffsets) {\n    return;\n  }\n\n  var paddingObject = toPaddingObject(options.padding, state);\n  var arrowRect = getLayoutRect(arrowElement);\n  var minProp = axis === 'y' ? top : left;\n  var maxProp = axis === 'y' ? bottom : right;\n  var endDiff = state.rects.reference[len] + state.rects.reference[axis] - popperOffsets[axis] - state.rects.popper[len];\n  var startDiff = popperOffsets[axis] - state.rects.reference[axis];\n  var arrowOffsetParent = getOffsetParent(arrowElement);\n  var clientSize = arrowOffsetParent ? axis === 'y' ? arrowOffsetParent.clientHeight || 0 : arrowOffsetParent.clientWidth || 0 : 0;\n  var centerToReference = endDiff / 2 - startDiff / 2; // Make sure the arrow doesn't overflow the popper if the center point is\n  // outside of the popper bounds\n\n  var min = paddingObject[minProp];\n  var max = clientSize - arrowRect[len] - paddingObject[maxProp];\n  var center = clientSize / 2 - arrowRect[len] / 2 + centerToReference;\n  var offset = within(min, center, max); // Prevents breaking syntax highlighting...\n\n  var axisProp = axis;\n  state.modifiersData[name] = (_state$modifiersData$ = {}, _state$modifiersData$[axisProp] = offset, _state$modifiersData$.centerOffset = offset - center, _state$modifiersData$);\n}\n\nfunction effect(_ref2) {\n  var state = _ref2.state,\n      options = _ref2.options;\n  var _options$element = options.element,\n      arrowElement = _options$element === void 0 ? '[data-popper-arrow]' : _options$element;\n\n  if (arrowElement == null) {\n    return;\n  } // CSS selector\n\n\n  if (typeof arrowElement === 'string') {\n    arrowElement = state.elements.popper.querySelector(arrowElement);\n\n    if (!arrowElement) {\n      return;\n    }\n  }\n\n  if (!contains(state.elements.popper, arrowElement)) {\n    return;\n  }\n\n  state.elements.arrow = arrowElement;\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'arrow',\n  enabled: true,\n  phase: 'main',\n  fn: arrow,\n  effect: effect,\n  requires: ['popperOffsets'],\n  requiresIfExists: ['preventOverflow']\n};","import { top, left, right, bottom, end } from \"../enums.js\";\nimport getOffsetParent from \"../dom-utils/getOffsetParent.js\";\nimport getWindow from \"../dom-utils/getWindow.js\";\nimport getDocumentElement from \"../dom-utils/getDocumentElement.js\";\nimport getComputedStyle from \"../dom-utils/getComputedStyle.js\";\nimport getBasePlacement from \"../utils/getBasePlacement.js\";\nimport getVariation from \"../utils/getVariation.js\";\nimport { round } from \"../utils/math.js\"; // eslint-disable-next-line import/no-unused-modules\n\nvar unsetSides = {\n  top: 'auto',\n  right: 'auto',\n  bottom: 'auto',\n  left: 'auto'\n}; // Round the offsets to the nearest suitable subpixel based on the DPR.\n// Zooming can change the DPR, but it seems to report a value that will\n// cleanly divide the values into the appropriate subpixels.\n\nfunction roundOffsetsByDPR(_ref, win) {\n  var x = _ref.x,\n      y = _ref.y;\n  var dpr = win.devicePixelRatio || 1;\n  return {\n    x: round(x * dpr) / dpr || 0,\n    y: round(y * dpr) / dpr || 0\n  };\n}\n\nexport function mapToStyles(_ref2) {\n  var _Object$assign2;\n\n  var popper = _ref2.popper,\n      popperRect = _ref2.popperRect,\n      placement = _ref2.placement,\n      variation = _ref2.variation,\n      offsets = _ref2.offsets,\n      position = _ref2.position,\n      gpuAcceleration = _ref2.gpuAcceleration,\n      adaptive = _ref2.adaptive,\n      roundOffsets = _ref2.roundOffsets,\n      isFixed = _ref2.isFixed;\n  var _offsets$x = offsets.x,\n      x = _offsets$x === void 0 ? 0 : _offsets$x,\n      _offsets$y = offsets.y,\n      y = _offsets$y === void 0 ? 0 : _offsets$y;\n\n  var _ref3 = typeof roundOffsets === 'function' ? roundOffsets({\n    x: x,\n    y: y\n  }) : {\n    x: x,\n    y: y\n  };\n\n  x = _ref3.x;\n  y = _ref3.y;\n  var hasX = offsets.hasOwnProperty('x');\n  var hasY = offsets.hasOwnProperty('y');\n  var sideX = left;\n  var sideY = top;\n  var win = window;\n\n  if (adaptive) {\n    var offsetParent = getOffsetParent(popper);\n    var heightProp = 'clientHeight';\n    var widthProp = 'clientWidth';\n\n    if (offsetParent === getWindow(popper)) {\n      offsetParent = getDocumentElement(popper);\n\n      if (getComputedStyle(offsetParent).position !== 'static' && position === 'absolute') {\n        heightProp = 'scrollHeight';\n        widthProp = 'scrollWidth';\n      }\n    } // $FlowFixMe[incompatible-cast]: force type refinement, we compare offsetParent with window above, but Flow doesn't detect it\n\n\n    offsetParent = offsetParent;\n\n    if (placement === top || (placement === left || placement === right) && variation === end) {\n      sideY = bottom;\n      var offsetY = isFixed && offsetParent === win && win.visualViewport ? win.visualViewport.height : // $FlowFixMe[prop-missing]\n      offsetParent[heightProp];\n      y -= offsetY - popperRect.height;\n      y *= gpuAcceleration ? 1 : -1;\n    }\n\n    if (placement === left || (placement === top || placement === bottom) && variation === end) {\n      sideX = right;\n      var offsetX = isFixed && offsetParent === win && win.visualViewport ? win.visualViewport.width : // $FlowFixMe[prop-missing]\n      offsetParent[widthProp];\n      x -= offsetX - popperRect.width;\n      x *= gpuAcceleration ? 1 : -1;\n    }\n  }\n\n  var commonStyles = Object.assign({\n    position: position\n  }, adaptive && unsetSides);\n\n  var _ref4 = roundOffsets === true ? roundOffsetsByDPR({\n    x: x,\n    y: y\n  }, getWindow(popper)) : {\n    x: x,\n    y: y\n  };\n\n  x = _ref4.x;\n  y = _ref4.y;\n\n  if (gpuAcceleration) {\n    var _Object$assign;\n\n    return Object.assign({}, commonStyles, (_Object$assign = {}, _Object$assign[sideY] = hasY ? '0' : '', _Object$assign[sideX] = hasX ? '0' : '', _Object$assign.transform = (win.devicePixelRatio || 1) <= 1 ? \"translate(\" + x + \"px, \" + y + \"px)\" : \"translate3d(\" + x + \"px, \" + y + \"px, 0)\", _Object$assign));\n  }\n\n  return Object.assign({}, commonStyles, (_Object$assign2 = {}, _Object$assign2[sideY] = hasY ? y + \"px\" : '', _Object$assign2[sideX] = hasX ? x + \"px\" : '', _Object$assign2.transform = '', _Object$assign2));\n}\n\nfunction computeStyles(_ref5) {\n  var state = _ref5.state,\n      options = _ref5.options;\n  var _options$gpuAccelerat = options.gpuAcceleration,\n      gpuAcceleration = _options$gpuAccelerat === void 0 ? true : _options$gpuAccelerat,\n      _options$adaptive = options.adaptive,\n      adaptive = _options$adaptive === void 0 ? true : _options$adaptive,\n      _options$roundOffsets = options.roundOffsets,\n      roundOffsets = _options$roundOffsets === void 0 ? true : _options$roundOffsets;\n  var commonStyles = {\n    placement: getBasePlacement(state.placement),\n    variation: getVariation(state.placement),\n    popper: state.elements.popper,\n    popperRect: state.rects.popper,\n    gpuAcceleration: gpuAcceleration,\n    isFixed: state.options.strategy === 'fixed'\n  };\n\n  if (state.modifiersData.popperOffsets != null) {\n    state.styles.popper = Object.assign({}, state.styles.popper, mapToStyles(Object.assign({}, commonStyles, {\n      offsets: state.modifiersData.popperOffsets,\n      position: state.options.strategy,\n      adaptive: adaptive,\n      roundOffsets: roundOffsets\n    })));\n  }\n\n  if (state.modifiersData.arrow != null) {\n    state.styles.arrow = Object.assign({}, state.styles.arrow, mapToStyles(Object.assign({}, commonStyles, {\n      offsets: state.modifiersData.arrow,\n      position: 'absolute',\n      adaptive: false,\n      roundOffsets: roundOffsets\n    })));\n  }\n\n  state.attributes.popper = Object.assign({}, state.attributes.popper, {\n    'data-popper-placement': state.placement\n  });\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'computeStyles',\n  enabled: true,\n  phase: 'beforeWrite',\n  fn: computeStyles,\n  data: {}\n};","import getWindow from \"../dom-utils/getWindow.js\"; // eslint-disable-next-line import/no-unused-modules\n\nvar passive = {\n  passive: true\n};\n\nfunction effect(_ref) {\n  var state = _ref.state,\n      instance = _ref.instance,\n      options = _ref.options;\n  var _options$scroll = options.scroll,\n      scroll = _options$scroll === void 0 ? true : _options$scroll,\n      _options$resize = options.resize,\n      resize = _options$resize === void 0 ? true : _options$resize;\n  var window = getWindow(state.elements.popper);\n  var scrollParents = [].concat(state.scrollParents.reference, state.scrollParents.popper);\n\n  if (scroll) {\n    scrollParents.forEach(function (scrollParent) {\n      scrollParent.addEventListener('scroll', instance.update, passive);\n    });\n  }\n\n  if (resize) {\n    window.addEventListener('resize', instance.update, passive);\n  }\n\n  return function () {\n    if (scroll) {\n      scrollParents.forEach(function (scrollParent) {\n        scrollParent.removeEventListener('scroll', instance.update, passive);\n      });\n    }\n\n    if (resize) {\n      window.removeEventListener('resize', instance.update, passive);\n    }\n  };\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'eventListeners',\n  enabled: true,\n  phase: 'write',\n  fn: function fn() {},\n  effect: effect,\n  data: {}\n};","import getOppositePlacement from \"../utils/getOppositePlacement.js\";\nimport getBasePlacement from \"../utils/getBasePlacement.js\";\nimport getOppositeVariationPlacement from \"../utils/getOppositeVariationPlacement.js\";\nimport detectOverflow from \"../utils/detectOverflow.js\";\nimport computeAutoPlacement from \"../utils/computeAutoPlacement.js\";\nimport { bottom, top, start, right, left, auto } from \"../enums.js\";\nimport getVariation from \"../utils/getVariation.js\"; // eslint-disable-next-line import/no-unused-modules\n\nfunction getExpandedFallbackPlacements(placement) {\n  if (getBasePlacement(placement) === auto) {\n    return [];\n  }\n\n  var oppositePlacement = getOppositePlacement(placement);\n  return [getOppositeVariationPlacement(placement), oppositePlacement, getOppositeVariationPlacement(oppositePlacement)];\n}\n\nfunction flip(_ref) {\n  var state = _ref.state,\n      options = _ref.options,\n      name = _ref.name;\n\n  if (state.modifiersData[name]._skip) {\n    return;\n  }\n\n  var _options$mainAxis = options.mainAxis,\n      checkMainAxis = _options$mainAxis === void 0 ? true : _options$mainAxis,\n      _options$altAxis = options.altAxis,\n      checkAltAxis = _options$altAxis === void 0 ? true : _options$altAxis,\n      specifiedFallbackPlacements = options.fallbackPlacements,\n      padding = options.padding,\n      boundary = options.boundary,\n      rootBoundary = options.rootBoundary,\n      altBoundary = options.altBoundary,\n      _options$flipVariatio = options.flipVariations,\n      flipVariations = _options$flipVariatio === void 0 ? true : _options$flipVariatio,\n      allowedAutoPlacements = options.allowedAutoPlacements;\n  var preferredPlacement = state.options.placement;\n  var basePlacement = getBasePlacement(preferredPlacement);\n  var isBasePlacement = basePlacement === preferredPlacement;\n  var fallbackPlacements = specifiedFallbackPlacements || (isBasePlacement || !flipVariations ? [getOppositePlacement(preferredPlacement)] : getExpandedFallbackPlacements(preferredPlacement));\n  var placements = [preferredPlacement].concat(fallbackPlacements).reduce(function (acc, placement) {\n    return acc.concat(getBasePlacement(placement) === auto ? computeAutoPlacement(state, {\n      placement: placement,\n      boundary: boundary,\n      rootBoundary: rootBoundary,\n      padding: padding,\n      flipVariations: flipVariations,\n      allowedAutoPlacements: allowedAutoPlacements\n    }) : placement);\n  }, []);\n  var referenceRect = state.rects.reference;\n  var popperRect = state.rects.popper;\n  var checksMap = new Map();\n  var makeFallbackChecks = true;\n  var firstFittingPlacement = placements[0];\n\n  for (var i = 0; i < placements.length; i++) {\n    var placement = placements[i];\n\n    var _basePlacement = getBasePlacement(placement);\n\n    var isStartVariation = getVariation(placement) === start;\n    var isVertical = [top, bottom].indexOf(_basePlacement) >= 0;\n    var len = isVertical ? 'width' : 'height';\n    var overflow = detectOverflow(state, {\n      placement: placement,\n      boundary: boundary,\n      rootBoundary: rootBoundary,\n      altBoundary: altBoundary,\n      padding: padding\n    });\n    var mainVariationSide = isVertical ? isStartVariation ? right : left : isStartVariation ? bottom : top;\n\n    if (referenceRect[len] > popperRect[len]) {\n      mainVariationSide = getOppositePlacement(mainVariationSide);\n    }\n\n    var altVariationSide = getOppositePlacement(mainVariationSide);\n    var checks = [];\n\n    if (checkMainAxis) {\n      checks.push(overflow[_basePlacement] <= 0);\n    }\n\n    if (checkAltAxis) {\n      checks.push(overflow[mainVariationSide] <= 0, overflow[altVariationSide] <= 0);\n    }\n\n    if (checks.every(function (check) {\n      return check;\n    })) {\n      firstFittingPlacement = placement;\n      makeFallbackChecks = false;\n      break;\n    }\n\n    checksMap.set(placement, checks);\n  }\n\n  if (makeFallbackChecks) {\n    // `2` may be desired in some cases – research later\n    var numberOfChecks = flipVariations ? 3 : 1;\n\n    var _loop = function _loop(_i) {\n      var fittingPlacement = placements.find(function (placement) {\n        var checks = checksMap.get(placement);\n\n        if (checks) {\n          return checks.slice(0, _i).every(function (check) {\n            return check;\n          });\n        }\n      });\n\n      if (fittingPlacement) {\n        firstFittingPlacement = fittingPlacement;\n        return \"break\";\n      }\n    };\n\n    for (var _i = numberOfChecks; _i > 0; _i--) {\n      var _ret = _loop(_i);\n\n      if (_ret === \"break\") break;\n    }\n  }\n\n  if (state.placement !== firstFittingPlacement) {\n    state.modifiersData[name]._skip = true;\n    state.placement = firstFittingPlacement;\n    state.reset = true;\n  }\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'flip',\n  enabled: true,\n  phase: 'main',\n  fn: flip,\n  requiresIfExists: ['offset'],\n  data: {\n    _skip: false\n  }\n};","import { top, bottom, left, right } from \"../enums.js\";\nimport detectOverflow from \"../utils/detectOverflow.js\";\n\nfunction getSideOffsets(overflow, rect, preventedOffsets) {\n  if (preventedOffsets === void 0) {\n    preventedOffsets = {\n      x: 0,\n      y: 0\n    };\n  }\n\n  return {\n    top: overflow.top - rect.height - preventedOffsets.y,\n    right: overflow.right - rect.width + preventedOffsets.x,\n    bottom: overflow.bottom - rect.height + preventedOffsets.y,\n    left: overflow.left - rect.width - preventedOffsets.x\n  };\n}\n\nfunction isAnySideFullyClipped(overflow) {\n  return [top, right, bottom, left].some(function (side) {\n    return overflow[side] >= 0;\n  });\n}\n\nfunction hide(_ref) {\n  var state = _ref.state,\n      name = _ref.name;\n  var referenceRect = state.rects.reference;\n  var popperRect = state.rects.popper;\n  var preventedOffsets = state.modifiersData.preventOverflow;\n  var referenceOverflow = detectOverflow(state, {\n    elementContext: 'reference'\n  });\n  var popperAltOverflow = detectOverflow(state, {\n    altBoundary: true\n  });\n  var referenceClippingOffsets = getSideOffsets(referenceOverflow, referenceRect);\n  var popperEscapeOffsets = getSideOffsets(popperAltOverflow, popperRect, preventedOffsets);\n  var isReferenceHidden = isAnySideFullyClipped(referenceClippingOffsets);\n  var hasPopperEscaped = isAnySideFullyClipped(popperEscapeOffsets);\n  state.modifiersData[name] = {\n    referenceClippingOffsets: referenceClippingOffsets,\n    popperEscapeOffsets: popperEscapeOffsets,\n    isReferenceHidden: isReferenceHidden,\n    hasPopperEscaped: hasPopperEscaped\n  };\n  state.attributes.popper = Object.assign({}, state.attributes.popper, {\n    'data-popper-reference-hidden': isReferenceHidden,\n    'data-popper-escaped': hasPopperEscaped\n  });\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'hide',\n  enabled: true,\n  phase: 'main',\n  requiresIfExists: ['preventOverflow'],\n  fn: hide\n};","import getBasePlacement from \"../utils/getBasePlacement.js\";\nimport { top, left, right, placements } from \"../enums.js\"; // eslint-disable-next-line import/no-unused-modules\n\nexport function distanceAndSkiddingToXY(placement, rects, offset) {\n  var basePlacement = getBasePlacement(placement);\n  var invertDistance = [left, top].indexOf(basePlacement) >= 0 ? -1 : 1;\n\n  var _ref = typeof offset === 'function' ? offset(Object.assign({}, rects, {\n    placement: placement\n  })) : offset,\n      skidding = _ref[0],\n      distance = _ref[1];\n\n  skidding = skidding || 0;\n  distance = (distance || 0) * invertDistance;\n  return [left, right].indexOf(basePlacement) >= 0 ? {\n    x: distance,\n    y: skidding\n  } : {\n    x: skidding,\n    y: distance\n  };\n}\n\nfunction offset(_ref2) {\n  var state = _ref2.state,\n      options = _ref2.options,\n      name = _ref2.name;\n  var _options$offset = options.offset,\n      offset = _options$offset === void 0 ? [0, 0] : _options$offset;\n  var data = placements.reduce(function (acc, placement) {\n    acc[placement] = distanceAndSkiddingToXY(placement, state.rects, offset);\n    return acc;\n  }, {});\n  var _data$state$placement = data[state.placement],\n      x = _data$state$placement.x,\n      y = _data$state$placement.y;\n\n  if (state.modifiersData.popperOffsets != null) {\n    state.modifiersData.popperOffsets.x += x;\n    state.modifiersData.popperOffsets.y += y;\n  }\n\n  state.modifiersData[name] = data;\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'offset',\n  enabled: true,\n  phase: 'main',\n  requires: ['popperOffsets'],\n  fn: offset\n};","import computeOffsets from \"../utils/computeOffsets.js\";\n\nfunction popperOffsets(_ref) {\n  var state = _ref.state,\n      name = _ref.name;\n  // Offsets are the actual position the popper needs to have to be\n  // properly positioned near its reference element\n  // This is the most basic placement, and will be adjusted by\n  // the modifiers in the next step\n  state.modifiersData[name] = computeOffsets({\n    reference: state.rects.reference,\n    element: state.rects.popper,\n    strategy: 'absolute',\n    placement: state.placement\n  });\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'popperOffsets',\n  enabled: true,\n  phase: 'read',\n  fn: popperOffsets,\n  data: {}\n};","import { top, left, right, bottom, start } from \"../enums.js\";\nimport getBasePlacement from \"../utils/getBasePlacement.js\";\nimport getMainAxisFromPlacement from \"../utils/getMainAxisFromPlacement.js\";\nimport getAltAxis from \"../utils/getAltAxis.js\";\nimport { within, withinMaxClamp } from \"../utils/within.js\";\nimport getLayoutRect from \"../dom-utils/getLayoutRect.js\";\nimport getOffsetParent from \"../dom-utils/getOffsetParent.js\";\nimport detectOverflow from \"../utils/detectOverflow.js\";\nimport getVariation from \"../utils/getVariation.js\";\nimport getFreshSideObject from \"../utils/getFreshSideObject.js\";\nimport { min as mathMin, max as mathMax } from \"../utils/math.js\";\n\nfunction preventOverflow(_ref) {\n  var state = _ref.state,\n      options = _ref.options,\n      name = _ref.name;\n  var _options$mainAxis = options.mainAxis,\n      checkMainAxis = _options$mainAxis === void 0 ? true : _options$mainAxis,\n      _options$altAxis = options.altAxis,\n      checkAltAxis = _options$altAxis === void 0 ? false : _options$altAxis,\n      boundary = options.boundary,\n      rootBoundary = options.rootBoundary,\n      altBoundary = options.altBoundary,\n      padding = options.padding,\n      _options$tether = options.tether,\n      tether = _options$tether === void 0 ? true : _options$tether,\n      _options$tetherOffset = options.tetherOffset,\n      tetherOffset = _options$tetherOffset === void 0 ? 0 : _options$tetherOffset;\n  var overflow = detectOverflow(state, {\n    boundary: boundary,\n    rootBoundary: rootBoundary,\n    padding: padding,\n    altBoundary: altBoundary\n  });\n  var basePlacement = getBasePlacement(state.placement);\n  var variation = getVariation(state.placement);\n  var isBasePlacement = !variation;\n  var mainAxis = getMainAxisFromPlacement(basePlacement);\n  var altAxis = getAltAxis(mainAxis);\n  var popperOffsets = state.modifiersData.popperOffsets;\n  var referenceRect = state.rects.reference;\n  var popperRect = state.rects.popper;\n  var tetherOffsetValue = typeof tetherOffset === 'function' ? tetherOffset(Object.assign({}, state.rects, {\n    placement: state.placement\n  })) : tetherOffset;\n  var normalizedTetherOffsetValue = typeof tetherOffsetValue === 'number' ? {\n    mainAxis: tetherOffsetValue,\n    altAxis: tetherOffsetValue\n  } : Object.assign({\n    mainAxis: 0,\n    altAxis: 0\n  }, tetherOffsetValue);\n  var offsetModifierState = state.modifiersData.offset ? state.modifiersData.offset[state.placement] : null;\n  var data = {\n    x: 0,\n    y: 0\n  };\n\n  if (!popperOffsets) {\n    return;\n  }\n\n  if (checkMainAxis) {\n    var _offsetModifierState$;\n\n    var mainSide = mainAxis === 'y' ? top : left;\n    var altSide = mainAxis === 'y' ? bottom : right;\n    var len = mainAxis === 'y' ? 'height' : 'width';\n    var offset = popperOffsets[mainAxis];\n    var min = offset + overflow[mainSide];\n    var max = offset - overflow[altSide];\n    var additive = tether ? -popperRect[len] / 2 : 0;\n    var minLen = variation === start ? referenceRect[len] : popperRect[len];\n    var maxLen = variation === start ? -popperRect[len] : -referenceRect[len]; // We need to include the arrow in the calculation so the arrow doesn't go\n    // outside the reference bounds\n\n    var arrowElement = state.elements.arrow;\n    var arrowRect = tether && arrowElement ? getLayoutRect(arrowElement) : {\n      width: 0,\n      height: 0\n    };\n    var arrowPaddingObject = state.modifiersData['arrow#persistent'] ? state.modifiersData['arrow#persistent'].padding : getFreshSideObject();\n    var arrowPaddingMin = arrowPaddingObject[mainSide];\n    var arrowPaddingMax = arrowPaddingObject[altSide]; // If the reference length is smaller than the arrow length, we don't want\n    // to include its full size in the calculation. If the reference is small\n    // and near the edge of a boundary, the popper can overflow even if the\n    // reference is not overflowing as well (e.g. virtual elements with no\n    // width or height)\n\n    var arrowLen = within(0, referenceRect[len], arrowRect[len]);\n    var minOffset = isBasePlacement ? referenceRect[len] / 2 - additive - arrowLen - arrowPaddingMin - normalizedTetherOffsetValue.mainAxis : minLen - arrowLen - arrowPaddingMin - normalizedTetherOffsetValue.mainAxis;\n    var maxOffset = isBasePlacement ? -referenceRect[len] / 2 + additive + arrowLen + arrowPaddingMax + normalizedTetherOffsetValue.mainAxis : maxLen + arrowLen + arrowPaddingMax + normalizedTetherOffsetValue.mainAxis;\n    var arrowOffsetParent = state.elements.arrow && getOffsetParent(state.elements.arrow);\n    var clientOffset = arrowOffsetParent ? mainAxis === 'y' ? arrowOffsetParent.clientTop || 0 : arrowOffsetParent.clientLeft || 0 : 0;\n    var offsetModifierValue = (_offsetModifierState$ = offsetModifierState == null ? void 0 : offsetModifierState[mainAxis]) != null ? _offsetModifierState$ : 0;\n    var tetherMin = offset + minOffset - offsetModifierValue - clientOffset;\n    var tetherMax = offset + maxOffset - offsetModifierValue;\n    var preventedOffset = within(tether ? mathMin(min, tetherMin) : min, offset, tether ? mathMax(max, tetherMax) : max);\n    popperOffsets[mainAxis] = preventedOffset;\n    data[mainAxis] = preventedOffset - offset;\n  }\n\n  if (checkAltAxis) {\n    var _offsetModifierState$2;\n\n    var _mainSide = mainAxis === 'x' ? top : left;\n\n    var _altSide = mainAxis === 'x' ? bottom : right;\n\n    var _offset = popperOffsets[altAxis];\n\n    var _len = altAxis === 'y' ? 'height' : 'width';\n\n    var _min = _offset + overflow[_mainSide];\n\n    var _max = _offset - overflow[_altSide];\n\n    var isOriginSide = [top, left].indexOf(basePlacement) !== -1;\n\n    var _offsetModifierValue = (_offsetModifierState$2 = offsetModifierState == null ? void 0 : offsetModifierState[altAxis]) != null ? _offsetModifierState$2 : 0;\n\n    var _tetherMin = isOriginSide ? _min : _offset - referenceRect[_len] - popperRect[_len] - _offsetModifierValue + normalizedTetherOffsetValue.altAxis;\n\n    var _tetherMax = isOriginSide ? _offset + referenceRect[_len] + popperRect[_len] - _offsetModifierValue - normalizedTetherOffsetValue.altAxis : _max;\n\n    var _preventedOffset = tether && isOriginSide ? withinMaxClamp(_tetherMin, _offset, _tetherMax) : within(tether ? _tetherMin : _min, _offset, tether ? _tetherMax : _max);\n\n    popperOffsets[altAxis] = _preventedOffset;\n    data[altAxis] = _preventedOffset - _offset;\n  }\n\n  state.modifiersData[name] = data;\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'preventOverflow',\n  enabled: true,\n  phase: 'main',\n  fn: preventOverflow,\n  requiresIfExists: ['offset']\n};","import { popperGenerator, detectOverflow } from \"./createPopper.js\";\nimport eventListeners from \"./modifiers/eventListeners.js\";\nimport popperOffsets from \"./modifiers/popperOffsets.js\";\nimport computeStyles from \"./modifiers/computeStyles.js\";\nimport applyStyles from \"./modifiers/applyStyles.js\";\nvar defaultModifiers = [eventListeners, popperOffsets, computeStyles, applyStyles];\nvar createPopper = /*#__PURE__*/popperGenerator({\n  defaultModifiers: defaultModifiers\n}); // eslint-disable-next-line import/no-unused-modules\n\nexport { createPopper, popperGenerator, defaultModifiers, detectOverflow };","import { popperGenerator, detectOverflow } from \"./createPopper.js\";\nimport eventListeners from \"./modifiers/eventListeners.js\";\nimport popperOffsets from \"./modifiers/popperOffsets.js\";\nimport computeStyles from \"./modifiers/computeStyles.js\";\nimport applyStyles from \"./modifiers/applyStyles.js\";\nimport offset from \"./modifiers/offset.js\";\nimport flip from \"./modifiers/flip.js\";\nimport preventOverflow from \"./modifiers/preventOverflow.js\";\nimport arrow from \"./modifiers/arrow.js\";\nimport hide from \"./modifiers/hide.js\";\nvar defaultModifiers = [eventListeners, popperOffsets, computeStyles, applyStyles, offset, flip, preventOverflow, arrow, hide];\nvar createPopper = /*#__PURE__*/popperGenerator({\n  defaultModifiers: defaultModifiers\n}); // eslint-disable-next-line import/no-unused-modules\n\nexport { createPopper, popperGenerator, defaultModifiers, detectOverflow }; // eslint-disable-next-line import/no-unused-modules\n\nexport { createPopper as createPopperLite } from \"./popper-lite.js\"; // eslint-disable-next-line import/no-unused-modules\n\nexport * from \"./modifiers/index.js\";","import getVariation from \"./getVariation.js\";\nimport { variationPlacements, basePlacements, placements as allPlacements } from \"../enums.js\";\nimport detectOverflow from \"./detectOverflow.js\";\nimport getBasePlacement from \"./getBasePlacement.js\";\nexport default function computeAutoPlacement(state, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var _options = options,\n      placement = _options.placement,\n      boundary = _options.boundary,\n      rootBoundary = _options.rootBoundary,\n      padding = _options.padding,\n      flipVariations = _options.flipVariations,\n      _options$allowedAutoP = _options.allowedAutoPlacements,\n      allowedAutoPlacements = _options$allowedAutoP === void 0 ? allPlacements : _options$allowedAutoP;\n  var variation = getVariation(placement);\n  var placements = variation ? flipVariations ? variationPlacements : variationPlacements.filter(function (placement) {\n    return getVariation(placement) === variation;\n  }) : basePlacements;\n  var allowedPlacements = placements.filter(function (placement) {\n    return allowedAutoPlacements.indexOf(placement) >= 0;\n  });\n\n  if (allowedPlacements.length === 0) {\n    allowedPlacements = placements;\n  } // $FlowFixMe[incompatible-type]: Flow seems to have problems with two array unions...\n\n\n  var overflows = allowedPlacements.reduce(function (acc, placement) {\n    acc[placement] = detectOverflow(state, {\n      placement: placement,\n      boundary: boundary,\n      rootBoundary: rootBoundary,\n      padding: padding\n    })[getBasePlacement(placement)];\n    return acc;\n  }, {});\n  return Object.keys(overflows).sort(function (a, b) {\n    return overflows[a] - overflows[b];\n  });\n}","import getBasePlacement from \"./getBasePlacement.js\";\nimport getVariation from \"./getVariation.js\";\nimport getMainAxisFromPlacement from \"./getMainAxisFromPlacement.js\";\nimport { top, right, bottom, left, start, end } from \"../enums.js\";\nexport default function computeOffsets(_ref) {\n  var reference = _ref.reference,\n      element = _ref.element,\n      placement = _ref.placement;\n  var basePlacement = placement ? getBasePlacement(placement) : null;\n  var variation = placement ? getVariation(placement) : null;\n  var commonX = reference.x + reference.width / 2 - element.width / 2;\n  var commonY = reference.y + reference.height / 2 - element.height / 2;\n  var offsets;\n\n  switch (basePlacement) {\n    case top:\n      offsets = {\n        x: commonX,\n        y: reference.y - element.height\n      };\n      break;\n\n    case bottom:\n      offsets = {\n        x: commonX,\n        y: reference.y + reference.height\n      };\n      break;\n\n    case right:\n      offsets = {\n        x: reference.x + reference.width,\n        y: commonY\n      };\n      break;\n\n    case left:\n      offsets = {\n        x: reference.x - element.width,\n        y: commonY\n      };\n      break;\n\n    default:\n      offsets = {\n        x: reference.x,\n        y: reference.y\n      };\n  }\n\n  var mainAxis = basePlacement ? getMainAxisFromPlacement(basePlacement) : null;\n\n  if (mainAxis != null) {\n    var len = mainAxis === 'y' ? 'height' : 'width';\n\n    switch (variation) {\n      case start:\n        offsets[mainAxis] = offsets[mainAxis] - (reference[len] / 2 - element[len] / 2);\n        break;\n\n      case end:\n        offsets[mainAxis] = offsets[mainAxis] + (reference[len] / 2 - element[len] / 2);\n        break;\n\n      default:\n    }\n  }\n\n  return offsets;\n}","export default function debounce(fn) {\n  var pending;\n  return function () {\n    if (!pending) {\n      pending = new Promise(function (resolve) {\n        Promise.resolve().then(function () {\n          pending = undefined;\n          resolve(fn());\n        });\n      });\n    }\n\n    return pending;\n  };\n}","import getClippingRect from \"../dom-utils/getClippingRect.js\";\nimport getDocumentElement from \"../dom-utils/getDocumentElement.js\";\nimport getBoundingClientRect from \"../dom-utils/getBoundingClientRect.js\";\nimport computeOffsets from \"./computeOffsets.js\";\nimport rectToClientRect from \"./rectToClientRect.js\";\nimport { clippingParents, reference, popper, bottom, top, right, basePlacements, viewport } from \"../enums.js\";\nimport { isElement } from \"../dom-utils/instanceOf.js\";\nimport mergePaddingObject from \"./mergePaddingObject.js\";\nimport expandToHashMap from \"./expandToHashMap.js\"; // eslint-disable-next-line import/no-unused-modules\n\nexport default function detectOverflow(state, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var _options = options,\n      _options$placement = _options.placement,\n      placement = _options$placement === void 0 ? state.placement : _options$placement,\n      _options$strategy = _options.strategy,\n      strategy = _options$strategy === void 0 ? state.strategy : _options$strategy,\n      _options$boundary = _options.boundary,\n      boundary = _options$boundary === void 0 ? clippingParents : _options$boundary,\n      _options$rootBoundary = _options.rootBoundary,\n      rootBoundary = _options$rootBoundary === void 0 ? viewport : _options$rootBoundary,\n      _options$elementConte = _options.elementContext,\n      elementContext = _options$elementConte === void 0 ? popper : _options$elementConte,\n      _options$altBoundary = _options.altBoundary,\n      altBoundary = _options$altBoundary === void 0 ? false : _options$altBoundary,\n      _options$padding = _options.padding,\n      padding = _options$padding === void 0 ? 0 : _options$padding;\n  var paddingObject = mergePaddingObject(typeof padding !== 'number' ? padding : expandToHashMap(padding, basePlacements));\n  var altContext = elementContext === popper ? reference : popper;\n  var popperRect = state.rects.popper;\n  var element = state.elements[altBoundary ? altContext : elementContext];\n  var clippingClientRect = getClippingRect(isElement(element) ? element : element.contextElement || getDocumentElement(state.elements.popper), boundary, rootBoundary, strategy);\n  var referenceClientRect = getBoundingClientRect(state.elements.reference);\n  var popperOffsets = computeOffsets({\n    reference: referenceClientRect,\n    element: popperRect,\n    strategy: 'absolute',\n    placement: placement\n  });\n  var popperClientRect = rectToClientRect(Object.assign({}, popperRect, popperOffsets));\n  var elementClientRect = elementContext === popper ? popperClientRect : referenceClientRect; // positive = overflowing the clipping rect\n  // 0 or negative = within the clipping rect\n\n  var overflowOffsets = {\n    top: clippingClientRect.top - elementClientRect.top + paddingObject.top,\n    bottom: elementClientRect.bottom - clippingClientRect.bottom + paddingObject.bottom,\n    left: clippingClientRect.left - elementClientRect.left + paddingObject.left,\n    right: elementClientRect.right - clippingClientRect.right + paddingObject.right\n  };\n  var offsetData = state.modifiersData.offset; // Offsets can be applied only to the popper element\n\n  if (elementContext === popper && offsetData) {\n    var offset = offsetData[placement];\n    Object.keys(overflowOffsets).forEach(function (key) {\n      var multiply = [right, bottom].indexOf(key) >= 0 ? 1 : -1;\n      var axis = [top, bottom].indexOf(key) >= 0 ? 'y' : 'x';\n      overflowOffsets[key] += offset[axis] * multiply;\n    });\n  }\n\n  return overflowOffsets;\n}","export default function expandToHashMap(value, keys) {\n  return keys.reduce(function (hashMap, key) {\n    hashMap[key] = value;\n    return hashMap;\n  }, {});\n}","export default function getAltAxis(axis) {\n  return axis === 'x' ? 'y' : 'x';\n}","import { auto } from \"../enums.js\";\nexport default function getBasePlacement(placement) {\n  return placement.split('-')[0];\n}","export default function getFreshSideObject() {\n  return {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0\n  };\n}","export default function getMainAxisFromPlacement(placement) {\n  return ['top', 'bottom'].indexOf(placement) >= 0 ? 'x' : 'y';\n}","var hash = {\n  left: 'right',\n  right: 'left',\n  bottom: 'top',\n  top: 'bottom'\n};\nexport default function getOppositePlacement(placement) {\n  return placement.replace(/left|right|bottom|top/g, function (matched) {\n    return hash[matched];\n  });\n}","var hash = {\n  start: 'end',\n  end: 'start'\n};\nexport default function getOppositeVariationPlacement(placement) {\n  return placement.replace(/start|end/g, function (matched) {\n    return hash[matched];\n  });\n}","export default function getVariation(placement) {\n  return placement.split('-')[1];\n}","export var max = Math.max;\nexport var min = Math.min;\nexport var round = Math.round;","export default function mergeByName(modifiers) {\n  var merged = modifiers.reduce(function (merged, current) {\n    var existing = merged[current.name];\n    merged[current.name] = existing ? Object.assign({}, existing, current, {\n      options: Object.assign({}, existing.options, current.options),\n      data: Object.assign({}, existing.data, current.data)\n    }) : current;\n    return merged;\n  }, {}); // IE11 does not support Object.values\n\n  return Object.keys(merged).map(function (key) {\n    return merged[key];\n  });\n}","import getFreshSideObject from \"./getFreshSideObject.js\";\nexport default function mergePaddingObject(paddingObject) {\n  return Object.assign({}, getFreshSideObject(), paddingObject);\n}","import { modifierPhases } from \"../enums.js\"; // source: https://stackoverflow.com/questions/49875255\n\nfunction order(modifiers) {\n  var map = new Map();\n  var visited = new Set();\n  var result = [];\n  modifiers.forEach(function (modifier) {\n    map.set(modifier.name, modifier);\n  }); // On visiting object, check for its dependencies and visit them recursively\n\n  function sort(modifier) {\n    visited.add(modifier.name);\n    var requires = [].concat(modifier.requires || [], modifier.requiresIfExists || []);\n    requires.forEach(function (dep) {\n      if (!visited.has(dep)) {\n        var depModifier = map.get(dep);\n\n        if (depModifier) {\n          sort(depModifier);\n        }\n      }\n    });\n    result.push(modifier);\n  }\n\n  modifiers.forEach(function (modifier) {\n    if (!visited.has(modifier.name)) {\n      // check for visited object\n      sort(modifier);\n    }\n  });\n  return result;\n}\n\nexport default function orderModifiers(modifiers) {\n  // order based on dependencies\n  var orderedModifiers = order(modifiers); // order based on phase\n\n  return modifierPhases.reduce(function (acc, phase) {\n    return acc.concat(orderedModifiers.filter(function (modifier) {\n      return modifier.phase === phase;\n    }));\n  }, []);\n}","export default function rectToClientRect(rect) {\n  return Object.assign({}, rect, {\n    left: rect.x,\n    top: rect.y,\n    right: rect.x + rect.width,\n    bottom: rect.y + rect.height\n  });\n}","export default function getUAString() {\n  var uaData = navigator.userAgentData;\n\n  if (uaData != null && uaData.brands && Array.isArray(uaData.brands)) {\n    return uaData.brands.map(function (item) {\n      return item.brand + \"/\" + item.version;\n    }).join(' ');\n  }\n\n  return navigator.userAgent;\n}","import { max as mathMax, min as mathMin } from \"./math.js\";\nexport function within(min, value, max) {\n  return mathMax(min, mathMin(value, max));\n}\nexport function withinMaxClamp(min, value, max) {\n  var v = within(min, value, max);\n  return v > max ? max : v;\n}","import KTData from '../../helpers/data';\nimport KTDom from '../../helpers/dom';\nimport KTEventHandler from '../../helpers/event-handler';\nimport KTComponent from '../component';\nimport { KTAccordionInterface, KTAccordionConfigInterface } from './types';\n\nexport class KTAccordion extends KTComponent implements KTAccordionInterface {\n\tprotected override _name: string = 'accordion';\n\tprotected override _defaultConfig: KTAccordionConfigInterface = {\n\t\thiddenClass: 'hidden',\n\t\tactiveClass: 'active',\n\t\texpandAll: false,\n\t};\n\tprotected override _config: KTAccordionConfigInterface = this._defaultConfig;\n\tprotected _accordionElements: NodeListOf<HTMLElement>;\n\n\tconstructor(element: HTMLElement, config?: KTAccordionConfigInterface) {\n\t\tsuper();\n\n\t\tif (KTData.has(element as HTMLElement, this._name)) return;\n\n\t\tthis._init(element);\n\t\tthis._buildConfig(config);\n\t\tthis._handlers();\n\t}\n\n\tprotected _handlers(): void {\n\t\tKTEventHandler.on(\n\t\t\tthis._element,\n\t\t\t'[data-kt-accordion-toggle]',\n\t\t\t'click',\n\t\t\t(event: Event, target: HTMLElement) => {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tconst accordionElement = target.closest(\n\t\t\t\t\t'[data-kt-accordion-item]'\n\t\t\t\t) as HTMLElement;\n\n\t\t\t\tif (accordionElement) this._toggle(accordionElement);\n\t\t\t}\n\t\t);\n\t}\n\n\tprotected _toggle(accordionElement: HTMLElement): void {\n\t\tconst payload = { cancel: false };\n\t\tthis._fireEvent('toggle', payload);\n\t\tthis._dispatchEvent('toggle', payload);\n\t\tif (payload.cancel === true) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (accordionElement.classList.contains('active')) {\n\t\t\tthis._hide(accordionElement);\n\t\t} else {\n\t\t\tthis._show(accordionElement);\n\t\t}\n\t}\n\n\tprotected _show(accordionElement: HTMLElement): void {\n\t\tif (\n\t\t\taccordionElement.hasAttribute('animating') ||\n\t\t\taccordionElement.classList.contains(\n\t\t\t\tthis._getOption('activeClass') as string\n\t\t\t)\n\t\t)\n\t\t\treturn;\n\n\t\tconst toggleElement = KTDom.child(\n\t\t\taccordionElement,\n\t\t\t'[data-kt-accordion-toggle]'\n\t\t);\n\t\tif (!toggleElement) return;\n\n\t\tconst contentElement = KTDom.getElement(\n\t\t\t`#${toggleElement.getAttribute('aria-controls')}`\n\t\t);\n\t\tif (!contentElement) return;\n\n\t\tconst payload = { cancel: false };\n\t\tthis._fireEvent('show', payload);\n\t\tthis._dispatchEvent('show', payload);\n\t\tif (payload.cancel === true) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ((this._getOption('expandAll') as boolean) === false) {\n\t\t\tthis._hideSiblings(accordionElement);\n\t\t}\n\n\t\taccordionElement.setAttribute('aria-expanded', 'true');\n\t\taccordionElement.classList.add(this._getOption('activeClass') as string);\n\n\t\taccordionElement.setAttribute('animating', 'true');\n\t\tcontentElement.classList.remove(this._getOption('hiddenClass') as string);\n\t\tcontentElement.style.height = `0px`;\n\t\tKTDom.reflow(contentElement);\n\t\tcontentElement.style.height = `${contentElement.scrollHeight}px`;\n\n\t\tKTDom.transitionEnd(contentElement, () => {\n\t\t\taccordionElement.removeAttribute('animating');\n\t\t\tcontentElement.style.height = '';\n\n\t\t\tthis._fireEvent('shown');\n\t\t\tthis._dispatchEvent('shown');\n\t\t});\n\t}\n\n\tprotected _hide(accordionElement: HTMLElement): void {\n\t\tif (\n\t\t\taccordionElement.hasAttribute('animating') ||\n\t\t\t!accordionElement.classList.contains(\n\t\t\t\tthis._getOption('activeClass') as string\n\t\t\t)\n\t\t)\n\t\t\treturn;\n\n\t\tconst toggleElement = KTDom.child(\n\t\t\taccordionElement,\n\t\t\t'[data-kt-accordion-toggle]'\n\t\t);\n\t\tif (!toggleElement) return;\n\n\t\tconst contentElement = KTDom.getElement(\n\t\t\t`#${toggleElement.getAttribute('aria-controls')}`\n\t\t);\n\t\tif (!contentElement) return;\n\n\t\tconst payload = { cancel: false };\n\t\tthis._fireEvent('hide', payload);\n\t\tthis._dispatchEvent('hide', payload);\n\t\tif (payload.cancel === true) {\n\t\t\treturn;\n\t\t}\n\n\t\taccordionElement.setAttribute('aria-expanded', 'false');\n\n\t\tcontentElement.style.height = `${contentElement.scrollHeight}px`;\n\t\tKTDom.reflow(contentElement);\n\t\tcontentElement.style.height = '0px';\n\t\taccordionElement.setAttribute('animating', 'true');\n\n\t\tKTDom.transitionEnd(contentElement, () => {\n\t\t\taccordionElement.removeAttribute('animating');\n\t\t\taccordionElement.classList.remove(\n\t\t\t\tthis._getOption('activeClass') as string\n\t\t\t);\n\t\t\tcontentElement.classList.add(this._getOption('hiddenClass') as string);\n\n\t\t\tthis._fireEvent('hidden');\n\t\t\tthis._dispatchEvent('hidden');\n\t\t});\n\t}\n\n\tprotected _hideSiblings(accordionElement: HTMLElement): void {\n\t\tconst siblings = KTDom.siblings(accordionElement);\n\n\t\tsiblings?.forEach((sibling) => {\n\t\t\tthis._hide(sibling as HTMLElement);\n\t\t});\n\t}\n\n\tpublic show(accordionElement: HTMLElement): void {\n\t\tthis._show(accordionElement);\n\t}\n\n\tpublic hide(accordionElement: HTMLElement): void {\n\t\tthis._hide(accordionElement);\n\t}\n\n\tpublic toggle(accordionElement: HTMLElement): void {\n\t\tthis._toggle(accordionElement);\n\t}\n\n\tpublic static getInstance(element: HTMLElement): KTAccordion {\n\t\tif (!element) return null;\n\n\t\tif (KTData.has(element, 'accordion')) {\n\t\t\treturn KTData.get(element, 'accordion') as KTAccordion;\n\t\t}\n\n\t\tif (element.getAttribute('data-kt-accordion-initialized') === 'true') {\n\t\t\treturn new KTAccordion(element);\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tpublic static getOrCreateInstance(\n\t\telement: HTMLElement,\n\t\tconfig?: KTAccordionConfigInterface\n\t): KTAccordion {\n\t\treturn this.getInstance(element) || new KTAccordion(element, config);\n\t}\n\n\tpublic static createInstances(): void {\n\t\tconst elements = document.querySelectorAll('[data-kt-accordion]');\n\n\t\telements.forEach((element) => {\n\t\t\tnew KTAccordion(element as HTMLElement);\n\t\t});\n\t}\n\n\tpublic static init(): void {\n\t\tKTAccordion.createInstances();\n\t}\n}\n\nif (typeof window !== 'undefined') {\n\twindow.KTAccordion = KTAccordion;\n}\n","export { KTAccordion } from './accordion';\nexport type { KTAccordionConfigInterface, KTAccordionInterface } from './types';\n","/* eslint-disable max-len */\n/* eslint-disable require-jsdoc */\n\nimport KTData from '../../helpers/data';\nimport KTDom from '../../helpers/dom';\nimport KTComponent from '../component';\nimport { KTCollapseInterface, KTCollapseConfigInterface } from './types';\n\nexport class KTCollapse extends KTComponent implements KTCollapseInterface {\n\tprotected override _name: string = 'collapse';\n\tprotected override _defaultConfig: KTCollapseConfigInterface = {\n\t\thiddenClass: 'hidden',\n\t\tactiveClass: 'active',\n\t\ttarget: '',\n\t};\n\tprotected override _config: KTCollapseConfigInterface = this._defaultConfig;\n\tprotected _isAnimating: boolean = false;\n\tprotected _targetElement: HTMLElement;\n\n\tconstructor(element: HTMLElement, config?: KTCollapseConfigInterface) {\n\t\tsuper();\n\n\t\tif (KTData.has(element as HTMLElement, this._name)) return;\n\n\t\tthis._init(element);\n\t\tthis._buildConfig(config);\n\n\t\tthis._targetElement = this._getTargetElement();\n\t\tif (!this._targetElement) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._handlers();\n\t}\n\n\tprivate _getTargetElement(): HTMLElement | null {\n\t\treturn (\n\t\t\tKTDom.getElement(\n\t\t\t\tthis._element.getAttribute('data-kt-collapse') as string\n\t\t\t) || KTDom.getElement(this._getOption('target') as string)\n\t\t);\n\t}\n\n\tprotected _isOpen(): boolean {\n\t\treturn this._targetElement.classList.contains(\n\t\t\tthis._getOption('activeClass') as string\n\t\t);\n\t}\n\n\tprotected _handlers(): void {\n\t\tthis._element.addEventListener('click', (event: Event) => {\n\t\t\tevent.preventDefault();\n\n\t\t\tthis._toggle();\n\t\t});\n\t}\n\n\tprotected _expand(): void {\n\t\tif (this._isAnimating || this._isOpen()) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst payload = { cancel: false };\n\t\tthis._fireEvent('expand', payload);\n\t\tthis._dispatchEvent('expand', payload);\n\t\tif (payload.cancel === true) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (this._element) {\n\t\t\tthis._element.setAttribute('aria-expanded', 'true');\n\t\t\tthis._element.classList.add(this._getOption('activeClass') as string);\n\t\t}\n\t\tthis._targetElement.classList.remove(\n\t\t\tthis._getOption('hiddenClass') as string\n\t\t);\n\t\tthis._targetElement.classList.add(this._getOption('activeClass') as string);\n\n\t\tthis._targetElement.style.height = '0px';\n\t\tthis._targetElement.style.overflow = 'hidden';\n\t\tKTDom.reflow(this._targetElement);\n\t\tthis._targetElement.style.height = `${this._targetElement.scrollHeight}px`;\n\t\tthis._isAnimating = true;\n\n\t\tKTDom.transitionEnd(this._targetElement, () => {\n\t\t\tthis._isAnimating = false;\n\t\t\tthis._targetElement.style.height = '';\n\t\t\tthis._targetElement.style.overflow = '';\n\n\t\t\tthis._fireEvent('expanded');\n\t\t\tthis._dispatchEvent('expanded');\n\t\t});\n\t}\n\n\tprotected _collapse(): void {\n\t\tif (this._isAnimating || !this._isOpen()) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst payload = { cancel: false };\n\t\tthis._fireEvent('collapse', payload);\n\t\tthis._dispatchEvent('collapse', payload);\n\t\tif (payload.cancel === true) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (!this._element) return;\n\t\tthis._element.setAttribute('aria-expanded', 'false');\n\t\tthis._element.classList.remove(this._getOption('activeClass') as string);\n\t\tthis._targetElement.classList.remove(\n\t\t\tthis._getOption('activeClass') as string\n\t\t);\n\n\t\tthis._targetElement.style.height = `${this._targetElement.scrollHeight}px`;\n\t\tKTDom.reflow(this._targetElement);\n\t\tthis._targetElement.style.height = `0px`;\n\t\tthis._targetElement.style.overflow = 'hidden';\n\t\tthis._isAnimating = true;\n\n\t\tKTDom.transitionEnd(this._targetElement, () => {\n\t\t\tthis._isAnimating = false;\n\t\t\tthis._targetElement.classList.add(\n\t\t\t\tthis._getOption('hiddenClass') as string\n\t\t\t);\n\t\t\tthis._targetElement.style.overflow = '';\n\n\t\t\tthis._fireEvent('collapsed');\n\t\t\tthis._dispatchEvent('collapsed');\n\t\t});\n\t}\n\n\tprotected _toggle(): void {\n\t\tconst payload = { cancel: false };\n\t\tthis._fireEvent('toggle', payload);\n\t\tthis._dispatchEvent('toggle', payload);\n\t\tif (payload.cancel === true) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (this._isOpen()) {\n\t\t\tthis._collapse();\n\t\t} else {\n\t\t\tthis._expand();\n\t\t}\n\t}\n\n\tpublic expand(): void {\n\t\treturn this._expand();\n\t}\n\n\tpublic collapse(): void {\n\t\treturn this._collapse();\n\t}\n\n\tpublic isOpen(): boolean {\n\t\treturn this._isOpen();\n\t}\n\n\tpublic static getInstance(element: HTMLElement): KTCollapse {\n\t\tif (!element) return null;\n\n\t\tif (KTData.has(element, 'collapse')) {\n\t\t\treturn KTData.get(element, 'collapse') as KTCollapse;\n\t\t}\n\n\t\tif (element.getAttribute('data-kt-collapse')) {\n\t\t\treturn new KTCollapse(element);\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tpublic static getOrCreateInstance(\n\t\telement: HTMLElement,\n\t\tconfig?: KTCollapseConfigInterface\n\t): KTCollapse {\n\t\treturn this.getInstance(element) || new KTCollapse(element, config);\n\t}\n\n\tpublic static createInstances(): void {\n\t\tconst elements = document.querySelectorAll('[data-kt-collapse]');\n\n\t\telements.forEach((element) => {\n\t\t\tnew KTCollapse(element as HTMLElement);\n\t\t});\n\t}\n\n\tpublic static init(): void {\n\t\tKTCollapse.createInstances();\n\t}\n}\n\nif (typeof window !== 'undefined') {\n\twindow.KTCollapse = KTCollapse;\n}\n","export { KTCollapse } from './collapse';\nexport type { KTCollapseConfigInterface, KTCollapseInterface } from './types';\n","/* eslint-disable guard-for-in */\n/* eslint-disable max-len */\n/* eslint-disable require-jsdoc */\n\ndeclare global {\n\tinterface Window {\n\t\tKTGlobalComponentsConfig: object;\n\t}\n}\n\nimport KTData from '../helpers/data';\nimport KTDom from '../helpers/dom';\nimport KTUtils from '../helpers/utils';\nimport KTGlobalComponentsConfig from './config';\nimport { KTOptionType } from '../types';\n\nexport default class KTComponent {\n\tprotected _dataOptionPrefix: string = 'kt-';\n\tprotected _name: string;\n\tprotected _defaultConfig: object;\n\tprotected _config: object;\n\tprotected _events: Map<string, Map<string, CallableFunction>>;\n\tprotected _uid: string | null = null;\n\tprotected _element: HTMLElement | null = null;\n\n\tprotected _init(element: HTMLElement | null) {\n\t\telement = KTDom.getElement(element);\n\n\t\tif (!element) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._element = element;\n\t\tthis._events = new Map();\n\t\tthis._uid = KTUtils.geUID(this._name);\n\n\t\tthis._element.setAttribute(`data-kt-${this._name}-initialized`, 'true');\n\n\t\tKTData.set(this._element, this._name, this);\n\t}\n\n\tprotected _fireEvent(eventType: string, payload: object = null): void {\n\t\tthis._events.get(eventType)?.forEach((callable) => {\n\t\t\tcallable(payload);\n\t\t});\n\t}\n\n\tprotected _dispatchEvent(eventType: string, payload: object = null): void {\n\t\tconst event = new CustomEvent(eventType, {\n\t\t\tdetail: { payload },\n\t\t\tbubbles: true,\n\t\t\tcancelable: true,\n\t\t\tcomposed: false,\n\t\t});\n\n\t\tif (!this._element) return;\n\t\tthis._element.dispatchEvent(event);\n\t}\n\n\tprotected _getOption(name: string): KTOptionType {\n\t\tconst value = this._config[name as keyof object];\n\t\tconst reponsiveValue = KTDom.getCssProp(\n\t\t\tthis._element,\n\t\t\t`--kt-${this._name}-${KTUtils.camelReverseCase(name)}`\n\t\t);\n\n\t\treturn reponsiveValue || value;\n\t}\n\n\tprotected _getGlobalConfig(): object {\n\t\tif (\n\t\t\twindow.KTGlobalComponentsConfig &&\n\t\t\t(window.KTGlobalComponentsConfig as object)[this._name as keyof object]\n\t\t) {\n\t\t\treturn (window.KTGlobalComponentsConfig as object)[\n\t\t\t\tthis._name as keyof object\n\t\t\t] as object;\n\t\t} else if (\n\t\t\tKTGlobalComponentsConfig &&\n\t\t\t(KTGlobalComponentsConfig as object)[this._name as keyof object]\n\t\t) {\n\t\t\treturn (KTGlobalComponentsConfig as object)[\n\t\t\t\tthis._name as keyof object\n\t\t\t] as object;\n\t\t} else {\n\t\t\treturn {};\n\t\t}\n\t}\n\n\tprotected _buildConfig(config: object = {}): void {\n\t\tif (!this._element) return;\n\n\t\tthis._config = {\n\t\t\t...this._defaultConfig,\n\t\t\t...this._getGlobalConfig(),\n\t\t\t...KTDom.getDataAttributes(\n\t\t\t\tthis._element,\n\t\t\t\tthis._dataOptionPrefix + this._name\n\t\t\t),\n\t\t\t...config,\n\t\t};\n\t}\n\n\tpublic dispose(): void {\n\t\tif (!this._element) return;\n\n\t\tthis._element.removeAttribute(`data-kt-${this._name}-initialized`);\n\t\tKTData.remove(this._element, this._name);\n\t}\n\n\tpublic on(eventType: string, callback: CallableFunction): string {\n\t\tconst eventId = KTUtils.geUID();\n\n\t\tif (!this._events.get(eventType)) {\n\t\t\tthis._events.set(eventType, new Map());\n\t\t}\n\n\t\tthis._events.get(eventType).set(eventId, callback);\n\n\t\treturn eventId;\n\t}\n\n\tpublic off(eventType: string, eventId: string): void {\n\t\tthis._events.get(eventType)?.delete(eventId);\n\t}\n\n\tpublic getOption(name: string): KTOptionType {\n\t\treturn this._getOption(name as keyof object);\n\t}\n\n\tpublic getElement(): HTMLElement {\n\t\tif (!this._element) return null;\n\t\treturn this._element;\n\t}\n}\n","/* eslint-disable max-len */\nconst KTGlobalComponentsConfig = {\n  collapse: {\n    hiddenClass: 'hidden',\n  },\n  dismiss: {\n    hiddenClass: 'hidden',\n  },\n  tabs: {\n    hiddenClass: 'hidden',\n  },\n  accordion: {\n    hiddenClass: 'hidden',\n  }\n};\n\nexport default KTGlobalComponentsConfig;\n\n","import KTComponent from '../component';\nimport {\n\tKTDataTableDataInterface,\n\tKTDataTableInterface,\n\tKTDataTableConfigInterface as KTDataTableConfigInterface,\n\tKTDataTableSortOrderInterface,\n\tKTDataTableStateInterface,\n\tKTDataTableColumnFilterInterface,\n\tKTDataTableAttributeInterface,\n} from './types';\nimport KTEventHandler from '../../helpers/event-handler';\nimport { KTDataTableCheckChangePayloadInterface } from './types';\nimport KTUtils from '../../helpers/utils';\nimport KTComponents from '../../index';\nimport KTData from '../../helpers/data';\n\n/**\n * Custom DataTable plugin class with server-side API, pagination, and sorting\n * @classdesc A custom KTComponent class that integrates server-side API, pagination, and sorting functionality into a table.\n * It supports fetching data from a server-side API, pagination, and sorting of the fetched data.\n * @class\n * @extends {KTComponent}\n * @param {HTMLElement} element The table element\n * @param {KTDataTableConfigInterface} [config] Additional configuration options\n */\nexport class KTDataTable<T extends KTDataTableDataInterface>\n\textends KTComponent\n\timplements KTDataTableInterface\n{\n\tprotected override _name: string = 'datatable';\n\tprotected override _config: KTDataTableConfigInterface;\n\tprotected override _defaultConfig: KTDataTableConfigInterface;\n\n\tprivate _tableElement: HTMLTableElement;\n\tprivate _tbodyElement: HTMLTableSectionElement;\n\tprivate _theadElement: HTMLTableSectionElement;\n\tprivate _originalTbodyClass: string = ''; // Store original tbody class\n\tprivate _originalTrClasses: string[] = []; // Store original tr classes\n\tprivate _originalTheadClass: string = ''; // Store original thead class\n\tprivate _originalTdClasses: string[][] = []; // Store original td classes as a 2D array [row][col]\n\tprivate _originalThClasses: string[] = []; // Store original th classes\n\n\tprivate _infoElement: HTMLElement;\n\tprivate _sizeElement: HTMLSelectElement;\n\tprivate _paginationElement: HTMLElement;\n\n\t// Checkbox properties\n\tprivate _headerChecked: boolean;\n\tprivate _headerCheckElement: HTMLInputElement;\n\tprivate _targetElements: NodeListOf<HTMLInputElement>;\n\tprivate _checkboxListener = (event: MouseEvent) => {\n\t\tthis._checkboxToggle(event); // Toggle row checkbox state\n\t};\n\n\t// private _searchListener: (value: string) => void;\n\n\tprivate _data: T[] = [];\n\n\tconstructor(element: HTMLElement, config?: KTDataTableConfigInterface) {\n\t\tsuper();\n\n\t\tif (KTData.has(element as HTMLElement, this._name)) return;\n\n\t\tthis._defaultConfig = this._initDefaultConfig(config);\n\n\t\tthis._init(element);\n\t\tthis._buildConfig();\n\n\t\t// Store the instance directly on the element\n\t\t(element as any).instance = this;\n\n\t\tthis._initElements();\n\n\t\tif (this._config.stateSave === false) {\n\t\t\tthis._deleteState();\n\t\t}\n\n\t\tif (this._config.stateSave) {\n\t\t\tthis._loadState();\n\t\t}\n\n\t\tthis._initTableHeader();\n\n\t\tthis._updateData();\n\n\t\tthis._fireEvent('init');\n\t\tthis._dispatchEvent('init');\n\t}\n\n\t/**\n\t * Initialize default configuration for the datatable\n\t * @param config User-provided configuration options\n\t * @returns Default configuration merged with user-provided options\n\t */\n\tprivate _initDefaultConfig(\n\t\tconfig?: KTDataTableConfigInterface\n\t): KTDataTableConfigInterface {\n\t\treturn {\n\t\t\t/**\n\t\t\t * HTTP method for server-side API call\n\t\t\t */\n\t\t\trequestMethod: 'GET',\n\t\t\t/**\n\t\t\t * Custom HTTP headers for the API request\n\t\t\t */\n\t\t\trequestHeaders: {\n\t\t\t\t'Content-Type': 'application/x-www-form-urlencoded',\n\t\t\t},\n\t\t\t/**\n\t\t\t * Pagination info template\n\t\t\t */\n\t\t\tinfo: '{start}-{end} of {total}',\n\t\t\t/**\n\t\t\t * Info text when there is no data\n\t\t\t */\n\t\t\tinfoEmpty: 'No records found',\n\t\t\t/**\n\t\t\t * Available page sizes\n\t\t\t */\n\t\t\tpageSizes: [5, 10, 20, 30, 50],\n\t\t\t/**\n\t\t\t * Default page size\n\t\t\t */\n\t\t\tpageSize: 10,\n\t\t\t/**\n\t\t\t * Enable or disable pagination more button\n\t\t\t */\n\t\t\tpageMore: true,\n\t\t\t/**\n\t\t\t * Maximum number of pages before enabling pagination more button\n\t\t\t */\n\t\t\tpageMoreLimit: 3,\n\t\t\t/**\n\t\t\t * Pagination button templates\n\t\t\t */\n\t\t\tpagination: {\n\t\t\t\tnumber: {\n\t\t\t\t\t/**\n\t\t\t\t\t * CSS classes to be added to the pagination button\n\t\t\t\t\t */\n\t\t\t\t\tclass:\n\t\t\t\t\t\t'size-8 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 [.active&]:bg-gray-100 dark:[.active&]:bg-gray-800 font-medium rounded-md inline-flex shrink-0 items-center justify-center focus:outline-none',\n\t\t\t\t\t/**\n\t\t\t\t\t * Text to be displayed in the pagination button\n\t\t\t\t\t */\n\t\t\t\t\ttext: '{page}',\n\t\t\t\t},\n\t\t\t\tprevious: {\n\t\t\t\t\t/**\n\t\t\t\t\t * CSS classes to be added to the previous pagination button\n\t\t\t\t\t */\n\t\t\t\t\tclass:\n\t\t\t\t\t\t'size-8 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 font-medium rounded-md inline-flex shrink-0 items-center justify-center focus:outline-none disabled:opacity-50 disabled:pointer-events-none',\n\t\t\t\t\t/**\n\t\t\t\t\t * Text to be displayed in the previous pagination button\n\t\t\t\t\t */\n\t\t\t\t\ttext: `\n\t\t\t\t\t\t<svg class=\"rtl:transform rtl:rotate-180 size-4 shrink-0\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t\t\t\t\t\t<path d=\"M8.86501 16.7882V12.8481H21.1459C21.3724 12.8481 21.5897 12.7581 21.7498 12.5979C21.91 12.4378 22 12.2205 22 11.994C22 11.7675 21.91 11.5503 21.7498 11.3901C21.5897 11.2299 21.3724 11.1399 21.1459 11.1399H8.86501V7.2112C8.86628 7.10375 8.83517 6.9984 8.77573 6.90887C8.7163 6.81934 8.63129 6.74978 8.53177 6.70923C8.43225 6.66869 8.32283 6.65904 8.21775 6.68155C8.11267 6.70405 8.0168 6.75766 7.94262 6.83541L2.15981 11.6182C2.1092 11.668 2.06901 11.7274 2.04157 11.7929C2.01413 11.8584 2 11.9287 2 11.9997C2 12.0707 2.01413 12.141 2.04157 12.2065C2.06901 12.272 2.1092 12.3314 2.15981 12.3812L7.94262 17.164C8.0168 17.2417 8.11267 17.2953 8.21775 17.3178C8.32283 17.3403 8.43225 17.3307 8.53177 17.2902C8.63129 17.2496 8.7163 17.18 8.77573 17.0905C8.83517 17.001 8.86628 16.8956 8.86501 16.7882Z\" fill=\"currentColor\"/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t`,\n\t\t\t\t},\n\t\t\t\tnext: {\n\t\t\t\t\t/**\n\t\t\t\t\t * CSS classes to be added to the next pagination button\n\t\t\t\t\t */\n\t\t\t\t\tclass:\n\t\t\t\t\t\t'size-8 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 font-medium rounded-md inline-flex shrink-0 items-center justify-center focus:outline-none disabled:opacity-50 disabled:pointer-events-none',\n\t\t\t\t\t/**\n\t\t\t\t\t * Text to be displayed in the next pagination button\n\t\t\t\t\t */\n\t\t\t\t\ttext: `\n\t\t\t\t\t\t<svg class=\"rtl:transform rtl:rotate-180 size-4 shrink-0\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t\t\t\t\t\t<path d=\"M15.135 7.21144V11.1516H2.85407C2.62756 11.1516 2.41032 11.2415 2.25015 11.4017C2.08998 11.5619 2 11.7791 2 12.0056C2 12.2321 2.08998 12.4494 2.25015 12.6096C2.41032 12.7697 2.62756 12.8597 2.85407 12.8597H15.135V16.7884C15.1337 16.8959 15.1648 17.0012 15.2243 17.0908C15.2837 17.1803 15.3687 17.2499 15.4682 17.2904C15.5677 17.3309 15.6772 17.3406 15.7822 17.3181C15.8873 17.2956 15.9832 17.242 16.0574 17.1642L21.8402 12.3814C21.8908 12.3316 21.931 12.2722 21.9584 12.2067C21.9859 12.1412 22 12.0709 22 11.9999C22 11.9289 21.9859 11.8586 21.9584 11.7931C21.931 11.7276 21.8908 11.6683 21.8402 11.6185L16.0574 6.83565C15.9832 6.75791 15.8873 6.70429 15.7822 6.68179C15.6772 6.65929 15.5677 6.66893 15.4682 6.70948C15.3687 6.75002 15.2837 6.81959 15.2243 6.90911C15.1648 6.99864 15.1337 7.10399 15.135 7.21144Z\" fill=\"currentColor\"/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t`,\n\t\t\t\t},\n\t\t\t\tmore: {\n\t\t\t\t\t/**\n\t\t\t\t\t * CSS classes to be added to the pagination more button\n\t\t\t\t\t */\n\t\t\t\t\tclass:\n\t\t\t\t\t\t'size-8 text-sm text-gray-700 dark:text-gray-200 font-medium rounded-md inline-flex shrink-0 items-center justify-center pointer-events-none',\n\t\t\t\t\t/**\n\t\t\t\t\t * Text to be displayed in the pagination more button\n\t\t\t\t\t */\n\t\t\t\t\ttext: '...',\n\t\t\t\t},\n\t\t\t},\n\t\t\t/**\n\t\t\t * Sorting options\n\t\t\t */\n\t\t\tsort: {\n\t\t\t\t/**\n\t\t\t\t * CSS classes to be added to the sortable headers\n\t\t\t\t */\n\t\t\t\tclasses: {\n\t\t\t\t\tbase: 'kt-table-sort',\n\t\t\t\t\tasc: 'asc',\n\t\t\t\t\tdesc: 'desc',\n\t\t\t\t},\n\t\t\t\t/**\n\t\t\t\t * Local sorting callback function\n\t\t\t\t * Sorts the data array based on the sort field and order\n\t\t\t\t * @param data Data array to be sorted\n\t\t\t\t * @param sortField Property name of the data object to be sorted by\n\t\t\t\t * @param sortOrder Sorting order (ascending or descending)\n\t\t\t\t * @returns Sorted data array\n\t\t\t\t */\n\t\t\t\tcallback: (\n\t\t\t\t\tdata: T[],\n\t\t\t\t\tsortField: keyof T | number,\n\t\t\t\t\tsortOrder: KTDataTableSortOrderInterface\n\t\t\t\t): T[] => {\n\t\t\t\t\t/**\n\t\t\t\t\t * Compares two values by converting them to strings and removing any HTML tags or white spaces\n\t\t\t\t\t * @param a First value to be compared\n\t\t\t\t\t * @param b Second value to be compared\n\t\t\t\t\t * @returns 1 if a > b, -1 if a < b, 0 if a === b\n\t\t\t\t\t */\n\t\t\t\t\tconst compareValues = (a: unknown, b: unknown): number => {\n\t\t\t\t\t\tconst aText = String(a).replace(/<[^>]*>|&nbsp;/g, '');\n\t\t\t\t\t\tconst bText = String(b).replace(/<[^>]*>|&nbsp;/g, '');\n\t\t\t\t\t\treturn aText > bText\n\t\t\t\t\t\t\t? sortOrder === 'asc'\n\t\t\t\t\t\t\t\t? 1\n\t\t\t\t\t\t\t\t: -1\n\t\t\t\t\t\t\t: aText < bText\n\t\t\t\t\t\t\t? sortOrder === 'asc'\n\t\t\t\t\t\t\t\t? -1\n\t\t\t\t\t\t\t\t: 1\n\t\t\t\t\t\t\t: 0;\n\t\t\t\t\t};\n\n\t\t\t\t\treturn data.sort((a, b) => {\n\t\t\t\t\t\tconst aValue = a[sortField] as unknown;\n\t\t\t\t\t\tconst bValue = b[sortField] as unknown;\n\t\t\t\t\t\treturn compareValues(aValue, bValue);\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t},\n\t\t\tsearch: {\n\t\t\t\t/**\n\t\t\t\t * Delay in milliseconds before the search function is applied to the data array\n\t\t\t\t * @default 500\n\t\t\t\t */\n\t\t\t\tdelay: 500, // ms\n\t\t\t\t/**\n\t\t\t\t * Local search callback function\n\t\t\t\t * Filters the data array based on the search string\n\t\t\t\t * @param data Data array to be filtered\n\t\t\t\t * @param search Search string used to filter the data array\n\t\t\t\t * @returns Filtered data array\n\t\t\t\t */\n\t\t\t\tcallback: (data: T[], search: string): T[] => {\n\t\t\t\t\tif (!data || !search) {\n\t\t\t\t\t\treturn [];\n\t\t\t\t\t}\n\n\t\t\t\t\treturn data.filter((item: T) => {\n\t\t\t\t\t\tif (!item) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn Object.values(item).some(\n\t\t\t\t\t\t\t(value: string | number | boolean) => {\n\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\ttypeof value !== 'string' &&\n\t\t\t\t\t\t\t\t\ttypeof value !== 'number' &&\n\t\t\t\t\t\t\t\t\ttypeof value !== 'boolean'\n\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tconst valueText = String(value)\n\t\t\t\t\t\t\t\t\t.replace(/<[^>]*>|&nbsp;/g, '')\n\t\t\t\t\t\t\t\t\t.toLowerCase();\n\t\t\t\t\t\t\t\treturn valueText.includes(search.toLowerCase());\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t},\n\t\t\t/**\n\t\t\t * Loading spinner options\n\t\t\t */\n\t\t\tloading: {\n\t\t\t\t/**\n\t\t\t\t * Template to be displayed during data fetching process\n\t\t\t\t */\n\t\t\t\ttemplate: `\n\t\t\t\t\t<div class=\"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2\">\n\t\t\t\t\t\t<div class=\"flex items-center gap-2 px-4 py-2 font-medium leading-none text-2sm border border-gray-200 shadow-default rounded-md text-gray-500 bg-light\">\n\t\t\t\t\t\t\t<svg class=\"animate-spin -ml-1 h-5 w-5 text-gray-600\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n\t\t\t\t\t\t\t\t<circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"3\"></circle>\n\t\t\t\t\t\t\t\t<path class=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t{content}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t`,\n\t\t\t\t/**\n\t\t\t\t * Loading text to be displayed in the template\n\t\t\t\t */\n\t\t\t\tcontent: 'Loading...',\n\t\t\t},\n\t\t\t/**\n\t\t\t * Selectors of the elements to be targeted\n\t\t\t */\n\t\t\tattributes: {\n\t\t\t\t/**\n\t\t\t\t * Data table element\n\t\t\t\t */\n\t\t\t\ttable: 'table[data-kt-datatable-table=\"true\"]',\n\t\t\t\t/**\n\t\t\t\t * Pagination info element\n\t\t\t\t */\n\t\t\t\tinfo: '[data-kt-datatable-info=\"true\"]',\n\t\t\t\t/**\n\t\t\t\t * Page size dropdown element\n\t\t\t\t */\n\t\t\t\tsize: '[data-kt-datatable-size=\"true\"]',\n\t\t\t\t/**\n\t\t\t\t * Pagination element\n\t\t\t\t */\n\t\t\t\tpagination: '[data-kt-datatable-pagination=\"true\"]',\n\t\t\t\t/**\n\t\t\t\t * Spinner element\n\t\t\t\t */\n\t\t\t\tspinner: '[data-kt-datatable-spinner=\"true\"]',\n\t\t\t\t/**\n\t\t\t\t * Checkbox element\n\t\t\t\t */\n\t\t\t\tcheck: '[data-kt-datatable-check=\"true\"]',\n\t\t\t\tcheckbox: '[data-kt-datatable-row-check=\"true\"]',\n\t\t\t},\n\t\t\t/**\n\t\t\t * Enable or disable state saving\n\t\t\t */\n\t\t\tstateSave: true,\n\t\t\tcheckbox: {\n\t\t\t\tcheckedClass: 'checked',\n\t\t\t},\n\t\t\t/**\n\t\t\t * Private properties\n\t\t\t */\n\t\t\t_state: {} as KTDataTableStateInterface,\n\n\t\t\t...config,\n\t\t} as KTDataTableConfigInterface;\n\t}\n\n\t/**\n\t * Initialize table, tbody, thead, info, size, and pagination elements\n\t * @returns {void}\n\t */\n\tprivate _initElements(): void {\n\t\t/**\n\t\t * Data table element\n\t\t */\n\t\tthis._tableElement = this._element.querySelector<HTMLTableElement>(\n\t\t\tthis._config.attributes.table\n\t\t)!;\n\t\t/**\n\t\t * Table body element\n\t\t */\n\t\tthis._tbodyElement =\n\t\t\tthis._tableElement.tBodies[0] || this._tableElement.createTBody();\n\t\t/**\n\t\t * Table head element\n\t\t */\n\t\tthis._theadElement = this._tableElement.tHead!;\n\n\t\t// Store original classes\n\t\tthis._storeOriginalClasses();\n\n\t\t/**\n\t\t * Pagination info element\n\t\t */\n\t\tthis._infoElement = this._element.querySelector<HTMLElement>(\n\t\t\tthis._config.attributes.info\n\t\t)!;\n\t\t/**\n\t\t * Page size dropdown element\n\t\t */\n\t\tthis._sizeElement = this._element.querySelector<HTMLSelectElement>(\n\t\t\tthis._config.attributes.size\n\t\t)!;\n\t\t/**\n\t\t * Pagination element\n\t\t */\n\t\tthis._paginationElement = this._element.querySelector<HTMLElement>(\n\t\t\tthis._config.attributes.pagination\n\t\t)!;\n\t}\n\n\t/**\n\t * Store original classes from table elements\n\t * @returns {void}\n\t */\n\tprivate _storeOriginalClasses(): void {\n\t\t// Store tbody class\n\t\tif (this._tbodyElement) {\n\t\t\tthis._originalTbodyClass = this._tbodyElement.className || '';\n\t\t}\n\n\t\t// Store thead class and th classes\n\t\tif (this._theadElement) {\n\t\t\tthis._originalTheadClass = this._theadElement.className || '';\n\n\t\t\t// Store th classes\n\t\t\tconst thElements = this._theadElement.querySelectorAll<HTMLTableCellElement>('th');\n\t\t\tthis._originalThClasses = Array.from(thElements).map(th => th.className || '');\n\t\t}\n\n\t\t// Store tr and td classes\n\t\tif (this._tbodyElement) {\n\t\t\tconst originalRows = this._tbodyElement.querySelectorAll<HTMLTableRowElement>('tr');\n\t\t\tthis._originalTrClasses = Array.from(originalRows).map(row => row.className || '');\n\n\t\t\t// Store td classes as a 2D array\n\t\t\tthis._originalTdClasses = [];\n\t\t\tArray.from(originalRows).forEach((row, rowIndex) => {\n\t\t\t\tconst tdElements = row.querySelectorAll<HTMLTableCellElement>('td');\n\t\t\t\tthis._originalTdClasses[rowIndex] = Array.from(tdElements).map(td => td.className || '');\n\t\t\t});\n\t\t}\n\t}\n\n\t/**\n\t * Fetch data from the server or from the DOM if `apiEndpoint` is not defined.\n\t * @returns {Promise<void>} Promise which is resolved after data has been fetched and checkbox plugin initialized.\n\t */\n\tprivate async _updateData(): Promise<void> {\n\t\tthis._showSpinner(); // Show spinner before fetching data\n\n\t\t// Fetch data from the DOM and initialize the checkbox plugin\n\t\treturn typeof this._config.apiEndpoint === 'undefined'\n\t\t\t? this._fetchDataFromLocal().then(\n\t\t\t\t\tthis._finalize.bind(this) as () => Promise<void>\n\t\t\t  )\n\t\t\t: this._fetchDataFromServer().then(\n\t\t\t\t\tthis._finalize.bind(this) as () => Promise<void>\n\t\t\t  );\n\t}\n\n\t/**\n\t * Finalize data table after data has been fetched\n\t * @returns {void}\n\t */\n\tprivate _finalize(): void {\n\t\tthis._element.classList.add('datatable-initialized');\n\n\t\tconst headerCheckElement = this._element.querySelector<HTMLInputElement>(\n\t\t\tthis._config.attributes.check\n\t\t);\n\t\tif (headerCheckElement) {\n\t\t\tthis._initChecbox(headerCheckElement);\n\t\t}\n\n\t\tthis._attachSearchEvent();\n\n\t\tif (typeof KTComponents !== 'undefined') {\n\t\t\tKTComponents.init();\n\t\t}\n\n\t\t/**\n\t\t * Hide spinner\n\t\t */\n\t\tthis._hideSpinner();\n\t}\n\n\t/**\n\t * Attach search event to the search input element\n\t * @returns {void}\n\t */\n\tprivate _attachSearchEvent(): void {\n\t\tconst tableId: string = this._tableId();\n\t\tconst searchElement: HTMLInputElement | null =\n\t\t\tdocument.querySelector<HTMLInputElement>(\n\t\t\t\t`[data-kt-datatable-search=\"#${tableId}\"]`\n\t\t\t);\n\n\t\t// Get search state\n\t\tconst { search } = this.getState();\n\t\t// Set search value\n\t\tsearchElement.value = typeof search === 'string' ? search : String(search);\n\n\t\tif (searchElement) {\n\t\t\t// Check if a debounced search function already exists\n\t\t\tif ((searchElement as any)._debouncedSearch) {\n\t\t\t\t// Remove the existing debounced event listener\n\t\t\t\tsearchElement.removeEventListener(\n\t\t\t\t\t'keyup',\n\t\t\t\t\t(searchElement as any)._debouncedSearch\n\t\t\t\t);\n\t\t\t}\n\n\t\t\t// Create a new debounced search function\n\t\t\tconst debouncedSearch = this._debounce(() => {\n\t\t\t\tthis.search(searchElement.value);\n\t\t\t}, this._config.search.delay);\n\n\t\t\t// Store the new debounced function as a property of the element\n\t\t\t(searchElement as any)._debouncedSearch = debouncedSearch;\n\n\t\t\t// Add the new debounced event listener\n\t\t\tsearchElement.addEventListener('keyup', debouncedSearch);\n\t\t}\n\t}\n\n\t/**\n\t * Initialize the checkbox plugin\n\t * @param {HTMLInputElement} headerCheckElement - The header checkbox element\n\t * @returns {void}\n\t */\n\tprivate _initChecbox(headerCheckElement: HTMLInputElement): void {\n\t\tthis._headerCheckElement = headerCheckElement;\n\t\tthis._headerChecked = headerCheckElement.checked;\n\n\t\tthis._targetElements = this._element.querySelectorAll(\n\t\t\tthis._config.attributes.checkbox\n\t\t) as NodeListOf<HTMLInputElement>;\n\n\t\tthis._checkboxHandler();\n\t}\n\n\t/**\n\t * Fetch data from the DOM\n\t * Fetch data from the table element and save it to the `originalData` state property.\n\t * This method is used when the data is not fetched from the server via an API endpoint.\n\t */\n\tprivate async _fetchDataFromLocal(): Promise<void> {\n\t\tconst { sortField, sortOrder, page, pageSize, search } = this.getState();\n\t\tlet { originalData } = this.getState();\n\n\t\t// If the table element or the original data is not defined, bail\n\t\tif (\n\t\t\t!this._tableElement ||\n\t\t\toriginalData === undefined ||\n\t\t\tthis._tableConfigInvalidate() ||\n\t\t\tthis._localTableHeaderInvalidate() ||\n\t\t\tthis._localTableContentInvalidate()\n\t\t) {\n\t\t\tthis._deleteState();\n\n\t\t\tconst { originalData, originalDataAttributes } =\n\t\t\t\tthis._localExtractTableContent();\n\n\t\t\tthis._config._state.originalData = originalData;\n\t\t\tthis._config._state.originalDataAttributes = originalDataAttributes;\n\t\t}\n\n\t\t// Update the original data variable\n\t\toriginalData = this.getState().originalData;\n\n\t\t// Clone the original data\n\t\tlet _temp = (this._data = [...originalData] as T[]);\n\n\t\tif (search) {\n\t\t\t_temp = this._data = this._config.search.callback.call(\n\t\t\t\tthis,\n\t\t\t\tthis._data,\n\t\t\t\tsearch\n\t\t\t) as T[];\n\t\t}\n\n\t\t// If sorting is defined, sort the data\n\t\tif (\n\t\t\tsortField !== undefined &&\n\t\t\tsortOrder !== undefined &&\n\t\t\tsortOrder !== ''\n\t\t) {\n\t\t\tif (typeof this._config.sort.callback === 'function') {\n\t\t\t\tthis._data = this._config.sort.callback.call(\n\t\t\t\t\tthis,\n\t\t\t\t\tthis._data,\n\t\t\t\t\tsortField as string,\n\t\t\t\t\tsortOrder\n\t\t\t\t) as T[];\n\t\t\t}\n\t\t}\n\n\t\t// If there is data, slice it to the current page size\n\t\tif (this._data?.length > 0) {\n\t\t\t// Calculate the start and end indices for the current page\n\t\t\tconst startIndex = (page - 1) * pageSize;\n\t\t\tconst endIndex = startIndex + pageSize;\n\n\t\t\tthis._data = this._data.slice(startIndex, endIndex) as T[];\n\t\t}\n\n\t\t// Determine number of total rows\n\t\tthis._config._state.totalItems = _temp.length;\n\n\t\t// Draw the data\n\t\tawait this._draw();\n\t}\n\n\t/**\n\t * Checks if the table content has been invalidated by comparing the current checksum of the table body\n\t * with the stored checksum in the state. If the checksums are different, the state is updated with the\n\t * new checksum and `true` is returned. Otherwise, `false` is returned.\n\t *\n\t * @returns {boolean} `true` if the table content has been invalidated, `false` otherwise.\n\t */\n\tprivate _localTableContentInvalidate(): boolean {\n\t\tconst checksum: string = KTUtils.checksum(\n\t\t\tJSON.stringify(this._tbodyElement.innerHTML)\n\t\t);\n\t\tif (this.getState()._contentChecksum !== checksum) {\n\t\t\tthis._config._state._contentChecksum = checksum;\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tprivate _tableConfigInvalidate(): boolean {\n\t\t// Remove _data and _state from config\n\t\tconst { _data, _state, ...restConfig } = this._config;\n\t\tconst checksum: string = KTUtils.checksum(JSON.stringify(restConfig));\n\t\tif (_state._configChecksum !== checksum) {\n\t\t\tthis._config._state._configChecksum = checksum;\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\t/**\n\t * Extract the table content and returns it as an object containing an array of original data and an array of original data attributes.\n\t *\n\t * @returns {{originalData: T[], originalDataAttributes: KTDataTableAttributeInterface[]}} - An object containing an array of original data and an array of original data attributes.\n\t */\n\tprivate _localExtractTableContent(): {\n\t\toriginalData: T[];\n\t\toriginalDataAttributes: KTDataTableAttributeInterface[];\n\t} {\n\t\tconst originalData: T[] = [];\n\t\tconst originalDataAttributes: KTDataTableAttributeInterface[] = [];\n\n\t\t// Re-store original classes when extracting content\n\t\tthis._storeOriginalClasses();\n\n\t\tconst rows = this._tbodyElement.querySelectorAll<HTMLTableRowElement>('tr');\n\n\t\trows.forEach((row: HTMLTableRowElement) => {\n\t\t\tconst dataRow: T = {} as T;\n\t\t\tconst dataRowAttribute: KTDataTableAttributeInterface =\n\t\t\t\t{} as KTDataTableAttributeInterface;\n\n\t\t\t// Loop through each cell in the row\n\t\t\trow\n\t\t\t\t.querySelectorAll<HTMLTableCellElement>('td')\n\t\t\t\t.forEach((td: HTMLTableCellElement, index: number) => {\n\t\t\t\t\tconst attributes: { [key: string]: string } = {};\n\n\t\t\t\t\t// Copy all attributes to the cell data\n\t\t\t\t\tArray.from(td.attributes).forEach((attr: Attr) => {\n\t\t\t\t\t\tattributes[attr.name] = attr.value;\n\t\t\t\t\t});\n\n\t\t\t\t\t// Set the data for the current row and cell\n\t\t\t\t\tdataRow[index as keyof T] = td.innerHTML?.trim() as T[keyof T];\n\t\t\t\t\tdataRowAttribute[index] = attributes;\n\t\t\t\t});\n\n\t\t\t// If the row has any data, add it to the original data array\n\t\t\tif (Object.keys(dataRow).length > 0) {\n\t\t\t\toriginalData.push(dataRow);\n\t\t\t\toriginalDataAttributes.push(dataRowAttribute);\n\t\t\t}\n\t\t});\n\n\t\treturn { originalData, originalDataAttributes };\n\t}\n\n\t/**\n\t * Check if the table header is invalidated\n\t * @returns {boolean} - Returns true if the table header is invalidated, false otherwise\n\t */\n\tprivate _localTableHeaderInvalidate(): boolean {\n\t\tconst { originalData } = this.getState();\n\t\tconst currentTableHeaders = this._getTableHeaders()?.length || 0;\n\t\tconst totalColumns = originalData.length\n\t\t\t? Object.keys(originalData[0]).length\n\t\t\t: 0;\n\n\t\treturn currentTableHeaders !== totalColumns;\n\t}\n\n\t/**\n\t * Fetch data from the server\n\t */\n\tprivate async _fetchDataFromServer(): Promise<void> {\n\t\tthis._fireEvent('fetch');\n\t\tthis._dispatchEvent('fetch');\n\n\t\tconst queryParams = this._getQueryParamsForFetchRequest();\n\t\tconst response = await this._performFetchRequest(queryParams);\n\n\t\tlet responseData = null;\n\n\t\ttry {\n\t\t\tresponseData = await response.json();\n\t\t} catch (error) {\n\t\t\tthis._noticeOnTable(\n\t\t\t\t'Error parsing API response as JSON: ' + String(error)\n\t\t\t);\n\t\t\treturn;\n\t\t}\n\n\t\tthis._fireEvent('fetched', { response: responseData });\n\t\tthis._dispatchEvent('fetched', { response: responseData });\n\n\t\t// Use the mapResponse function to transform the data if provided\n\t\tif (typeof this._config.mapResponse === 'function') {\n\t\t\tresponseData = this._config.mapResponse.call(this, responseData);\n\t\t}\n\n\t\tthis._data = responseData.data;\n\n\t\tthis._config._state.totalItems = responseData.totalCount;\n\n\t\tawait this._draw();\n\t}\n\n\t/**\n\t * Get the query params for a fetch request\n\t * @returns The query params for the fetch request\n\t */\n\tprivate _getQueryParamsForFetchRequest(): URLSearchParams {\n\t\t// Get the current state of the datatable\n\t\tconst { page, pageSize, sortField, sortOrder, filters, search } =\n\t\t\tthis.getState();\n\n\t\t// Create a new URLSearchParams object to store the query params\n\t\tlet queryParams = new URLSearchParams();\n\n\t\t// Add the current page number and page size to the query params\n\t\tqueryParams.set('page', String(page));\n\t\tqueryParams.set('size', String(pageSize));\n\n\t\t// If there is a sort order and field set, add them to the query params\n\t\tif (sortOrder !== undefined) {\n\t\t\tqueryParams.set('sortOrder', String(sortOrder));\n\t\t}\n\n\t\tif (sortField !== undefined) {\n\t\t\tqueryParams.set('sortField', String(sortField));\n\t\t}\n\n\t\t// If there are any filters set, add them to the query params\n\t\tif (Array.isArray(filters) && filters.length) {\n\t\t\tqueryParams.set(\n\t\t\t\t'filters',\n\t\t\t\tJSON.stringify(\n\t\t\t\t\tfilters.map((filter: KTDataTableColumnFilterInterface) => ({\n\t\t\t\t\t\t// Map the filter object to a simpler object with just the necessary properties\n\t\t\t\t\t\tcolumn: filter.column,\n\t\t\t\t\t\ttype: filter.type,\n\t\t\t\t\t\tvalue: filter.value,\n\t\t\t\t\t}))\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\n\t\tif (search) {\n\t\t\tqueryParams.set(\n\t\t\t\t'search',\n\t\t\t\ttypeof search === 'object' ? JSON.stringify(search) : search\n\t\t\t);\n\t\t}\n\n\t\t// If a mapRequest function is provided, call it with the query params object\n\t\tif (typeof this._config.mapRequest === 'function') {\n\t\t\tqueryParams = this._config.mapRequest.call(this, queryParams);\n\t\t}\n\n\t\t// Return the query params object\n\t\treturn queryParams;\n\t}\n\n\tprivate async _performFetchRequest(\n\t\tqueryParams: URLSearchParams\n\t): Promise<Response> {\n\t\tlet requestMethod: RequestInit['method'] = this._config.requestMethod;\n\t\tlet requestBody: RequestInit['body'] | undefined = undefined;\n\n\t\t// If the request method is POST, send the query params as the request body\n\t\tif (requestMethod === 'POST') {\n\t\t\trequestBody = queryParams;\n\t\t} else if (requestMethod === 'GET') {\n\t\t\t// If the request method is GET, append the query params to the API endpoint\n\t\t\tconst apiEndpointWithQueryParams = new URL(this._config.apiEndpoint);\n\t\t\tapiEndpointWithQueryParams.search = queryParams.toString();\n\t\t\tthis._config.apiEndpoint = apiEndpointWithQueryParams.toString();\n\t\t}\n\n\t\treturn fetch(this._config.apiEndpoint, {\n\t\t\tmethod: requestMethod,\n\t\t\tbody: requestBody,\n\t\t\theaders: this._config.requestHeaders,\n\t\t}).catch((error) => {\n\t\t\t// Trigger an error event\n\t\t\tthis._fireEvent('error', { error });\n\t\t\tthis._dispatchEvent('error', { error });\n\n\t\t\tthis._noticeOnTable('Error performing fetch request: ' + String(error));\n\t\t\tthrow error;\n\t\t});\n\t}\n\n\t/**\n\t * Update the table and pagination controls with new data\n\t * @returns {Promise<void>} A promise that resolves when the table and pagination controls are updated\n\t */\n\tprivate async _draw(): Promise<void> {\n\t\tthis._config._state.totalPages =\n\t\t\tMath.ceil(this.getState().totalItems / this.getState().pageSize) || 0;\n\n\t\tthis._fireEvent('draw');\n\t\tthis._dispatchEvent('draw');\n\n\t\tthis._dispose();\n\n\t\t// Update the table and pagination controls\n\t\tif (this._theadElement && this._tbodyElement) {\n\t\t\tthis._updateTable();\n\t\t}\n\n\t\tif (this._infoElement && this._paginationElement) {\n\t\t\tthis._updatePagination();\n\t\t}\n\n\t\tthis._fireEvent('drew');\n\t\tthis._dispatchEvent('drew');\n\n\t\tthis._hideSpinner(); // Hide spinner after data is fetched\n\n\t\tif (this._config.stateSave) {\n\t\t\tthis._saveState();\n\t\t}\n\t}\n\n\t/**\n\t * Update the HTML table with new data\n\t * @returns {HTMLTableSectionElement} The new table body element\n\t */\n\tprivate _updateTable(): HTMLTableSectionElement {\n\t\t// Clear the existing table contents using a more efficient method\n\t\twhile (this._tableElement.tBodies.length) {\n\t\t\tthis._tableElement.removeChild(this._tableElement.tBodies[0]);\n\t\t}\n\n\t\t// Create the table body with the new data\n\t\tconst tbodyElement =\n\t\t\tthis._tableElement.createTBody() as HTMLTableSectionElement;\n\n\t\t// Apply the original class to the new tbody element\n\t\tif (this._originalTbodyClass) {\n\t\t\ttbodyElement.className = this._originalTbodyClass;\n\t\t}\n\n\t\tthis._updateTableContent(tbodyElement);\n\n\t\treturn tbodyElement;\n\t}\n\n\t/**\n\t * Initialize the table header\n\t * Add sort event listener to all sortable columns\n\t */\n\tprivate _initTableHeader(): void {\n\t\tif (!this._theadElement) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Apply the original thead class\n\t\tif (this._originalTheadClass) {\n\t\t\tthis._theadElement.className = this._originalTheadClass;\n\t\t}\n\n\t\t// Set the initial sort icon\n\t\tthis._setSortIcon(this.getState().sortField, this.getState().sortOrder);\n\n\t\t// Get all the table headers\n\t\tconst headers = this._getTableHeaders();\n\n\t\t// Loop through each table header\n\t\theaders.forEach((header, index) => {\n\t\t\t// Apply original th class if available\n\t\t\tif (this._originalThClasses && this._originalThClasses[index]) {\n\t\t\t\t// Preserve the existing sort classes if any\n\t\t\t\tconst sortElement = header.querySelector(`.${this._config.sort.classes.base}`);\n\t\t\t\tlet sortClass = '';\n\t\t\t\tif (sortElement) {\n\t\t\t\t\tsortClass = sortElement.className;\n\t\t\t\t}\n\n\t\t\t\t// Apply original class but keep the sort classes\n\t\t\t\tconst originalClass = this._originalThClasses[index];\n\t\t\t\theader.className = originalClass;\n\n\t\t\t\t// Restore sort element class if it existed\n\t\t\t\tif (sortElement) {\n\t\t\t\t\tsortElement.className = sortClass;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// If the sort class is not found, it's not a sortable column\n\t\t\tif (!header.querySelector(`.${this._config.sort.classes.base}`)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst sortAttribute =\n\t\t\t\theader.getAttribute('data-kt-datatable-column-sort') ||\n\t\t\t\theader.getAttribute('data-kt-datatable-column');\n\t\t\tconst sortField = sortAttribute\n\t\t\t\t? (sortAttribute as keyof T)\n\t\t\t\t: (header.cellIndex as keyof T);\n\n\t\t\t// Add click event listener to the header\n\t\t\theader.addEventListener('click', () => {\n\t\t\t\tconst sortOrder = this._toggleSortOrder(sortField);\n\n\t\t\t\tthis._setSortIcon(sortField, sortOrder);\n\t\t\t\tthis._sort(sortField);\n\t\t\t});\n\t\t});\n\t}\n\n\t/**\n\t * Returns an array of table headers as HTMLTableCellElement.\n\t * @returns {HTMLTableCellElement[]} An array of table headers.\n\t */\n\tprivate _getTableHeaders(): HTMLTableCellElement[] {\n\t\tif (!this._theadElement) {\n\t\t\treturn [];\n\t\t}\n\t\treturn Array.from(\n\t\t\tthis._theadElement.querySelectorAll('th')\n\t\t) as HTMLTableCellElement[];\n\t}\n\n\t/**\n\t * Sets the sort icon in the table header\n\t * @param sortField The field to set the sort icon for\n\t * @param sortOrder The sort order (ascending or descending)\n\t */\n\tprivate _setSortIcon(\n\t\tsortField: keyof T,\n\t\tsortOrder: KTDataTableSortOrderInterface\n\t): void {\n\t\tconst sortClass = sortOrder\n\t\t\t? sortOrder === 'asc'\n\t\t\t\t? this._config.sort.classes.asc\n\t\t\t\t: this._config.sort.classes.desc\n\t\t\t: '';\n\n\t\t// Get the appropriate table header element\n\t\tconst th =\n\t\t\ttypeof sortField === 'number'\n\t\t\t\t? this._theadElement.querySelectorAll('th')[sortField]\n\t\t\t\t: (this._theadElement.querySelector(\n\t\t\t\t\t\t`th[data-kt-datatable-column=\"${String(\n\t\t\t\t\t\t\tsortField\n\t\t\t\t\t\t)}\"], th[data-kt-datatable-column-sort=\"${String(sortField)}\"]`\n\t\t\t\t  ) as HTMLElement);\n\n\t\tif (th) {\n\t\t\tconst sortElement = th.querySelector(\n\t\t\t\t`.${this._config.sort.classes.base}`\n\t\t\t) as HTMLElement;\n\n\t\t\tif (sortElement) {\n\t\t\t\tsortElement.className =\n\t\t\t\t\t`${this._config.sort.classes.base} ${sortClass}`.trim();\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Toggles the sort order of a column\n\t * @param sortField The field to toggle the sort order for\n\t * @returns The new sort order (ascending, descending or unsorted)\n\t */\n\tprivate _toggleSortOrder(\n\t\tsortField: keyof T | number\n\t): KTDataTableSortOrderInterface {\n\t\t// If the sort field is the same as the current sort field,\n\t\t// toggle the sort order. Otherwise, set the sort order to ascending.\n\t\treturn (() => {\n\t\t\tif (this.getState().sortField === sortField) {\n\t\t\t\tswitch (this.getState().sortOrder) {\n\t\t\t\t\tcase 'asc':\n\t\t\t\t\t\treturn 'desc'; // Descending\n\t\t\t\t\tcase 'desc':\n\t\t\t\t\t\treturn ''; // Unsorted\n\t\t\t\t\tdefault:\n\t\t\t\t\t\treturn 'asc'; // Ascending\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn 'asc'; // Ascending\n\t\t})();\n\t}\n\n\t/**\n\t * Update the table content\n\t * @param tbodyElement The table body element\n\t * @returns {HTMLTableSectionElement} The updated table body element\n\t */\n\tprivate _updateTableContent(\n\t\ttbodyElement: HTMLTableSectionElement\n\t): HTMLTableSectionElement {\n\t\tconst fragment = document.createDocumentFragment();\n\n\t\ttbodyElement.textContent = ''; // Clear the tbody element\n\n\t\tif (this._data.length === 0) {\n\t\t\tthis._noticeOnTable(this._config.infoEmpty || '');\n\t\t\treturn tbodyElement;\n\t\t}\n\n\t\tthis._data.forEach((item: T, rowIndex: number) => {\n\t\t\tconst row = document.createElement('tr');\n\n\t\t\t// Apply original tr class if available\n\t\t\tif (this._originalTrClasses && this._originalTrClasses[rowIndex]) {\n\t\t\t\trow.className = this._originalTrClasses[rowIndex];\n\t\t\t}\n\n\t\t\tif (!this._config.columns) {\n\t\t\t\tconst dataRowAttributes = this.getState().originalDataAttributes\n\t\t\t\t\t? this.getState().originalDataAttributes[rowIndex]\n\t\t\t\t\t: null;\n\n\t\t\t\tObject.keys(item).forEach((key: keyof T | number, colIndex: number) => {\n\t\t\t\t\tconst td = document.createElement('td');\n\t\t\t\t\ttd.innerHTML = item[key] as string;\n\n\t\t\t\t\t// Apply original td class if available\n\t\t\t\t\tif (this._originalTdClasses &&\n\t\t\t\t\t\tthis._originalTdClasses[rowIndex] &&\n\t\t\t\t\t\tthis._originalTdClasses[rowIndex][colIndex]) {\n\t\t\t\t\t\ttd.className = this._originalTdClasses[rowIndex][colIndex];\n\t\t\t\t\t}\n\n\t\t\t\t\tif (dataRowAttributes) {\n\t\t\t\t\t\tfor (const attr in dataRowAttributes[colIndex]) {\n\t\t\t\t\t\t\ttd.setAttribute(attr, dataRowAttributes[colIndex][attr]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\trow.appendChild(td);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tObject.keys(this._config.columns).forEach((key: keyof T, colIndex: number) => {\n\t\t\t\t\tconst td = document.createElement('td');\n\t\t\t\t\tconst columnDef = this._config.columns[key as string];\n\n\t\t\t\t\t// Apply original td class if available\n\t\t\t\t\tif (this._originalTdClasses &&\n\t\t\t\t\t\tthis._originalTdClasses[rowIndex] &&\n\t\t\t\t\t\tthis._originalTdClasses[rowIndex][colIndex]) {\n\t\t\t\t\t\ttd.className = this._originalTdClasses[rowIndex][colIndex];\n\t\t\t\t\t}\n\n\t\t\t\t\tif (typeof columnDef.render === 'function') {\n\t\t\t\t\t\ttd.innerHTML = columnDef.render.call(\n\t\t\t\t\t\t\tthis,\n\t\t\t\t\t\t\titem[key] as string,\n\t\t\t\t\t\t\titem,\n\t\t\t\t\t\t\tthis\n\t\t\t\t\t\t) as string;\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttd.textContent = item[key] as string;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (typeof columnDef.createdCell === 'function') {\n\t\t\t\t\t\tcolumnDef.createdCell.call(this, td, item[key], item, row);\n\t\t\t\t\t}\n\n\t\t\t\t\trow.appendChild(td);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tfragment.appendChild(row);\n\t\t});\n\n\t\ttbodyElement.appendChild(fragment);\n\t\treturn tbodyElement;\n\t}\n\n\t/**\n\t * Show a notice on the table\n\t * @param message The message to show. If empty, the message will be removed\n\t * @returns {void}\n\t */\n\tprivate _noticeOnTable(message: string = ''): void {\n\t\tconst row = this._tableElement.tBodies[0].insertRow();\n\t\tconst cell = row.insertCell();\n\t\tcell.colSpan = this._getTableHeaders()?.length || 0;\n\t\tcell.innerHTML = message;\n\t}\n\n\tprivate _updatePagination(): void {\n\t\tthis._removeChildElements(this._sizeElement);\n\t\tthis._createPageSizeControls(this._sizeElement);\n\n\t\tthis._removeChildElements(this._paginationElement);\n\t\tthis._createPaginationControls(this._infoElement, this._paginationElement);\n\t}\n\n\t/**\n\t * Removes all child elements from the given container element.\n\t * @param container The container element to remove the child elements from.\n\t */\n\tprivate _removeChildElements(container: HTMLElement): void {\n\t\tif (!container) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Loop through all child elements of the container and remove them one by one\n\t\twhile (container.firstChild) {\n\t\t\t// Remove the first child element (which is the first element in the list of child elements)\n\t\t\tcontainer.removeChild(container.firstChild);\n\t\t}\n\t}\n\n\t/**\n\t * Creates a container element for the items per page selector.\n\t * @param _sizeElement The element to create the page size controls in.\n\t * @returns The container element.\n\t */\n\tprivate _createPageSizeControls(\n\t\t_sizeElement: HTMLSelectElement\n\t): HTMLSelectElement {\n\t\t// If no element is provided, return early\n\t\tif (!_sizeElement) {\n\t\t\treturn _sizeElement;\n\t\t}\n\n\t\t// Create <option> elements for each page size option\n\t\tconst options = this._config.pageSizes.map((size: number) => {\n\t\t\tconst option = document.createElement('option') as HTMLOptionElement;\n\t\t\toption.value = String(size);\n\t\t\toption.text = String(size);\n\t\t\toption.selected = this.getState().pageSize === size;\n\t\t\treturn option;\n\t\t});\n\n\t\t// Add the <option> elements to the provided element\n\t\t_sizeElement.append(...options);\n\n\t\t// Create an event listener for the \"change\" event on the element\n\t\tconst _pageSizeControlsEvent = (event: Event) => {\n\t\t\t// When the element changes, reload the page with the new page size and page number 1\n\t\t\tthis._reloadPageSize(\n\t\t\t\tNumber((event.target as HTMLSelectElement).value),\n\t\t\t\t1\n\t\t\t);\n\t\t};\n\n\t\t// Bind the event listener to the component instance\n\t\t_sizeElement.onchange = _pageSizeControlsEvent.bind(this);\n\n\t\t// Return the element\n\t\treturn _sizeElement;\n\t}\n\n\t/**\n\t * Reloads the data with the specified page size and optional page number.\n\t * @param pageSize The new page size.\n\t * @param page The new page number (optional, defaults to 1).\n\t */\n\tprivate _reloadPageSize(pageSize: number, page: number = 1): void {\n\t\t// Update the page size and page number in the state\n\t\tthis._config._state.pageSize = pageSize;\n\t\tthis._config._state.page = page;\n\n\t\t// Update the data with the new page size and page number\n\t\tthis._updateData();\n\t}\n\n\t/**\n\t * Creates the pagination controls for the component.\n\t * @param _infoElement The element to set the info text in.\n\t * @param _paginationElement The element to create the pagination controls in.\n\t * @return {HTMLElement} The element containing the pagination controls.\n\t */\n\tprivate _createPaginationControls(\n\t\t_infoElement: HTMLElement,\n\t\t_paginationElement: HTMLElement\n\t): HTMLElement {\n\t\tif (!_infoElement || !_paginationElement || this._data.length === 0) {\n\t\t\treturn null;\n\t\t}\n\n\t\tthis._setPaginationInfoText(_infoElement);\n\t\tconst paginationContainer =\n\t\t\tthis._createPaginationContainer(_paginationElement);\n\n\t\tif (paginationContainer) {\n\t\t\tthis._createPaginationButtons(paginationContainer);\n\t\t}\n\n\t\treturn paginationContainer;\n\t}\n\n\t/**\n\t * Sets the info text for the pagination controls.\n\t * @param _infoElement The element to set the info text in.\n\t */\n\tprivate _setPaginationInfoText(_infoElement: HTMLElement): void {\n\t\t_infoElement.textContent = this._config.info\n\t\t\t.replace(\n\t\t\t\t'{start}',\n\t\t\t\t(this.getState().page - 1) * this.getState().pageSize + 1 + ''\n\t\t\t)\n\t\t\t.replace(\n\t\t\t\t'{end}',\n\t\t\t\tMath.min(\n\t\t\t\t\tthis.getState().page * this.getState().pageSize,\n\t\t\t\t\tthis.getState().totalItems\n\t\t\t\t) + ''\n\t\t\t)\n\t\t\t.replace('{total}', this.getState().totalItems + '');\n\t}\n\n\t/**\n\t * Creates the container element for the pagination controls.\n\t * @param _paginationElement The element to create the pagination controls in.\n\t * @return {HTMLElement} The container element.\n\t */\n\tprivate _createPaginationContainer(\n\t\t_paginationElement: HTMLElement\n\t): HTMLElement {\n\t\tconst paginationContainer = document.createElement('div');\n\t\tpaginationContainer.className = 'pagination';\n\t\t_paginationElement.appendChild(paginationContainer);\n\n\t\treturn paginationContainer;\n\t}\n\n\t/**\n\t * Creates the pagination buttons for the component.\n\t * @param paginationContainer The container element for the pagination controls.\n\t */\n\tprivate _createPaginationButtons(paginationContainer: HTMLElement): void {\n\t\tconst { page: currentPage, totalPages } = this.getState();\n\t\tconst { previous, next, number, more } = this._config.pagination;\n\n\t\t// Helper function to create a button\n\t\tconst createButton = (\n\t\t\ttext: string,\n\t\t\tclassName: string,\n\t\t\tdisabled: boolean,\n\t\t\thandleClick: () => void\n\t\t): HTMLButtonElement => {\n\t\t\tconst button = document.createElement('button') as HTMLButtonElement;\n\t\t\tbutton.className = className;\n\t\t\tbutton.innerHTML = text;\n\t\t\tbutton.disabled = disabled;\n\t\t\tbutton.onclick = handleClick;\n\t\t\treturn button;\n\t\t};\n\n\t\t// Add Previous Button\n\t\tpaginationContainer.appendChild(\n\t\t\tcreateButton(\n\t\t\t\tprevious.text,\n\t\t\t\t`${previous.class}${currentPage === 1 ? ' disabled' : ''}`,\n\t\t\t\tcurrentPage === 1,\n\t\t\t\t() => this._paginateData(currentPage - 1)\n\t\t\t)\n\t\t);\n\n\t\t// Calculate range of pages\n\t\tconst pageMoreEnabled = this._config.pageMore;\n\n\t\tif (pageMoreEnabled) {\n\t\t\tconst maxButtons = this._config.pageMoreLimit;\n\t\t\tconst range = this._calculatePageRange(\n\t\t\t\tcurrentPage,\n\t\t\t\ttotalPages,\n\t\t\t\tmaxButtons\n\t\t\t);\n\n\t\t\t// Add start ellipsis\n\t\t\tif (range.start > 1) {\n\t\t\t\tpaginationContainer.appendChild(\n\t\t\t\t\tcreateButton(more.text, more.class, false, () =>\n\t\t\t\t\t\tthis._paginateData(Math.max(1, range.start - 1))\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t}\n\n\t\t\t// Add page buttons\n\t\t\tfor (let i = range.start; i <= range.end; i++) {\n\t\t\t\tpaginationContainer.appendChild(\n\t\t\t\t\tcreateButton(\n\t\t\t\t\t\tnumber.text.replace('{page}', i.toString()),\n\t\t\t\t\t\t`${number.class}${currentPage === i ? ' active disabled' : ''}`,\n\t\t\t\t\t\tcurrentPage === i,\n\t\t\t\t\t\t() => this._paginateData(i)\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t}\n\n\t\t\t// Add end ellipsis\n\t\t\tif (pageMoreEnabled && range.end < totalPages) {\n\t\t\t\tpaginationContainer.appendChild(\n\t\t\t\t\tcreateButton(more.text, more.class, false, () =>\n\t\t\t\t\t\tthis._paginateData(Math.min(totalPages, range.end + 1))\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t}\n\t\t} else {\n\t\t\t// Add page buttons\n\t\t\tfor (let i = 1; i <= totalPages; i++) {\n\t\t\t\tpaginationContainer.appendChild(\n\t\t\t\t\tcreateButton(\n\t\t\t\t\t\tnumber.text.replace('{page}', i.toString()),\n\t\t\t\t\t\t`${number.class}${currentPage === i ? ' active disabled' : ''}`,\n\t\t\t\t\t\tcurrentPage === i,\n\t\t\t\t\t\t() => this._paginateData(i)\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\t// Add Next Button\n\t\tpaginationContainer.appendChild(\n\t\t\tcreateButton(\n\t\t\t\tnext.text,\n\t\t\t\t`${next.class}${currentPage === totalPages ? ' disabled' : ''}`,\n\t\t\t\tcurrentPage === totalPages,\n\t\t\t\t() => this._paginateData(currentPage + 1)\n\t\t\t)\n\t\t);\n\t}\n\n\t// New helper method to calculate page range\n\tprivate _calculatePageRange(\n\t\tcurrentPage: number,\n\t\ttotalPages: number,\n\t\tmaxButtons: number\n\t): { start: number; end: number } {\n\t\tlet startPage: number, endPage: number;\n\t\tconst halfMaxButtons = Math.floor(maxButtons / 2);\n\n\t\tif (totalPages <= maxButtons) {\n\t\t\tstartPage = 1;\n\t\t\tendPage = totalPages;\n\t\t} else {\n\t\t\tstartPage = Math.max(currentPage - halfMaxButtons, 1);\n\t\t\tendPage = Math.min(startPage + maxButtons - 1, totalPages);\n\t\t\tif (endPage - startPage < maxButtons - 1) {\n\t\t\t\tstartPage = Math.max(endPage - maxButtons + 1, 1);\n\t\t\t}\n\t\t}\n\n\t\treturn { start: startPage, end: endPage };\n\t}\n\n\t/**\n\t * Method for handling pagination\n\t * @param page - The page number to navigate to\n\t */\n\tprivate _paginateData(page: number): void {\n\t\tif (page < 1 || !Number.isInteger(page)) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._fireEvent('pagination', { page: page });\n\t\tthis._dispatchEvent('pagination', { page: page });\n\n\t\tif (page >= 1 && page <= this.getState().totalPages) {\n\t\t\tthis._config._state.page = page;\n\t\t\tthis._updateData();\n\t\t}\n\t}\n\n\t// Method to show the loading spinner\n\tprivate _showSpinner(): void {\n\t\tconst spinner =\n\t\t\tthis._element.querySelector<HTMLElement>(\n\t\t\t\tthis._config.attributes.spinner\n\t\t\t) || this._createSpinner();\n\t\tif (spinner) {\n\t\t\tspinner.style.display = 'block';\n\t\t}\n\t\tthis._element.classList.add('loading');\n\t}\n\n\t// Method to hide the loading spinner\n\tprivate _hideSpinner(): void {\n\t\tconst spinner = this._element.querySelector<HTMLElement>(\n\t\t\tthis._config.attributes.spinner\n\t\t);\n\t\tif (spinner) {\n\t\t\tspinner.style.display = 'none';\n\t\t}\n\t\tthis._element.classList.remove('loading');\n\t}\n\n\t// Method to create a spinner element if it doesn't exist\n\tprivate _createSpinner(): HTMLElement {\n\t\tif (typeof this._config.loading === 'undefined') {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst template = document.createElement('template');\n\t\ttemplate.innerHTML = this._config.loading.template\n\t\t\t.trim()\n\t\t\t.replace('{content}', this._config.loading.content);\n\t\tconst spinner = template.content.firstChild as HTMLElement;\n\t\tspinner.setAttribute('data-kt-datatable-spinner', 'true');\n\n\t\tthis._tableElement.appendChild(spinner);\n\n\t\treturn spinner;\n\t}\n\n\t/**\n\t * Saves the current state of the table to local storage.\n\t * @returns {void}\n\t */\n\tprivate _saveState(): void {\n\t\tthis._fireEvent('stateSave');\n\t\tthis._dispatchEvent('stateSave');\n\n\t\tconst ns: string = this._tableNamespace();\n\n\t\tif (ns) {\n\t\t\tlocalStorage.setItem(\n\t\t\t\tns,\n\t\t\t\tJSON.stringify(this.getState() as KTDataTableStateInterface)\n\t\t\t);\n\t\t}\n\t}\n\n\t/**\n\t * Loads the saved state of the table from local storage, if it exists.\n\t * @returns {Object} The saved state of the table, or null if no saved state exists.\n\t */\n\tprivate _loadState(): KTDataTableStateInterface | null {\n\t\tconst stateString = localStorage.getItem(this._tableNamespace());\n\t\tif (!stateString) return null;\n\n\t\ttry {\n\t\t\tconst state = JSON.parse(stateString) as KTDataTableStateInterface;\n\t\t\tif (state) this._config._state = state;\n\t\t\treturn state;\n\t\t} catch {} // eslint-disable-line no-empty\n\n\t\treturn null;\n\t}\n\n\tprivate _deleteState(): void {\n\t\tconst ns = this._tableNamespace();\n\n\t\tif (ns) {\n\t\t\tlocalStorage.removeItem(ns);\n\t\t}\n\t}\n\n\t/**\n\t * Gets the namespace for the table's state.\n\t * If a namespace is specified in the config, it is used.\n\t * Otherwise, if the table element has an ID, it is used.\n\t * Otherwise, if the component element has an ID, it is used.\n\t * Finally, the component's UID is used.\n\t * @returns {string} The namespace for the table's state.\n\t */\n\tprivate _tableNamespace(): string {\n\t\t// Use the specified namespace, if one is given\n\t\tif (this._config.stateNamespace) {\n\t\t\treturn this._config.stateNamespace;\n\t\t}\n\n\t\t// Fallback to the component's UID\n\t\treturn this._tableId() ?? this._name;\n\t}\n\n\tprivate _tableId(): string {\n\t\tlet id: string = null;\n\t\t// If the table element has an ID, use that\n\t\tif (this._tableElement?.getAttribute('id')) {\n\t\t\tid = this._tableElement.getAttribute('id') as string;\n\t\t}\n\n\t\t// If the component element has an ID, use that\n\t\tif (this._element?.getAttribute('id')) {\n\t\t\tid = this._element.getAttribute('id') as string;\n\t\t}\n\n\t\treturn id;\n\t}\n\n\t/**\n\t * Sorts the data in the table by the specified field.\n\t * @param sortField The field to sort by.\n\t */\n\tprivate _sort(sortField: keyof T | number): void {\n\t\t// Determine the new sort order based on the current state\n\t\tconst newSortOrder = this._toggleSortOrder(sortField);\n\n\t\t// Update the current sort field and order\n\t\tthis._config._state.sortField = sortField as never;\n\t\tthis._config._state.sortOrder = newSortOrder;\n\n\t\tthis._fireEvent('sort', { field: sortField, order: newSortOrder });\n\t\tthis._dispatchEvent('sort', { field: sortField, order: newSortOrder });\n\n\t\t// Fetch data from the server with the new sort order\n\t\tthis._updateData();\n\t}\n\n\tprivate _dispose() {\n\t\tif (this._headerCheckElement) {\n\t\t\tthis._headerCheckElement.removeEventListener(\n\t\t\t\t'click',\n\t\t\t\tthis._checkboxListener\n\t\t\t);\n\t\t}\n\t}\n\n\tprivate _debounce(func: Function, wait: number) {\n\t\tlet timeout: number | undefined;\n\t\treturn function (...args: any[]) {\n\t\t\tconst later = () => {\n\t\t\t\tclearTimeout(timeout);\n\t\t\t\tfunc(...args);\n\t\t\t};\n\t\t\tclearTimeout(timeout);\n\t\t\ttimeout = window.setTimeout(later, wait);\n\t\t};\n\t}\n\n\t/**\n\t * Event handlers\n\t */\n\tprotected _checkboxHandler(): void {\n\t\t// Handle header checkbox change event\n\t\tthis._headerCheckElement.addEventListener('click', this._checkboxListener);\n\n\t\t// Handle target checbox change event\n\t\tKTEventHandler.on(\n\t\t\tdocument.body,\n\t\t\tthis._config.attributes.checkbox,\n\t\t\t'input',\n\t\t\t(event: Event) => {\n\t\t\t\tthis._checkboxUpdate(event as InputEvent); // Update checkbox state based on checked rows\n\t\t\t}\n\t\t);\n\t}\n\n\t/**\n\t * Checks if element is checked\n\t * @returns {boolean}\n\t */\n\tprotected _isChecked(): boolean {\n\t\treturn this._headerChecked;\n\t}\n\n\t/**\n\t * Change checkbox state\n\t * @param checked The new state of the checkbox\n\t * @returns {void}\n\t */\n\tprotected _change(checked: boolean): void {\n\t\tconst payload: KTDataTableCheckChangePayloadInterface = { cancel: false };\n\n\t\tthis._fireEvent('change', payload);\n\t\tthis._dispatchEvent('change', payload);\n\n\t\tif (payload.cancel === true) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._headerChecked = checked;\n\t\tthis._headerCheckElement.checked = checked;\n\n\t\tif (this._targetElements) {\n\t\t\tthis._targetElements.forEach((element: HTMLInputElement) => {\n\t\t\t\tif (element) {\n\t\t\t\t\telement.checked = checked;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tthis._fireEvent('changed');\n\t\tthis._dispatchEvent('changed');\n\t}\n\n\t/**\n\t * Toggle checkbox state\n\t * @param event The event if available\n\t * @returns {void}\n\t */\n\tprotected _checkboxToggle(event?: Event): void {\n\t\tconst checked = !this._isChecked();\n\n\t\tconst eventType = checked ? 'checked' : 'unchecked';\n\n\t\tthis._fireEvent(eventType);\n\t\tthis._dispatchEvent(eventType);\n\n\t\tthis._change(checked);\n\t}\n\n\t/**\n\t * Update checkbox state based on checked rows\n\t * @param event The event if available\n\t * @returns {void}\n\t */\n\tprotected _checkboxUpdate(event?: Event): void {\n\t\tlet checked = 0;\n\t\tconst total = this._targetElements.length;\n\n\t\tfor (let i = 0; i < total; i++) {\n\t\t\tconst element = this._targetElements[i];\n\t\t\tif (!element) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tconst row = element.closest('tr');\n\t\t\tif (!row) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (element.checked) {\n\t\t\t\trow.classList.add(this._config.checkbox.checkedClass as string);\n\t\t\t\tchecked++;\n\t\t\t} else {\n\t\t\t\trow.classList.remove(this._config.checkbox.checkedClass as string);\n\t\t\t}\n\t\t}\n\n\t\tif (checked === 0) {\n\t\t\tthis._headerCheckElement.indeterminate = false;\n\t\t\tthis._change(false);\n\t\t}\n\n\t\tif (checked > 0 && checked < total) {\n\t\t\tthis._headerCheckElement.indeterminate = true;\n\t\t}\n\n\t\tif (checked === total) {\n\t\t\tthis._headerCheckElement.indeterminate = false;\n\t\t\tthis._change(true);\n\t\t}\n\t}\n\n\t/**\n\t * Get checked row IDs\n\t * @returns {string[]} An array of checked row IDs\n\t */\n\tprotected _getChecked(): string[] {\n\t\tconst checked: string[] = [];\n\n\t\tthis._targetElements.forEach((element: HTMLInputElement | null) => {\n\t\t\tif (element && element.checked) {\n\t\t\t\tconst value = element.value;\n\t\t\t\tif (value) {\n\t\t\t\t\tchecked.push(value);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\treturn checked;\n\t}\n\n\tpublic isChecked(): boolean {\n\t\treturn this._isChecked();\n\t}\n\n\tpublic toggle(): void {\n\t\tthis._checkboxToggle();\n\t}\n\n\t/**\n\t * Check all rows\n\t * @returns {void}\n\t */\n\tpublic check(): void {\n\t\tthis._change(true as boolean);\n\t\tthis._checkboxUpdate();\n\t}\n\n\t/**\n\t * Uncheck all rows\n\t * @returns {void}\n\t */\n\tpublic uncheck(): void {\n\t\tthis._change(false as boolean);\n\t}\n\n\t/**\n\t * Get checked row IDs\n\t * @returns {string[]} An array of checked row IDs\n\t */\n\tpublic getChecked(): string[] {\n\t\t// eslint-disable-next-line @typescript-eslint/no-explicit-any\n\t\treturn this._getChecked() as any;\n\t}\n\n\tpublic update(): void {\n\t\tthis._checkboxUpdate();\n\t}\n\n\t/**\n\t * Gets the current state of the table.\n\t * @returns {KTDataTableStateInterface} The current state of the table.\n\t */\n\tpublic getState(): KTDataTableStateInterface {\n\t\treturn {\n\t\t\t/**\n\t\t\t * The current page number.\n\t\t\t */\n\t\t\tpage: 1,\n\t\t\t/**\n\t\t\t * The field that the data is sorted by.\n\t\t\t */\n\t\t\tsortField: null,\n\t\t\t/**\n\t\t\t * The sort order (ascending or descending).\n\t\t\t */\n\t\t\tsortOrder: '',\n\t\t\t/**\n\t\t\t * The number of rows to display per page.\n\t\t\t */\n\t\t\tpageSize: this._config.pageSize,\n\n\t\t\tfilters: [],\n\n\t\t\t/**\n\t\t\t * Any additional state that may have been stored in the config.\n\t\t\t */\n\t\t\t...this._config._state,\n\t\t};\n\t}\n\n\t/**\n\t * Sorts the data in the table by the specified field.\n\t * @param field The field to sort by.\n\t */\n\tpublic sort(field: keyof T | number): void {\n\t\t// Sort the data\n\t\tthis._sort(field);\n\t}\n\n\t/**\n\t * Navigates to the specified page in the data table.\n\t * @param page The page number to navigate to.\n\t */\n\tpublic goPage(page: number): void {\n\t\tif (page < 1 || !Number.isInteger(page)) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Navigate to the specified page\n\t\tthis._paginateData(page);\n\t}\n\n\t/**\n\t * Set the page size of the data table.\n\t * @param pageSize The new page size.\n\t */\n\tpublic setPageSize(pageSize: number): void {\n\t\tif (!Number.isInteger(pageSize)) {\n\t\t\treturn;\n\t\t}\n\n\t\t/**\n\t\t * Reload the page size of the data table.\n\t\t * @param pageSize The new page size.\n\t\t */\n\t\tthis._reloadPageSize(pageSize);\n\t}\n\n\t/**\n\t * Reloads the data from the server and updates the table.\n\t * Triggers the 'reload' event and the 'kt.datatable.reload' custom event.\n\t */\n\tpublic reload(): void {\n\t\tthis._fireEvent('reload');\n\t\tthis._dispatchEvent('reload');\n\n\t\t// Fetch the data from the server using the current sort and filter settings\n\t\tthis._updateData();\n\t}\n\n\tpublic redraw(page: number = 1): void {\n\t\tthis._fireEvent('redraw');\n\t\tthis._dispatchEvent('redraw');\n\n\t\tthis._paginateData(page);\n\t}\n\n\t/**\n\t * Show the loading spinner of the data table.\n\t */\n\tpublic showSpinner(): void {\n\t\t/**\n\t\t * Show the loading spinner of the data table.\n\t\t */\n\t\tthis._showSpinner();\n\t}\n\n\t/**\n\t * Hide the loading spinner of the data table.\n\t */\n\tpublic hideSpinner(): void {\n\t\t/**\n\t\t * Hide the loading spinner of the data table.\n\t\t */\n\t\tthis._hideSpinner();\n\t}\n\n\t/**\n\t * Filter data using the specified filter object.\n\t * Replaces the existing filter object for the column with the new one.\n\t * @param filter Filter object containing the column name and its value.\n\t * @returns The KTDataTable instance.\n\t * @throws Error if the filter object is null or undefined.\n\t */\n\tpublic setFilter(filter: KTDataTableColumnFilterInterface): KTDataTable<T> {\n\t\tthis._config._state.filters = [\n\t\t\t...(this.getState().filters || []).filter(\n\t\t\t\t(f) => f.column !== filter.column\n\t\t\t),\n\t\t\tfilter,\n\t\t];\n\t\treturn this;\n\t}\n\n\tpublic override dispose(): void {\n\t\tthis._dispose();\n\t}\n\n\tpublic search(query: string | object): void {\n\t\tthis._config._state.search = query;\n\t\tthis.reload();\n\t}\n\n\t/**\n\t * Static variables\n\t */\n\tprivate static _instances = new Map<\n\t\tHTMLElement,\n\t\tKTDataTable<KTDataTableDataInterface>\n\t>();\n\n\t/**\n\t * Create KTDataTable instances for all elements with a data-kt-datatable=\"true\" attribute.\n\t *\n\t * This function should be called after the control(s) have been\n\t * loaded and parsed by the browser. It will create instances of\n\t * KTDataTable for all elements with a data-kt-datatable=\"true\" attribute.\n\t */\n\tpublic static createInstances(): void {\n\t\tconst elements = document.querySelectorAll<HTMLElement>(\n\t\t\t'[data-kt-datatable=\"true\"]'\n\t\t);\n\n\t\telements.forEach((element) => {\n\t\t\tif (\n\t\t\t\telement.hasAttribute('data-kt-datatable') &&\n\t\t\t\t!element.classList.contains('datatable-initialized')\n\t\t\t) {\n\t\t\t\t/**\n\t\t\t\t * Create an instance of KTDataTable for the given element\n\t\t\t\t * @param element The element to create an instance for\n\t\t\t\t */\n\t\t\t\tconst instance = new KTDataTable(element);\n\t\t\t\tthis._instances.set(element, instance);\n\t\t\t}\n\t\t});\n\t}\n\n\t/**\n\t * Get the KTDataTable instance for a given element.\n\t *\n\t * @param element The element to retrieve the instance for\n\t * @returns The KTDataTable instance or undefined if not found\n\t */\n\tpublic static getInstance(\n\t\telement: HTMLElement\n\t): KTDataTable<KTDataTableDataInterface> | undefined {\n\t\treturn this._instances.get(element);\n\t}\n\n\t/**\n\t * Initializes all KTDataTable instances on the page.\n\t *\n\t * This function should be called after the control(s) have been\n\t * loaded and parsed by the browser.\n\t */\n\tpublic static init(): void {\n\t\t// Create instances of KTDataTable for all elements with a\n\t\t// data-kt-datatable=\"true\" attribute\n\t\tKTDataTable.createInstances();\n\t}\n\n\t// Other plugin methods can be added here\n}\n\nif (typeof window !== 'undefined') {\n\twindow.KTDataTable = KTDataTable;\n}\n","export { KTDataTable } from './datatable';\nexport type {\n\tKTDataTableSortOrderInterface,\n\tKTDataTableDataInterface,\n\tKTDataTableStateInterface as KTDataTableState,\n\tKTDataTableInterface,\n\tKTDataTableResponseDataInterface,\n\tKTDataTableConfigInterface,\n\tKTDataTableColumnFilterTypeInterface,\n\tKTDataTableColumnFilterInterface,\n\tKTDataTableCheckConfigInterface,\n\tKTDataTableCheckInterface,\n\tKTDataTableCheckChangePayloadInterface\n} from './types';\n","import KTComponent from '../component';\nimport { KTDatepickerStateManager } from './config';\nimport {\n\tDatePickerSegment,\n\tKTDatepickerConfigInterface,\n\tSelectedDateInterface,\n} from './types';\n\nexport class KTDatepickerCalendar extends KTComponent {\n\tprotected override readonly _name: string = 'datepicker-calendar';\n\tprotected override readonly _config: KTDatepickerConfigInterface;\n\n\tprivate _calendarState: Date = new Date();\n\n\tprivate _state: KTDatepickerStateManager;\n\n\tprivate _timeInputDisplayElement: HTMLElement;\n\tprivate _calendarElement: HTMLElement;\n\tprivate _dropdownContainer: HTMLElement;\n\n\tprivate _dropdownElement: HTMLElement | null = null;\n\tprivate _mainDisplayElement: HTMLElement | null = null;\n\tprivate _isOpen: boolean = false;\n\n\tconstructor(element: HTMLElement, state?: KTDatepickerStateManager) {\n\t\tsuper();\n\t\tthis._state = state;\n\n\t\tthis._init(element);\n\t\tthis._buildConfig(this._state.getConfig());\n\n\t\tthis._attachCalendarEventListeners();\n\t\tthis._attachMonthYearEventListeners();\n\t}\n\n\t/**\n\t * ========================================================================\n\t * Date utils\n\t * ========================================================================\n\t */\n\n\tprivate _getDaysInMonth(year: number, month: number): number {\n\t\treturn new Date(year, month + 1, 0).getDate();\n\t}\n\n\tprivate _getFirstDayOfMonth(year: number, month: number): number {\n\t\tconst firstDayOfWeek = this._state.getFirstDayOfWeek();\n\t\treturn (new Date(year, month, 1).getDay() - firstDayOfWeek + 7) % 7;\n\t}\n\n\tprivate _getYear(date: Date = new Date()): number {\n\t\treturn date.getFullYear();\n\t}\n\n\tprivate _getMonth(date: Date = new Date()): number {\n\t\treturn date.getMonth();\n\t}\n\n\tprivate _getMonthYear(year: number, month: number, offset: number) {\n\t\tconst currentMonth = (month + offset) % 12;\n\t\tconst currentYear = month + offset > 11 ? year + 1 : year;\n\t\treturn { currentMonth, currentYear };\n\t}\n\n\tprivate _getMonthName(month: number): string {\n\t\tconst monthNames = this._state.getMonthNames();\n\t\treturn monthNames[month] || monthNames[0];\n\t}\n\n\tprivate _setMonth(month: number): void {\n\t\tthis._calendarState.setMonth(month);\n\t}\n\n\tprivate _setYear(year: number): void {\n\t\tthis._calendarState.setFullYear(year);\n\t}\n\n\t/**\n\t * ========================================================================\n\t * Calendar UI\n\t * ========================================================================\n\t */\n\n\tprivate _renderCalendar(selectedData?: Date): void {\n\t\tthis._calendarState = selectedData ?? this._calendarState;\n\t\tconst year = this._getYear(this._calendarState);\n\t\tconst month = this._getMonth(this._calendarState);\n\n\t\tconst calendarHtml = this._generateCalendarHtml(year, month);\n\n\t\tif (!this._dropdownContainer) {\n\t\t\tthis._dropdownContainer = this._state\n\t\t\t\t.getTemplates()\n\t\t\t\t?.dropdownContainer(this._state);\n\t\t\tthis._dropdownContainer.appendChild(calendarHtml);\n\t\t}\n\n\t\tif (this._calendarElement) {\n\t\t\tthis._calendarElement.replaceWith(calendarHtml);\n\t\t} else {\n\t\t\tthis._element.appendChild(this._dropdownContainer);\n\t\t}\n\n\t\tthis._calendarElement = calendarHtml;\n\n\t\tthis._initDropdown();\n\n\t\tif (this._config.enableTime) {\n\t\t\tthis._renderTimeInputDisplay(this._state.getSelectedDateInterface());\n\t\t\tthis._attachTimeSelectorEvent();\n\t\t}\n\t}\n\n\tprivate _generateCalendarHtml(year: number, month: number): HTMLElement {\n\t\tconst calendar = this._state\n\t\t\t.getTemplates()\n\t\t\t?.calendar(this._state, this._config.visibleMonths);\n\n\t\t// Iterate over visible months and generate content for each\n\t\tfor (let i = 0; i < this._config.visibleMonths; i++) {\n\t\t\tconst { currentMonth, currentYear } = this._getMonthYear(year, month, i);\n\t\t\tconst firstDayOfMonth = this._getFirstDayOfMonth(\n\t\t\t\tcurrentYear,\n\t\t\t\tcurrentMonth\n\t\t\t);\n\t\t\tconst daysInMonth = this._getDaysInMonth(currentYear, currentMonth);\n\n\t\t\tconst weeksHtml = this._generateWeeksHtml(\n\t\t\t\tcurrentYear,\n\t\t\t\tcurrentMonth,\n\t\t\t\tfirstDayOfMonth,\n\t\t\t\tdaysInMonth\n\t\t\t);\n\t\t\tconst daysOfWeekHtml = this._state\n\t\t\t\t.getTemplates()\n\t\t\t\t?.daysOfWeek(this._state, this._state.getWeekdays()).innerHTML;\n\n\t\t\tthis._updateMonthContainer(\n\t\t\t\tcalendar,\n\t\t\t\ti,\n\t\t\t\tcurrentMonth,\n\t\t\t\tcurrentYear,\n\t\t\t\tdaysOfWeekHtml,\n\t\t\t\tweeksHtml\n\t\t\t);\n\t\t}\n\n\t\treturn calendar;\n\t}\n\n\tprivate _updateMonthContainer(\n\t\tcalendar: HTMLElement,\n\t\tindex: number,\n\t\tmonth: number,\n\t\tyear: number,\n\t\tdaysOfWeekHtml: string,\n\t\tweeksHtml: string[]\n\t): void {\n\t\tconst monthContainer = calendar.querySelectorAll<HTMLElement>(\n\t\t\t`[${this._config.monthContainerSelector}]`\n\t\t)[index];\n\t\tconst monthDisplay = monthContainer.querySelector<HTMLElement>(\n\t\t\t`[${this._config.monthDisplaySelector}]`\n\t\t);\n\t\tconst yearDisplay = monthContainer.querySelector<HTMLElement>(\n\t\t\t`[${this._config.yearDisplaySelector}]`\n\t\t);\n\t\tconst daysOfWeek = monthContainer.querySelector<HTMLElement>(\n\t\t\t`[${this._config.daysOfWeekSelector}]`\n\t\t);\n\t\tconst datepickerGrid = monthContainer.querySelector<HTMLElement>(\n\t\t\t`[${this._config.calendarGridSelector}]`\n\t\t);\n\n\t\tif (monthDisplay) monthDisplay.textContent = this._getMonthName(month);\n\t\tif (yearDisplay) yearDisplay.textContent = year.toString();\n\t\tif (daysOfWeek) daysOfWeek.innerHTML = daysOfWeekHtml;\n\t\tif (datepickerGrid) datepickerGrid.innerHTML = weeksHtml.join('');\n\t}\n\n\tprivate _generateWeeksHtml(\n\t\tyear: number,\n\t\tmonth: number,\n\t\tfirstDayOfMonth: number,\n\t\tdaysInMonth: number\n\t): string[] {\n\t\tconst weeksHtml = [];\n\t\tlet weekHtml = [];\n\n\t\tconst totalCells = this._calculateTotalCells(firstDayOfMonth, daysInMonth);\n\n\t\tfor (let i = 0; i < totalCells; i++) {\n\t\t\tconst dayOfMonth = i - firstDayOfMonth + 1;\n\t\t\tlet date = this._adjustDateForEdges(year, month, dayOfMonth);\n\n\t\t\t// Check if the day is disabled, which includes edge days that should be disabled\n\t\t\tconst isDisabled = this._isDateDisabled(date, dayOfMonth, daysInMonth);\n\t\t\tconst dayCellHtml = this._generateDayCellHtml(date, isDisabled);\n\t\t\tweekHtml.push(dayCellHtml);\n\n\t\t\tif ((i + 1) % 7 === 0) {\n\t\t\t\tweeksHtml.push(\n\t\t\t\t\tthis._state.getTemplates()?.week(this._state, weekHtml).outerHTML\n\t\t\t\t);\n\t\t\t\tweekHtml = [];\n\t\t\t}\n\t\t}\n\n\t\treturn weeksHtml;\n\t}\n\n\tprivate _calculateTotalCells(\n\t\tfirstDayOfMonth: number,\n\t\tdaysInMonth: number\n\t): number {\n\t\tconst totalDays = daysInMonth + firstDayOfMonth;\n\t\treturn Math.ceil(totalDays / 7) * 7;\n\t}\n\n\tprivate _adjustDateForEdges(\n\t\tyear: number,\n\t\tmonth: number,\n\t\tdayOfMonth: number\n\t): Date {\n\t\tif (dayOfMonth <= 0) {\n\t\t\tconst prevMonth = month === 0 ? 11 : month - 1;\n\t\t\tconst prevYear = month === 0 ? year - 1 : year;\n\t\t\tconst daysInPrevMonth = this._getDaysInMonth(prevYear, prevMonth);\n\t\t\treturn new Date(prevYear, prevMonth, daysInPrevMonth + dayOfMonth);\n\t\t} else if (dayOfMonth > this._getDaysInMonth(year, month)) {\n\t\t\tconst nextMonth = month === 11 ? 0 : month + 1;\n\t\t\tconst nextYear = month === 11 ? year + 1 : year;\n\t\t\treturn new Date(\n\t\t\t\tnextYear,\n\t\t\t\tnextMonth,\n\t\t\t\tdayOfMonth - this._getDaysInMonth(year, month)\n\t\t\t);\n\t\t}\n\t\treturn new Date(year, month, dayOfMonth);\n\t}\n\n\tprivate _isDateDisabled(\n\t\tdate: Date,\n\t\tdayOfMonth: number,\n\t\tdaysInMonth: number\n\t): boolean {\n\t\t// Determine if the date is from a previous or next month (edge days)\n\t\tconst isEdgeDay = dayOfMonth <= 0 || dayOfMonth > daysInMonth;\n\n\t\t// Use _isOutsideVisibleRange and _isMinMaxConfigRange to determine if the date should be disabled\n\t\tconst isDisabled =\n\t\t\tisEdgeDay ||\n\t\t\tthis._isOutsideVisibleRange(date) ||\n\t\t\tthis._state.isMinMaxConfigRange(date);\n\n\t\treturn isDisabled;\n\t}\n\n\tprivate _generateDayCellHtml(date: Date, isDisabled: boolean): string {\n\t\tconst isSelected =\n\t\t\t!this._config.range &&\n\t\t\tthis._state.getSelectedDate()?.toDateString() === date.toDateString();\n\t\tconst isToday = date.toDateString() === new Date().toDateString();\n\t\tconst isInRange = this._isSelectedCalendarDateInRange(date);\n\t\tconst isStartDate =\n\t\t\tthis._state.getSelectedDateRange()?.startDate?.toDateString() ===\n\t\t\tdate.toDateString();\n\t\tconst isEndDate =\n\t\t\tthis._state.getSelectedDateRange()?.endDate?.toDateString() ===\n\t\t\tdate.toDateString();\n\n\t\tconst dayCell = this._state\n\t\t\t.getTemplates()\n\t\t\t?.dayCell(\n\t\t\t\tthis._state,\n\t\t\t\tdate,\n\t\t\t\tisSelected,\n\t\t\t\tisToday,\n\t\t\t\tisDisabled,\n\t\t\t\tisInRange,\n\t\t\t\tisStartDate,\n\t\t\t\tisEndDate\n\t\t\t);\n\n\t\tif (isToday && !isDisabled) {\n\t\t\tdayCell.focus();\n\t\t}\n\n\t\treturn dayCell.outerHTML;\n\t}\n\n\tprivate _isOutsideVisibleRange(date: Date): boolean {\n\t\tconst dateYear = date.getFullYear();\n\t\tconst dateMonth = date.getMonth();\n\t\tconst firstVisibleMonth = this._calendarState.getMonth();\n\t\tlet lastVisibleMonth =\n\t\t\t(firstVisibleMonth + this._config.visibleMonths - 1) % 12;\n\n\t\tlet lastVisibleYear = this._calendarState.getFullYear();\n\t\tif (lastVisibleMonth < firstVisibleMonth) {\n\t\t\tlastVisibleYear++;\n\t\t}\n\n\t\treturn (\n\t\t\tdateYear < this._calendarState.getFullYear() || // Previous year\n\t\t\tdateYear > lastVisibleYear || // Next year\n\t\t\t(dateYear === this._calendarState.getFullYear() &&\n\t\t\t\tdateMonth < firstVisibleMonth) || // Current year, before first visible month\n\t\t\t(dateYear === lastVisibleYear && dateMonth > lastVisibleMonth) || // Last visible year, after last visible month\n\t\t\t(dateYear === lastVisibleYear &&\n\t\t\t\tdateMonth === lastVisibleMonth &&\n\t\t\t\tdate.getDate() > this._getDaysInMonth(dateYear, dateMonth)) // Last visible month, days exceeding the month's length\n\t\t);\n\t}\n\n\tprivate _isSelectedCalendarDateInRange(date: Date): boolean {\n\t\tconst { startDate: startDate, endDate: endDate } =\n\t\t\tthis._state.getSelectedDateRange() || {};\n\t\tif (startDate && endDate) {\n\t\t\t// Create new Date objects with time components set to 0 for accurate comparison\n\t\t\tconst start = new Date(\n\t\t\t\tstartDate.getFullYear(),\n\t\t\t\tstartDate.getMonth(),\n\t\t\t\tstartDate.getDate()\n\t\t\t);\n\t\t\tconst end = new Date(\n\t\t\t\tendDate.getFullYear(),\n\t\t\t\tendDate.getMonth(),\n\t\t\t\tendDate.getDate()\n\t\t\t);\n\t\t\tconst current = new Date(\n\t\t\t\tdate.getFullYear(),\n\t\t\t\tdate.getMonth(),\n\t\t\t\tdate.getDate()\n\t\t\t);\n\n\t\t\treturn current >= start && current <= end;\n\t\t}\n\t\treturn false;\n\t}\n\n\tprivate _attachCalendarEventListeners(): void {\n\t\tdocument.addEventListener('keydown', (event) => {\n\t\t\tif (\n\t\t\t\t(event.key === 'Escape' || event.key === 'Enter') &&\n\t\t\t\tthis._isMonthYearSelectorVisible()\n\t\t\t) {\n\t\t\t\tthis._handleToggleMonthYearSelector();\n\t\t\t}\n\t\t});\n\n\t\tdocument.addEventListener('click', (event) => {\n\t\t\tconst target = event.target as HTMLElement;\n\n\t\t\tif (\n\t\t\t\tthis._isMonthYearSelectorVisible() &&\n\t\t\t\t!target.closest(`[${this._config.monthYearDisplaySelector}]`) &&\n\t\t\t\t!target.closest(`[${this._config.monthYearSelector}]`)\n\t\t\t) {\n\t\t\t\tthis._handleToggleMonthYearSelector();\n\t\t\t}\n\t\t});\n\n\t\tthis._element.addEventListener('click', (event) => {\n\t\t\tconst target = event.target as HTMLElement;\n\n\t\t\t// Previous month button\n\t\t\tif (target.closest(`[${this._config.prevBtnSelector}]`)) {\n\t\t\t\tthis._goToCalendarPreviousMonth();\n\t\t\t}\n\n\t\t\t// Next month button\n\t\t\telse if (target.closest(`[${this._config.nextBtnSelector}]`)) {\n\t\t\t\tthis._goToCalendarNextMonth();\n\t\t\t}\n\n\t\t\t// Month/year display\n\t\t\telse if (target.closest(`[${this._config.monthYearDisplaySelector}]`)) {\n\t\t\t\tthis._renderMonthYearSelector();\n\t\t\t}\n\n\t\t\t// Day cells\n\t\t\telse if (\n\t\t\t\ttarget.closest(\n\t\t\t\t\t`[${this._config.dateCellSelector}]:not([data-disabled=\"true\"])`\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\tthis._handleCalendarDayClick(target);\n\t\t\t}\n\t\t});\n\n\t\tthis._element.addEventListener(\n\t\t\tthis._config.keyboardNavigateEvent,\n\t\t\tthis._handleOnDateChange.bind(this)\n\t\t);\n\n\t\tthis._element.addEventListener('mouseover', (event) => {\n\t\t\tconst target = event.target as HTMLElement;\n\t\t\tconst dateCell = target.closest(\n\t\t\t\t`[${this._config.dateCellSelector}]:not([data-disabled=\"true\"])`\n\t\t\t) as HTMLElement;\n\n\t\t\tif (dateCell && this._state.getSelectedDateRange()?.startDate) {\n\t\t\t\tconst day = parseInt(dateCell.dataset.day!, 10);\n\t\t\t\tconst month = parseInt(dateCell.dataset.month!, 10);\n\t\t\t\tconst year = parseInt(dateCell.dataset.year!, 10);\n\t\t\t\tconst hoveredDate = new Date(year, month, day);\n\n\t\t\t\tthis._updateCalendarHover(hoveredDate);\n\t\t\t}\n\t\t});\n\t}\n\n\tprivate _handleOnDateChange(event: CustomEvent) {\n\t\tconst { selectedDate, selectedDateRange } = event.detail\n\t\t\t.payload as SelectedDateInterface;\n\n\t\tif (selectedDate) {\n\t\t\tthis._state.setSelectedDate(selectedDate);\n\t\t} else if (selectedDateRange && this._config.range) {\n\t\t\tthis._state.setSelectedDateRange(\n\t\t\t\tselectedDateRange.startDate,\n\t\t\t\tselectedDateRange.endDate\n\t\t\t);\n\t\t}\n\n\t\tthis._renderCalendar(selectedDate);\n\t}\n\n\tprivate _goToCalendarPreviousMonth(): void {\n\t\tconst month = this._calendarState.getMonth() - 1;\n\n\t\tthis._calendarState.setMonth(month);\n\t\tthis._renderCalendar();\n\n\t\tthis._dispatchEvent(\n\t\t\tthis._config.calendarPreviousMonthEvent,\n\t\t\tthis._state.getSelectedDateInterface()\n\t\t);\n\t\tthis._fireEvent(\n\t\t\tthis._config.calendarPreviousMonthEvent,\n\t\t\tthis._state.getSelectedDateInterface()\n\t\t);\n\t}\n\n\tprivate _goToCalendarNextMonth(): void {\n\t\tconst month = this._calendarState.getMonth() + 1;\n\n\t\tthis._calendarState.setMonth(month);\n\t\tthis._renderCalendar();\n\n\t\tthis._dispatchEvent(\n\t\t\tthis._config.calendarNextMonthEvent,\n\t\t\tthis._state.getSelectedDateInterface()\n\t\t);\n\t\tthis._fireEvent(\n\t\t\tthis._config.calendarNextMonthEvent,\n\t\t\tthis._state.getSelectedDateInterface()\n\t\t);\n\t}\n\n\tprivate _handleCalendarDayClick(cell: HTMLElement): void {\n\t\tconst day = parseInt(cell.dataset.day!, 10);\n\t\tconst month = parseInt(cell.dataset.month!, 10);\n\t\tconst year = parseInt(cell.dataset.year!, 10);\n\n\t\tconst newSelectedDate = new Date(\n\t\t\tyear,\n\t\t\tmonth,\n\t\t\tday,\n\t\t\tthis._calendarState.getHours(),\n\t\t\tthis._calendarState.getMinutes(),\n\t\t\tthis._calendarState.getSeconds()\n\t\t);\n\n\t\tif (this._config.range) {\n\t\t\tconst selectedDateRange = this._state.getSelectedDateRange();\n\n\t\t\tif (!selectedDateRange.startDate) {\n\t\t\t\tthis._state.setSelectedDateRange(newSelectedDate);\n\t\t\t} else if (!selectedDateRange.endDate) {\n\t\t\t\tconst startDate = selectedDateRange.startDate;\n\t\t\t\tthis._state.setSelectedDateRange(\n\t\t\t\t\tnewSelectedDate < startDate ? newSelectedDate : startDate,\n\t\t\t\t\tnewSelectedDate > startDate ? newSelectedDate : startDate\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\t// If both start and end dates are already selected, reset the range with the new date as the start date\n\t\t\t\tthis._state.setSelectedDateRange(newSelectedDate);\n\t\t\t}\n\t\t} else {\n\t\t\tthis._state.setSelectedDate(newSelectedDate);\n\t\t}\n\n\t\tthis._renderCalendar();\n\n\t\tthis._dispatchEvent(\n\t\t\tthis._config.dateChangeEvent,\n\t\t\tthis._state.getSelectedDateInterface()\n\t\t);\n\t\tthis._fireEvent(\n\t\t\tthis._config.dateChangeEvent,\n\t\t\tthis._state.getSelectedDateInterface()\n\t\t);\n\n\t\tthis._dispatchEvent(\n\t\t\tthis._config.calendarRenderedEvent,\n\t\t\tthis._state.getSelectedDateInterface()\n\t\t);\n\t\tthis._fireEvent(\n\t\t\tthis._config.calendarRenderedEvent,\n\t\t\tthis._state.getSelectedDateInterface()\n\t\t);\n\t}\n\n\tprivate _updateCalendarHover(hoveredDate: Date): void {\n\t\tconst { startDate: selectedStartDate, endDate: selectedEndDate } =\n\t\t\tthis._state.getSelectedDateRange();\n\n\t\t// Find the date cell element based on hoveredDate\n\t\tconst hoveredCell = this._element.querySelector(\n\t\t\t`[${\n\t\t\t\tthis._config.dateCellSelector\n\t\t\t}][data-year=\"${hoveredDate.getFullYear()}\"][data-month=\"${hoveredDate.getMonth()}\"][data-day=\"${hoveredDate.getDate()}\"]`\n\t\t);\n\n\t\tif (!hoveredCell || !selectedStartDate || selectedEndDate) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Clear previous hover classes\n\t\tconst allCells = this._element.querySelectorAll(\n\t\t\t`[${this._config.dateCellSelector}]`\n\t\t);\n\t\tallCells.forEach((cell) =>\n\t\t\tcell.classList.remove(this._config.hoveredInRangeClass)\n\t\t);\n\n\t\t// Set time components to zero for both dates to compare only the dates (once)\n\t\thoveredDate.setHours(0, 0, 0, 0);\n\t\tselectedStartDate.setHours(0, 0, 0, 0);\n\n\t\tconst startDateTimestamp = selectedStartDate.getTime();\n\t\tconst hoveredDateTimestamp = hoveredDate.getTime();\n\n\t\t// Calculate lowerBound and upperBound only once\n\t\tconst lowerBound = Math.min(startDateTimestamp, hoveredDateTimestamp);\n\t\tconst upperBound = Math.max(startDateTimestamp, hoveredDateTimestamp);\n\n\t\tallCells.forEach((cell) => {\n\t\t\tif (cell instanceof HTMLElement) {\n\t\t\t\tconst cellDate = new Date(\n\t\t\t\t\tparseInt(cell.dataset.year!),\n\t\t\t\t\tparseInt(cell.dataset.month!),\n\t\t\t\t\tparseInt(cell.dataset.day!)\n\t\t\t\t);\n\t\t\t\tcellDate.setHours(0, 0, 0, 0); // Set time to midnight\n\t\t\t\tconst cellTimestamp = cellDate.getTime();\n\n\t\t\t\tif (cellTimestamp >= lowerBound && cellTimestamp <= upperBound) {\n\t\t\t\t\tcell.classList.add(this._config.hoveredInRangeClass);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\t/**\n\t * ========================================================================\n\t * Month/Year UI\n\t * ========================================================================\n\t */\n\n\tprivate _renderMonthYearSelector(): void {\n\t\tconst monthYearElement = this._state\n\t\t\t.getTemplates()\n\t\t\t?.monthYearSelector(this._state);\n\t\tthis._clearAndAppend(monthYearElement); // Clear existing content and append the new selector\n\n\t\tthis._populateMonthYearOptions(monthYearElement); // Populate month and year options\n\t}\n\n\tprivate _clearAndAppend(newContent: HTMLElement | null): void {\n\t\tthis._clearMonthYearSelector();\n\t\tif (newContent) {\n\t\t\tthis._element.appendChild(newContent);\n\t\t}\n\t}\n\n\tprivate _populateMonthOptions(\n\t\tmonthYearElement: HTMLElement,\n\t\tselectedMonthIndex: number\n\t) {\n\t\tconst monthNames = this._state.getMonthNames();\n\t\tconst monthOptionsHtml = this._state\n\t\t\t.getTemplates()\n\t\t\t?.monthOptions(this._state, monthNames, selectedMonthIndex);\n\t\tconst monthOptionsContainer = monthYearElement.querySelector(\n\t\t\t`[${this._config.monthOptionsSelector}]`\n\t\t);\n\t\tmonthOptionsContainer?.insertAdjacentHTML('beforeend', monthOptionsHtml);\n\t}\n\n\tprivate _populateYearOptions(\n\t\tmonthYearElement: HTMLElement,\n\t\tselectedYear: number,\n\t\tyearLength: number\n\t) {\n\t\tconst yearOptionsHtml = this._state\n\t\t\t.getTemplates()\n\t\t\t?.yearOptions(this._state, selectedYear, yearLength);\n\t\tconst yearOptionsContainer = monthYearElement.querySelector(\n\t\t\t`[${this._config.yearOptionSelector}]`\n\t\t);\n\t\tyearOptionsContainer?.insertAdjacentHTML('beforeend', yearOptionsHtml);\n\t}\n\n\tprivate _populateMonthYearOptions(monthYearElement: HTMLElement): void {\n\t\tconst selectedYear = this._getYear(this._calendarState);\n\t\tconst selectedMonthIndex = this._getMonth(this._calendarState);\n\t\tconst yearLength = this._config.visibleYears;\n\n\t\tthis._populateMonthOptions(monthYearElement, selectedMonthIndex);\n\t\tthis._populateYearOptions(monthYearElement, selectedYear, yearLength);\n\n\t\tthis._updateMonthYearDisplayTitles(\n\t\t\tmonthYearElement,\n\t\t\tselectedMonthIndex,\n\t\t\tselectedYear\n\t\t);\n\t}\n\n\tprivate _isMonthYearSelectorVisible(): boolean {\n\t\tconst monthYearElement = this._element.querySelector(\n\t\t\t`[${this._config.monthYearSelector}]`\n\t\t);\n\t\treturn (\n\t\t\tmonthYearElement &&\n\t\t\twindow.getComputedStyle(monthYearElement).display !== 'none'\n\t\t);\n\t}\n\n\tprivate _attachMonthYearEventListeners(): void {\n\t\t// Attach the listener once to the main element (or a suitable parent)\n\t\tthis._element.addEventListener('click', (event) => {\n\t\t\tconst target = event.target as HTMLElement;\n\n\t\t\t// Check if the click is within the month/year selector\n\t\t\tconst monthYearSelector = target.closest(\n\t\t\t\t`[${this._config.monthYearSelector}]`\n\t\t\t);\n\t\t\tif (!monthYearSelector) {\n\t\t\t\treturn; // Ignore clicks outside the selector\n\t\t\t}\n\n\t\t\t// Year buttons\n\t\t\tif (target.closest(`[${this._config.yearOptionSelector}]`)) {\n\t\t\t\tthis._handleYearClick(event);\n\t\t\t}\n\n\t\t\t// Month buttons\n\t\t\telse if (target.closest(`[${this._config.monthOptionSelector}]`)) {\n\t\t\t\tthis._handleMonthClick(event);\n\t\t\t}\n\n\t\t\t// Month/year display (to close the selector)\n\t\t\telse if (target.closest(`[${this._config.monthYearDisplaySelector}]`)) {\n\t\t\t\tthis._handleToggleMonthYearSelector();\n\t\t\t}\n\t\t});\n\t}\n\n\tprivate _updateMonthYearDisplayTitles(\n\t\tmonthYearElement: HTMLElement,\n\t\tselectedMonthIndex: number,\n\t\tselectedYear: number\n\t): void {\n\t\tconst monthDisplay = monthYearElement.querySelector(\n\t\t\t`[${this._config.monthDisplaySelector}]`\n\t\t);\n\t\tconst yearDisplay = monthYearElement.querySelector(\n\t\t\t`[${this._config.yearDisplaySelector}]`\n\t\t);\n\n\t\tmonthDisplay!.textContent = this._getMonthName(selectedMonthIndex);\n\t\tyearDisplay!.textContent = selectedYear.toString();\n\t}\n\n\tprivate _clearMonthYearSelector(): void {\n\t\tthis._element\n\t\t\t.querySelector(`[${this._config.monthYearSelector}]`)\n\t\t\t?.remove();\n\t}\n\n\tprivate _handleMonthClick(event: MouseEvent): void {\n\t\tconst button = event.target as HTMLButtonElement;\n\t\tconst selectedMonth = parseInt(button.getAttribute('data-month')!, 10);\n\n\t\tthis._setMonth(selectedMonth);\n\n\t\tconst monthYearElement = this._element.querySelector(\n\t\t\t`[${this._config.monthYearSelector}]`\n\t\t) as HTMLElement;\n\n\t\t// Update the titles with the monthSelector, selectedMonth and current year\n\t\tthis._updateMonthYearDisplayTitles(\n\t\t\tmonthYearElement,\n\t\t\tselectedMonth,\n\t\t\tthis._getYear(this._calendarState)\n\t\t);\n\t}\n\n\tprivate _handleYearClick(event: MouseEvent): void {\n\t\tconst button = event.target as HTMLButtonElement;\n\t\tconst selectedYear = parseInt(button.getAttribute('data-year')!, 10);\n\n\t\tthis._setYear(selectedYear);\n\n\t\tconst monthYearElement = this._element.querySelector(\n\t\t\t`[${this._config.monthYearSelector}]`\n\t\t) as HTMLElement;\n\n\t\t// Update the titles with the monthSelector, current month and selectedYear\n\t\tthis._updateMonthYearDisplayTitles(\n\t\t\tmonthYearElement,\n\t\t\tthis._getMonth(this._calendarState),\n\t\t\tselectedYear\n\t\t);\n\t}\n\n\tprivate _handleToggleMonthYearSelector(): void {\n\t\tthis._clearMonthYearSelector();\n\t\tthis._renderCalendar();\n\t}\n\n\t/**\n\t * ========================================================================\n\t * Date Time input\n\t * ========================================================================\n\t */\n\n\tprivate _renderTimeInputDisplay(selectedDate: SelectedDateInterface): void {\n\t\tlet newElement: HTMLElement | null = null;\n\n\t\tif (this._config.range && selectedDate.selectedDateRange) {\n\t\t\tconst { startDate, endDate } = selectedDate.selectedDateRange;\n\t\t\tconst startDateTimeDisplay =\n\t\t\t\tthis._state.getDateDisplayInterface(startDate);\n\t\t\tconst endDateTimeDisplay = this._state.getDateDisplayInterface(endDate);\n\t\t\tnewElement = this._state\n\t\t\t\t.getTemplates()\n\t\t\t\t?.timeSelectorRangeDisplay(\n\t\t\t\t\tthis._state,\n\t\t\t\t\tstartDateTimeDisplay,\n\t\t\t\t\tendDateTimeDisplay,\n\t\t\t\t\tthis._config.hourStep,\n\t\t\t\t\tthis._config.minuteStep,\n\t\t\t\t\tthis._config.secondStep,\n\t\t\t\t\tthis._state.getDisabledHours(),\n\t\t\t\t\tthis._state.getDisabledMinutes(),\n\t\t\t\t\tthis._state.is12Hours(),\n\t\t\t\t\tselectedDate\n\t\t\t\t);\n\t\t} else {\n\t\t\tconst dateTimeDisplay = this._state.getDateDisplayInterface(\n\t\t\t\tselectedDate.selectedDate\n\t\t\t);\n\t\t\tnewElement = this._state\n\t\t\t\t.getTemplates()\n\t\t\t\t?.timeSelectorDisplay(\n\t\t\t\t\tthis._state,\n\t\t\t\t\tdateTimeDisplay,\n\t\t\t\t\tthis._config.hourStep,\n\t\t\t\t\tthis._config.minuteStep,\n\t\t\t\t\tthis._config.secondStep,\n\t\t\t\t\tthis._state.getDisabledHours(),\n\t\t\t\t\tthis._state.getDisabledMinutes(),\n\t\t\t\t\tthis._state.is12Hours(),\n\t\t\t\t\tselectedDate.selectedDate\n\t\t\t\t);\n\t\t}\n\n\t\tthis._calendarElement.appendChild(newElement);\n\n\t\tthis._timeInputDisplayElement = newElement;\n\t}\n\n\tprivate _attachTimeSelectorEvent(): void {\n\t\tif (this._timeInputDisplayElement) {\n\t\t\tthis._timeInputDisplayElement.addEventListener(\n\t\t\t\t'change',\n\t\t\t\t(event: Event) => {\n\t\t\t\t\tconst changedElement = event.target as HTMLSelectElement;\n\n\t\t\t\t\t// Check if the change event is from a time selector\n\t\t\t\t\tconst timeSegment = changedElement.dataset.datepickerSegment as\n\t\t\t\t\t\t| DatePickerSegment\n\t\t\t\t\t\t| undefined;\n\n\t\t\t\t\tif (timeSegment) {\n\t\t\t\t\t\tconst newValue = parseInt(changedElement.value, 10);\n\n\t\t\t\t\t\tif (this._config.range) {\n\t\t\t\t\t\t\tconst isStartTimeSelector =\n\t\t\t\t\t\t\t\tchangedElement.closest(\n\t\t\t\t\t\t\t\t\t`[data-kt-datepicker-time-type=\"start\"]`\n\t\t\t\t\t\t\t\t) !== null;\n\t\t\t\t\t\t\tconst targetDate =\n\t\t\t\t\t\t\t\tthis._getTargetDateForRange(isStartTimeSelector);\n\n\t\t\t\t\t\t\tif (targetDate) {\n\t\t\t\t\t\t\t\tthis._updateTimeComponent(targetDate, timeSegment, newValue);\n\t\t\t\t\t\t\t\tthis._state.setSelectedDate(targetDate);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis._updateTimeComponent(\n\t\t\t\t\t\t\t\tthis._state.getSelectedDate(),\n\t\t\t\t\t\t\t\ttimeSegment,\n\t\t\t\t\t\t\t\tnewValue\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tthis._state.setSelectedDate(this._state.getSelectedDate());\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthis._dispatchEvent(\n\t\t\t\t\t\t\tthis._config.dateChangeEvent,\n\t\t\t\t\t\t\tthis._state.getSelectedDateInterface()\n\t\t\t\t\t\t);\n\t\t\t\t\t\tthis._fireEvent(\n\t\t\t\t\t\t\tthis._config.dateChangeEvent,\n\t\t\t\t\t\t\tthis._state.getSelectedDateInterface()\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t}\n\n\tprivate _updateTimeComponent(\n\t\tdateToUpdate: Date,\n\t\ttimeSegment: DatePickerSegment,\n\t\tnewValue: number\n\t): void {\n\t\tif (!dateToUpdate) {\n\t\t\treturn;\n\t\t}\n\n\t\tswitch (timeSegment) {\n\t\t\tcase DatePickerSegment.Hours:\n\t\t\tcase DatePickerSegment.EndHours:\n\t\t\t\t// Handle 12-hour format conversion if needed\n\t\t\t\tif (!this._state.is12Hours()) {\n\t\t\t\t\tconst currentHour = dateToUpdate.getHours();\n\t\t\t\t\tconst isPM = currentHour >= 12;\n\t\t\t\t\tnewValue = newValue === 12 ? 0 : newValue; // 12 AM is 0 in 24-hour format\n\t\t\t\t\tnewValue = isPM ? newValue + 12 : newValue; // Add 12 for PM hours\n\t\t\t\t}\n\t\t\t\tdateToUpdate.setHours(newValue);\n\t\t\t\tbreak;\n\t\t\tcase DatePickerSegment.Minutes:\n\t\t\tcase DatePickerSegment.EndMinutes:\n\t\t\t\tdateToUpdate.setMinutes(newValue);\n\t\t\t\tbreak;\n\t\t\tcase DatePickerSegment.Seconds:\n\t\t\tcase DatePickerSegment.EndSeconds:\n\t\t\t\tdateToUpdate.setSeconds(newValue);\n\t\t\t\tbreak;\n\t\t\tcase DatePickerSegment.AmPm:\n\t\t\tcase DatePickerSegment.EndAmPm:\n\t\t\t\tconst currentHour = dateToUpdate.getHours();\n\t\t\t\tconst newHour =\n\t\t\t\t\tnewValue === 12 ? (currentHour % 12) + 12 : currentHour % 12;\n\t\t\t\tdateToUpdate.setHours(newHour);\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tprivate _getTargetDateForRange(isStartTimeSelector: boolean): Date | null {\n\t\treturn isStartTimeSelector\n\t\t\t? this._state.getSelectedDateRange()?.startDate\n\t\t\t: this._state.getSelectedDateRange()?.endDate;\n\t}\n\n\t/**\n\t * ========================================================================\n\t * Dropdown UI\n\t * ========================================================================\n\t */\n\n\tprivate _initDropdown(): void {\n\t\tthis._dropdownElement = this._element.querySelector(\n\t\t\t`[${this._config.dropdownSelector}]`\n\t\t);\n\t\tthis._mainDisplayElement = this._element.querySelector(\n\t\t\t`[${this._config.mainDisplaySelector}]`\n\t\t);\n\n\t\tif (this._dropdownElement) {\n\t\t\t// Remove existing click event\n\t\t\tthis._mainDisplayElement.removeEventListener(\n\t\t\t\t'click',\n\t\t\t\tthis._toggleDropdown.bind(this)\n\t\t\t);\n\n\t\t\t// Reattach the click event\n\t\t\tthis._mainDisplayElement.addEventListener(\n\t\t\t\t'click',\n\t\t\t\tthis._toggleDropdown.bind(this)\n\t\t\t);\n\t\t}\n\t}\n\n\tprivate _toggleDropdown() {\n\t\tconsole.log('toggleDropdown');\n\t\tthis._isOpen ? this._closeDropdown() : this._openDropdown();\n\t}\n\n\tprivate _openDropdown() {\n\t\tif (this._isOpen) return;\n\t\tthis._dropdownElement.classList.remove('hidden');\n\t\tthis._isOpen = true;\n\t\tthis._setAriaAttributes(); // Update ARIA attributes when opened\n\n\t\tthis._dispatchEvent('show.datepicker');\n\t\tthis._fireEvent('show.datepicker');\n\t}\n\n\tprivate _closeDropdown() {\n\t\tif (!this._isOpen) return;\n\t\tthis._dropdownElement.classList.add('hidden');\n\t\tthis._isOpen = false;\n\t\tthis._setAriaAttributes(); // Update ARIA attributes when closed\n\n\t\tthis._dispatchEvent('close.datepicker');\n\t\tthis._fireEvent('close.datepicker');\n\t}\n\n\tprivate _setAriaAttributes() {\n\t\tthis._dropdownElement.setAttribute(\n\t\t\t'aria-expanded',\n\t\t\tthis._isOpen.toString()\n\t\t);\n\t}\n\n\t/**\n\t * ========================================================================\n\t * Public API\n\t * ========================================================================\n\t */\n\n\tpublic renderCalendar(): void {\n\t\tthis._renderCalendar();\n\t}\n}\n","import { DefaultLocales } from \"./locales\";\nimport { DefaultTemplates } from \"./templates\";\nimport { DateRangeInterface, DateTimeDisplayInterface, KTDatepickerConfigInterface, LocaleConfigInterface, SelectedDateInterface } from \"./types\";\n\nexport const DefaultConfig: KTDatepickerConfigInterface = {\n\tlocale: 'en-US',\n\tlocales: DefaultLocales, // all locales\n\n\tweekDays: 'min',\n\tforceLeadingZero: true,\n\n\t// 0-indexed month\n\t// minDate: new Date(2024, 7, 20),\n\t// maxDate: new Date(2024, 8, 10),\n\n\t// supported formats: refer to dateFormat\n\t// minDate: '20/08/2024',\n\t// maxDate: '10/09/2024',\n\n\t// Calendar\n\tvisibleMonths: 1, // visible months calendar to show\n\tvisibleYears: 10, // visible years span to show on year selection\n\n\t// Date\n\tdateFormat: 'dd/MM/yyyy',\n\n\t// Time\n\tenableTime: false,\n\ttimeFormat: 'hh:mm:ss A ZZZ', // 12-hours time format\n\t// timeFormat: 'HH:mm:ss ZZZ', // 24-hours time format\n\tam: 'AM',\n\tpm: 'PM',\n\thourStep: 1,\n\t// minuteStep: 5,\n\t// secondStep: 10,\n\t// disabledHours: [0, 1, 2, 3, 4, 5, 6, 22, 23],\n\t// disabledMinutes: [0, 1, 2, 3],\n\n\t// Date range\n\trange: false,\n\trangeSeparator: ' - ',\n\n\t// Element selectors\n\tinputSelector: 'data-kt-datepicker-input',\n\tstartInputSelector: 'data-kt-datepicker-start',\n\tendInputSelector: 'data-kt-datepicker-end',\n\tsegmentSelector: 'data-kt-datepicker-segment',\n\tmonthContainerSelector: 'data-kt-datepicker-month-container',\n\tmonthDisplaySelector: 'data-kt-datepicker-month-display',\n\tyearDisplaySelector: 'data-kt-datepicker-year-display',\n\tdaysOfWeekSelector: 'data-kt-datepicker-days-of-week',\n\tcalendarGridSelector: 'data-kt-datepicker-grid',\n\tprevBtnSelector: 'data-kt-datepicker-prev-btn',\n\tnextBtnSelector: 'data-kt-datepicker-next-btn',\n\tmonthYearDisplaySelector: 'data-kt-datepicker-month-year-display',\n\tdateCellSelector: 'data-kt-datepicker-cell',\n\tmonthYearSelector: 'data-kt-datepicker-month-year-selector',\n\tmonthOptionSelector: 'data-kt-datepicker-month-option',\n\tyearOptionSelector: 'data-kt-datepicker-year-option',\n\ttimeInputSelector: 'data-kt-datepicker-time-input',\n\tmonthOptionsSelector: 'data-kt-datepicker-month-options',\n\tyearOptionsSelector: 'data-kt-datepicker-year-options',\n    dropdownSelector: 'data-kt-datepicker-dropdown',\n    mainDisplaySelector: 'data-kt-datepicker-display',\n\n\t// Events\n\tinitEvent: 'init',\n\tdateChangeEvent: 'date-change',\n\tkeyboardNavigateEvent: 'keyboard-navigate',\n\tcalendarRenderedEvent: 'rendered',\n\tcalendarPreviousMonthEvent: 'previous-month',\n\tcalendarNextMonthEvent: 'next-month',\n\n\t// Classes\n\tselectedClass: 'selected',\n\thoveredInRangeClass: 'hovered-in-range',\n\n\tcontainerClass: 'flex',\n\tmonthContainerClass: 'hover:bg-gray-100 dark:hover:bg-gray-600 cursor-pointer font-semibold text-sm',\n\tdaysOfWeekClass: 'dow text-center text-sm font-medium text-gray-500 dark:text-gray-400',\n\tdayCellClass: 'hover:bg-gray-100 dark:hover:bg-gray-600 cursor-pointer text-center font-semibold text-sm',\n\tdayCellSelectedClass: 'selected',\n\tdayCellCurrentClass: 'current',\n\tdayCellDisabledClass: 'disabled cursor-not-allowed opacity-50',\n\tdayCellInRangeClass: 'selected',\n\tdayCellStartClass: 'start',\n\tdayCellEndClass: 'end',\n\tmonthYearSelectorContainerClass: 'bg-white shadow-lg rounded-md p-4',\n\tmonthYearDisplayClass: 'flex items-center cursor-pointer',\n\tmonthYearDisplayTextClass: 'text-lg font-bold mx-2',\n\tmonthYearOptionsContainerClass: 'flex',\n\tmonthOptionClass: 'py-2 px-4 text-sm hover:bg-gray-200 focus:outline-none',\n\tmonthOptionSelectedClass: 'selected',\n\tmonthOptionCurrentClass: 'current',\n\tyearOptionClass: 'py-2 px-4 text-sm hover:bg-gray-200 focus:outline-none',\n\tyearOptionSelectedClass: 'selected',\n\tyearOptionCurrentClass: 'current',\n\tdatetimeDisplayClass: 'flex items-center space-x-2',\n\tdatetimeSegmentClass: 'cursor-pointer',\n\ttimeListContainerClass: 'bg-white shadow-md rounded p-3',\n\ttimeSelectorFlexContainerClass: 'flex flex-wrap justify-center',\n\ttimePartContainerClass: 'w-1/2 sm:w-1/4 p-1',\n\ttimePartLabelClass: 'block text-center text-sm font-medium text-gray-700 mb-1',\n\ttimeSelectClass: 'w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm',\n};\n\nexport class KTDatepickerStateManager {\n\n\tprivate readonly _config: KTDatepickerConfigInterface;\n\tprivate _localeConfig: LocaleConfigInterface;\n\n\tprivate _selectedDate: Date | null = null;\n\tprivate _selectedDateRange: Required<DateRangeInterface> = { startDate: null, endDate: null };\n\n\tconstructor(config?: KTDatepickerConfigInterface) {\n\t\tthis._config = this._initDefaultConfig(config);\n\t\tthis._setLocale(this._config.locale || 'en-US');\n\t}\n\n\tprivate _setLocale(locale: string) {\n\t\tthis._config.locale = locale;\n\t\tthis._localeConfig = this._getLocalesConfig(locale);\n\t}\n\n\tprivate _getLocalesConfig(locale: string): LocaleConfigInterface {\n\t\tconst config = this._config.locales as { [key: string]: LocaleConfigInterface };\n\t\tif (config[locale]) {\n\t\t\treturn config[locale];\n\t\t}\n\t\tconsole.warn(`Locale '${locale}' not found. Falling back to 'en-US'.`);\n\t\treturn config['en-US'];\n\t}\n\n\tprivate _initDefaultConfig(config: KTDatepickerConfigInterface): any {\n\t\treturn {\n\t\t\t...DefaultConfig, ...config,\n\t\t\ttemplates: { ...DefaultTemplates, ...DefaultConfig.templates, ...(config?.templates || {}) }\n\t\t};\n\t}\n\n\tpublic padZero(num: number, maxLength = 2, paddingChar = '0'): string {\n\t\tif (!this._config.forceLeadingZero) {\n\t\t\treturn String(num);\n\t\t}\n\t\treturn String(num).padStart(maxLength, paddingChar);\n\t}\n\n\tpublic getConfig(): KTDatepickerConfigInterface {\n\t\treturn this._config;\n\t}\n\n\tpublic getTemplates(): Partial<typeof DefaultTemplates> {\n\t\treturn this._config.templates;\n\t}\n\n\tpublic getDateFormat(): string {\n\t\treturn this._config.dateFormat || 'dd/MM/yyyy';\n\t}\n\n\tpublic getTimeFormat(): string {\n\t\treturn this._config.timeFormat || 'hh:mm:ss A ZZZ';\n\t}\n\n\tpublic getFirstDayOfWeek(): number {\n\t\treturn this._localeConfig.firstDayOfWeek || 0;\n\t}\n\n\tpublic getWeekdaysShort(): string[] {\n\t\treturn this._localeConfig.dayNamesShort || this._localeConfig.dayNames.map(day => day.slice(0, 3));\n\t}\n\n\tpublic getMonthNames(): string[] {\n\t\treturn this._localeConfig.monthNames || this._localeConfig.monthNamesShort;\n\t}\n\n\tpublic getWeekdaysMin(): string[] {\n\t\treturn this._localeConfig.dayNamesMin || this._localeConfig.dayNames.map(day => day.slice(0, 1));\n\t}\n\n\tpublic getWeekdays(): string[] {\n\t\treturn this._config.weekDays === 'min' ? this.getWeekdaysMin() : this.getWeekdaysShort();\n\t}\n\n\tpublic getDisabledHours(): number[] {\n\t\treturn this._config.disabledHours || [];\n\t}\n\n\tpublic getDisabledMinutes(): number[] {\n\t\treturn this._config.disabledMinutes || [];\n\t}\n\n\tpublic strToDate(dateString: string, format: string): Date | null {\n\t\tconst formatParts = format.split(/[^A-Za-z]/);\n\t\tconst dateParts = dateString.split(/[^0-9\\s]/).map(part => part.trim());\n\n\t\tif (formatParts.length !== dateParts.length) {\n\t\t\treturn null; // Mismatch between format and date string\n\t\t}\n\n\t\tconst dateMap: { [key: string]: number } = {\n\t\t\tyear: 0,\n\t\t\tmonth: 0,\n\t\t\tday: 1,\n\t\t\thours: 0,\n\t\t\tminutes: 0,\n\t\t\tseconds: 0,\n\t\t};\n\n\t\tformatParts.forEach((formatPart, index) => {\n\t\t\tconst partValue = parseInt(dateParts[index], 10);\n\n\t\t\tswitch (formatPart) {\n\t\t\t\tcase 'YYYY':\n\t\t\t\tcase 'yyyy':\n\t\t\t\t\tdateMap.year = partValue;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'MM':\n\t\t\t\t\tdateMap.month = partValue - 1; // Months are 0-based in JavaScript Date\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'DD':\n\t\t\t\tcase 'dd':\n\t\t\t\t\tdateMap.day = partValue;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'HH':\n\t\t\t\tcase 'hh':\n\t\t\t\t\tdateMap.hours = partValue;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'mm':\n\t\t\t\t\tdateMap.minutes = partValue;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'ss':\n\t\t\t\t\tdateMap.seconds = partValue;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t});\n\n\t\treturn new Date(\n\t\t\tdateMap.year,\n\t\t\tdateMap.month,\n\t\t\tdateMap.day,\n\t\t\tdateMap.hours,\n\t\t\tdateMap.minutes,\n\t\t\tdateMap.seconds\n\t\t);\n\t}\n\n\tpublic getAmPm(hours: number): string {\n\t\treturn hours < 12 ? this._config.am : this._config.pm;\n\t}\n\n\tpublic formatTimezone(date: Date): string {\n\t\tconst timezoneOffset = date.getTimezoneOffset();\n\t\tif (timezoneOffset === 0) {\n\t\t\treturn 'UTC';\n\t\t} else {\n\t\t\tconst offsetHours = this.padZero(Math.abs(timezoneOffset / 60));\n\t\t\tconst timezoneSign = timezoneOffset >= 0 ? '-' : '+';\n\t\t\treturn `GMT${timezoneSign}${offsetHours}`;\n\t\t}\n\t}\n\n\tpublic formatTime(date: Date, format: string = null): string {\n\t\tif (!date) {\n\t\t\treturn '';\n\t\t}\n\n\t\tconst timeFormat = format || this.getTimeFormat();\n\t\tconst hours = date.getHours();\n\t\tconst minutes = date.getMinutes();\n\t\tconst seconds = date.getSeconds();\n\t\tconst amPm = this.getAmPm(hours);\n\t\tconst hour = hours % 12 || 12;\n\n\t\tconst formattedTime = timeFormat\n\t\t\t.replace('hh', this.padZero(hour))\n\t\t\t.replace('HH', this.padZero(hours))\n\t\t\t.replace('mm', this.padZero(minutes))\n\t\t\t.replace('ss', this.padZero(seconds))\n\t\t\t.replace('a', amPm.toLocaleLowerCase(this._config.locale))\n\t\t\t.replace('A', amPm.toLocaleUpperCase(this._config.locale))\n\t\t\t.replace('zzz', this.formatTimezone(date).toLocaleLowerCase(this._config.locale))\n\t\t\t.replace('ZZZ', this.formatTimezone(date).toLocaleUpperCase(this._config.locale));\n\n\t\treturn formattedTime;\n\t}\n\n\tpublic isMinMaxConfigRange(date: Date): boolean {\n\t\tconst { minDate, maxDate } = this._config;\n\n\t\tif (minDate && date < (minDate instanceof Date ? minDate : this.parseDateString(minDate, this.getDateFormat()))) {\n\t\t\treturn true;\n\t\t}\n\n\t\tif (maxDate && date > (maxDate instanceof Date ? maxDate : this.parseDateString(maxDate, this.getDateFormat()))) {\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tpublic parseDateString(dateString: string, dateFormat: string): Date | null {\n\t\tconst dayIndex = dateFormat.indexOf('dd');\n\t\tconst monthIndex = dateFormat.indexOf('MM');\n\t\tconst yearIndex = dateFormat.indexOf('yyyy');\n\n\t\tconst day = parseInt(dateString.slice(dayIndex, dayIndex + 2), 10);\n\t\tconst month = parseInt(dateString.slice(monthIndex, monthIndex + 2), 10) - 1; // Months are 0-based\n\t\tconst year = parseInt(dateString.slice(yearIndex, yearIndex + 4), 10);\n\n\t\t// Validate parsed date\n\t\tif (!isNaN(day) && !isNaN(month) && !isNaN(year)) {\n\t\t\treturn new Date(year, month, day);\n\t\t}\n\n\t\treturn null; // Return null if the date could not be parsed\n\t}\n\n\tpublic is12Hours(): boolean {\n\t\treturn this._config.timeFormat.includes('hh');\n\t}\n\n\tpublic getDateDisplayInterface(datetime: Date | null): DateTimeDisplayInterface {\n\t\tconst dateFormat = this.getDateFormat();\n\t\tconst timeFormat = this.getTimeFormat();\n\n\t\t// Extract placeholders from dateFormat and timeFormat\n\t\tconst dayPlaceholder = dateFormat.match(/d+/)?.[0] || 'dd';\n\t\tconst monthPlaceholder = dateFormat.match(/M+/)?.[0] || 'mm';\n\t\tconst yearPlaceholder = dateFormat.match(/y+/)?.[0] || 'yyyy';\n\t\tconst hoursPlaceholder = timeFormat ? (timeFormat.match(/[Hh]+/)?.[0] || 'hh') : 'hh';\n\t\tconst minutesPlaceholder = timeFormat ? (timeFormat.match(/m+/)?.[0] || 'mm') : 'mm';\n\t\tconst secondsPlaceholder = timeFormat ? (timeFormat.match(/s+/)?.[0] || 'ss') : 'ss';\n\n\t\tif (datetime === null) {\n\t\t\treturn {\n\t\t\t\tday: dayPlaceholder,\n\t\t\t\tmonth: monthPlaceholder,\n\t\t\t\tyear: yearPlaceholder,\n\t\t\t\thours: hoursPlaceholder,\n\t\t\t\tminutes: minutesPlaceholder,\n\t\t\t\tseconds: secondsPlaceholder,\n\t\t\t\tamPm: '--',\n\t\t\t\tgmtOffset: '--'\n\t\t\t};\n\t\t}\n\n\t\tconst hours = this.is12Hours() ? (datetime.getHours() % 12 || 12) : datetime.getHours();\n\n\t\treturn {\n\t\t\tday: this.padZero(datetime.getDate()),\n\t\t\tmonth: this.padZero(datetime.getMonth() + 1),\n\t\t\tyear: datetime.getFullYear().toString(),\n\t\t\thours: this.padZero(hours),\n\t\t\tminutes: this.padZero(datetime.getMinutes()),\n\t\t\tseconds: this.padZero(datetime.getSeconds()),\n\t\t\tamPm: this.getAmPm(datetime.getHours()),\n\t\t\tgmtOffset: this.formatTimezone(datetime)\n\t\t};\n\t}\n\n\tpublic setSelectedDate(date: Date | null): void {\n\t\tif (date === null) {\n\t\t\tthis._selectedDate = null;\n\t\t\treturn;\n\t\t}\n\n\t\tif (isNaN(date.getTime())) {\n\t\t\tconsole.warn('Invalid date provided:', date);\n\t\t\treturn;\n\t\t}\n\n\t\tif (!this._selectedDate) {\n\t\t\tthis._selectedDate = new Date(date.getTime());\n\t\t} else {\n\t\t\tthis._selectedDate.setFullYear(date.getFullYear(), date.getMonth(), date.getDate());\n\t\t}\n\n\t\tif (this._selectedDateRange?.startDate) {\n\t\t\tconst { startDate: startDate } = this._selectedDateRange;\n\t\t\tthis._selectedDate.setHours(startDate.getHours(), startDate.getMinutes(), startDate.getSeconds(), startDate.getMilliseconds());\n\t\t}\n\t}\n\n\tpublic setSelectedDateRange(startDate: Date | null = null, endDate: Date | null = null): void {\n\t\tthis._selectedDateRange = { startDate, endDate };\n\t}\n\n\tpublic setSelectedDateRangeStart(date: Date) {\n\t\tthis._selectedDateRange.startDate = date;\n\t}\n\n\tpublic setSelectedDateRangeEnd(date: Date) {\n\t\tthis._selectedDateRange.endDate = date;\n\t}\n\n\tpublic getSelectedDateInterface(): SelectedDateInterface {\n\t\treturn { selectedDate: this._selectedDate, selectedDateRange: this._selectedDateRange };\n\t}\n\n\tpublic getSelectedDate(): Date | null {\n\t\treturn this._selectedDate;\n\t}\n\n\tpublic getSelectedDateRange(): DateRangeInterface {\n\t\treturn this._selectedDateRange;\n\t}\n\n\tpublic set minDate(date: Date | null) {\n\t\tif (date) {\n\t\t\tthis._config.minDate = date;\n\t\t} else {\n\t\t\tdelete this._config.minDate;\n\t\t}\n\t}\n\n\tpublic set maxDate(date: Date | null) {\n\t\tif (date) {\n\t\t\tthis._config.maxDate = date;\n\t\t} else {\n\t\t\tdelete this._config.maxDate;\n\t\t}\n\t}\n};\n\n/**\n * Adds a custom locale to the `DefaultConfig.locales` object.\n *\n * @param {string} locale - The locale identifier.\n * @param {LocaleConfigInterface} config - The configuration object for the locale.\n */\nexport const addLocale = (locale: string, config: LocaleConfigInterface) => {\n\tDefaultConfig.locales = { ...DefaultConfig.locales, [locale]: config };\n};\n","import KTData from '../../helpers/data';\nimport KTComponent from '../component';\nimport { KTDatepickerCalendar } from './calendar';\nimport { KTDatepickerStateManager } from './config';\nimport { KTDatepickerKeyboard } from './keyboard';\nimport {\n\tDateRangeInterface,\n\tKTDatepickerConfigInterface,\n\tSelectedDateInterface,\n} from './types';\n\nexport class KTDatepicker extends KTComponent {\n\tprotected override readonly _name: string = 'datepicker';\n\tprotected override readonly _config: KTDatepickerConfigInterface;\n\n\tprivate _state: KTDatepickerStateManager;\n\tprivate _calendar: KTDatepickerCalendar;\n\tprivate _keyboard: KTDatepickerKeyboard;\n\n\tprivate _dateInputElement: HTMLInputElement;\n\tprivate _startDateInputElement: HTMLInputElement;\n\tprivate _endDateInputElement: HTMLInputElement;\n\tprivate _dateInputDisplayElement: HTMLElement;\n\n\t/**\n\t * Constructor for the KTDatepicker class.\n\t *\n\t * @param {HTMLElement} element - The HTML element that the datepicker will be attached to.\n\t * @param {KTDatepickerConfigInterface} config - Optional configuration object for the datepicker.\n\t * @return {void}\n\t */\n\tconstructor(element: HTMLElement, config?: KTDatepickerConfigInterface) {\n\t\tsuper();\n\n\t\t// Check if the element already has a datepicker instance attached to it\n\t\tif (KTData.has(element, this._name)) {\n\t\t\t// If it does, return early to avoid attaching a new instance\n\t\t\treturn;\n\t\t}\n\n\t\t// Initialize the datepicker with the provided element\n\t\tthis._init(element);\n\n\t\t// Build the configuration object by merging the default config with the provided config\n\t\tthis._buildConfig(config);\n\n\t\t// Store the instance of the datepicker directly on the element\n\t\t(element as any).instance = this;\n\n\t\tthis._element.setAttribute('tabindex', '0');\n\n\t\tthis._state = new KTDatepickerStateManager(this._config);\n\t\tthis._config = this._state.getConfig();\n\n\t\t// Get input elements from HTML\n\t\tthis._getInputElements();\n\n\t\tthis._calendar = new KTDatepickerCalendar(this._element, this._state);\n\t\tthis._keyboard = new KTDatepickerKeyboard(this._element, this._state);\n\n\t\t// Initialize the datepicker UI\n\t\tthis._initDatePicker();\n\n\t\tthis._dispatchEvent(this._config.initEvent);\n\t\tthis._fireEvent(this._config.initEvent);\n\t}\n\n\tprivate _getInputElements() {\n\t\tthis._dateInputElement = this._element.querySelector(\n\t\t\t`input[${this._config.inputSelector}]`\n\t\t) as HTMLInputElement;\n\n\t\tif (this._config.range) {\n\t\t\tthis._startDateInputElement = this._element.querySelector(\n\t\t\t\t`input[${this._config.startInputSelector}]`\n\t\t\t) as HTMLInputElement;\n\t\t\tthis._endDateInputElement = this._element.querySelector(\n\t\t\t\t`input[${this._config.endInputSelector}]`\n\t\t\t) as HTMLInputElement;\n\t\t}\n\t}\n\n\tprivate _destroy(): void {\n\t\t// Remove data attribute\n\t\tKTData.remove(this._element, this._name);\n\n\t\t// Remove instance from static map\n\t\tKTDatepicker._instances.delete(this._element);\n\n\t\t// Clear private properties\n\t\tthis._element = null;\n\t}\n\n\t/**\n\t * ========================================================================\n\t * Date utils\n\t * ========================================================================\n\t */\n\n\tprivate _formatDateRange(\n\t\tdateRange: DateRangeInterface,\n\t\tdateFormat: string,\n\t\ttimeFormat?: string\n\t): string {\n\t\treturn `${this._formatDateTime(\n\t\t\tdateRange.startDate,\n\t\t\tdateFormat,\n\t\t\ttimeFormat\n\t\t)}${this._config.rangeSeparator}${this._formatDateTime(\n\t\t\tdateRange.endDate,\n\t\t\tdateFormat,\n\t\t\ttimeFormat\n\t\t)}`;\n\t}\n\n\tprivate _formatDateTime(\n\t\tdate: Date,\n\t\tdateFormat: string,\n\t\ttimeFormat?: string\n\t): string {\n\t\tif (!date) {\n\t\t\treturn '';\n\t\t}\n\n\t\tconst formattedDate = this._formatDateOnly(date, dateFormat);\n\n\t\tif (this._config.enableTime && timeFormat) {\n\t\t\tconst formattedTime = this._state.formatTime(date, timeFormat);\n\n\t\t\treturn `${formattedDate} ${formattedTime}`;\n\t\t}\n\n\t\treturn formattedDate;\n\t}\n\n\tprivate _formatDateOnly(date: Date, dateFormat: string): string {\n\t\tif (!date) {\n\t\t\treturn '';\n\t\t}\n\n\t\tconst day = date.getDate();\n\t\tconst month = date.getMonth() + 1;\n\t\tconst year = date.getFullYear();\n\n\t\treturn dateFormat.replace(/dd|MM|yyyy/g, (match) => {\n\t\t\tswitch (match) {\n\t\t\t\tcase 'dd':\n\t\t\t\t\treturn this._state.padZero(day);\n\t\t\t\tcase 'MM':\n\t\t\t\t\treturn this._state.padZero(month);\n\t\t\t\tcase 'yyyy':\n\t\t\t\t\treturn String(year);\n\t\t\t\tdefault:\n\t\t\t\t\treturn match;\n\t\t\t}\n\t\t});\n\t}\n\n\t/**\n\t * ========================================================================\n\t * Date input\n\t * ========================================================================\n\t */\n\n\tprivate _updateInputValue(selectedDate: SelectedDateInterface): void {\n\t\tif (!this._dateInputElement) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst dateFormat = this._state.getDateFormat();\n\t\tconst timeFormat = this._config.enableTime\n\t\t\t? this._state.getTimeFormat()\n\t\t\t: undefined;\n\n\t\tif (this._config.range && selectedDate.selectedDateRange?.startDate) {\n\t\t\tconst { startDate, endDate } = selectedDate.selectedDateRange;\n\n\t\t\t// Format date range and update main input\n\t\t\tthis._dateInputElement.value = this._formatDateRange(\n\t\t\t\tselectedDate.selectedDateRange,\n\t\t\t\tdateFormat,\n\t\t\t\ttimeFormat\n\t\t\t);\n\n\t\t\t// Update hidden inputs (if they exist)\n\t\t\tif (this._startDateInputElement instanceof HTMLInputElement) {\n\t\t\t\tthis._startDateInputElement.value = this._formatDateTime(\n\t\t\t\t\tstartDate,\n\t\t\t\t\tdateFormat,\n\t\t\t\t\ttimeFormat\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tif (this._endDateInputElement instanceof HTMLInputElement) {\n\t\t\t\tthis._endDateInputElement.value = this._formatDateTime(\n\t\t\t\t\tendDate,\n\t\t\t\t\tdateFormat,\n\t\t\t\t\ttimeFormat\n\t\t\t\t);\n\t\t\t}\n\t\t} else {\n\t\t\t// Format single date and update main input\n\t\t\tthis._dateInputElement.value = this._formatDateTime(\n\t\t\t\tselectedDate.selectedDate,\n\t\t\t\tdateFormat,\n\t\t\t\ttimeFormat\n\t\t\t);\n\t\t}\n\t}\n\n\t/**\n\t * ========================================================================\n\t * Listeners\n\t * ========================================================================\n\t */\n\n\tprivate _attachSelectedDateListener() {\n\t\tthis._element.addEventListener(\n\t\t\tthis._config.dateChangeEvent,\n\t\t\tthis._handleOnDateChange.bind(this)\n\t\t);\n\t\tthis._element.addEventListener(\n\t\t\tthis._config.keyboardNavigateEvent,\n\t\t\tthis._handleOnCalendarUpdate.bind(this)\n\t\t);\n\t\tthis._element.addEventListener(\n\t\t\tthis._config.calendarRenderedEvent,\n\t\t\tthis._handleOnCalendarUpdate.bind(this)\n\t\t);\n\n\t\tif (this._dateInputElement) {\n\t\t\tthis._dateInputElement.addEventListener(\n\t\t\t\t'change',\n\t\t\t\tthis._handleOnDateChange.bind(this)\n\t\t\t);\n\t\t}\n\t}\n\n\tprivate _handleOnDateChange(event: CustomEvent) {\n\t\tconst selected = (event.detail.payload as SelectedDateInterface) ?? {\n\t\t\tselectedDate: null,\n\t\t\tselectedDateRange: null,\n\t\t};\n\n\t\t// TODO handle error on failed parse\n\n\t\tthis._updateInputValue(selected);\n\t}\n\n\tprivate _handleOnCalendarUpdate(_event: CustomEvent) {\n\t\tthis._initKeyboardSupport();\n\t}\n\n\t/**\n\t * ========================================================================\n\t * Inputs UI\n\t * ========================================================================\n\t */\n\n\tprivate _initDatePicker(): void {\n\t\tthis._initKeyboardSupport();\n\n\t\tif (this._calendar instanceof KTDatepickerCalendar) {\n\t\t\tthis._calendar.renderCalendar();\n\t\t}\n\n\t\tthis._attachSelectedDateListener();\n\n\t\tthis._element.classList.add('datepicker-initialized');\n\t}\n\n\tprivate _initKeyboardSupport(): void {\n\t\tthis._keyboard.setInputElement(this._dateInputElement);\n\t\tconst dateInputDisplayElement = this._renderDateInputDisplay(\n\t\t\tthis._state.getSelectedDateInterface()\n\t\t);\n\t\tthis._keyboard.setInputDisplayElement(dateInputDisplayElement);\n\t}\n\n\tprivate _renderDateInputDisplay(\n\t\tselectedDate: SelectedDateInterface\n\t): HTMLElement {\n\t\tlet newElement: HTMLElement | null = null;\n\n\t\tif (this._config.range && selectedDate.selectedDateRange) {\n\t\t\tconst { startDate, endDate } = selectedDate.selectedDateRange;\n\t\t\tconst startDateTimeDisplay =\n\t\t\t\tthis._state.getDateDisplayInterface(startDate);\n\t\t\tconst endDateTimeDisplay = this._state.getDateDisplayInterface(endDate);\n\t\t\tnewElement = this._state\n\t\t\t\t.getTemplates()\n\t\t\t\t?.datetimeDisplayRange(\n\t\t\t\t\tthis._state,\n\t\t\t\t\tstartDateTimeDisplay,\n\t\t\t\t\tendDateTimeDisplay,\n\t\t\t\t\ttrue,\n\t\t\t\t\tthis._config.enableTime,\n\t\t\t\t\tthis._config.enableTime,\n\t\t\t\t\tthis._state.is12Hours()\n\t\t\t\t);\n\t\t} else {\n\t\t\tconst dateTimeDisplay = this._state.getDateDisplayInterface(\n\t\t\t\tselectedDate.selectedDate\n\t\t\t);\n\t\t\tnewElement = this._state\n\t\t\t\t.getTemplates()\n\t\t\t\t?.datetimeDisplay(\n\t\t\t\t\tthis._state,\n\t\t\t\t\tdateTimeDisplay,\n\t\t\t\t\ttrue,\n\t\t\t\t\tthis._config.enableTime,\n\t\t\t\t\tthis._config.enableTime,\n\t\t\t\t\tthis._state.is12Hours()\n\t\t\t\t);\n\t\t}\n\n\t\tif (this._dateInputDisplayElement) {\n\t\t\tthis._dateInputDisplayElement.replaceWith(newElement);\n\t\t} else {\n\t\t\tthis._element.appendChild(newElement);\n\t\t}\n\n\t\tthis._dateInputDisplayElement = newElement;\n\n\t\treturn newElement;\n\t}\n\n\t/**\n\t * ========================================================================\n\t * Public API\n\t * ========================================================================\n\t */\n\n\tpublic getDate(): Date | null | DateRangeInterface {\n\t\tif (this._config.range) {\n\t\t\treturn this._state.getSelectedDateRange();\n\t\t} else {\n\t\t\treturn this._state.getSelectedDate();\n\t\t}\n\t}\n\n\tpublic setDate(date: Date | null): void {\n\t\tif (this._config.range) {\n\t\t\tthis._state.setSelectedDateRange(date as Date, null);\n\t\t} else {\n\t\t\tthis._state.setSelectedDate(date);\n\t\t}\n\t}\n\n\tpublic getDateRange(): DateRangeInterface | null {\n\t\treturn this._state.getSelectedDateRange();\n\t}\n\n\tpublic setDateRange(start: Date | null, end: Date | null): void {\n\t\tthis._state.setSelectedDateRange(start, end);\n\t}\n\n\tpublic setMinDate(minDate: Date | null): void {\n\t\tthis._config.minDate = minDate;\n\t}\n\n\tpublic setMaxDate(maxDate: Date | null): void {\n\t\tthis._config.maxDate = maxDate;\n\t}\n\n\tpublic update(): void {\n\t\tif (this._calendar instanceof KTDatepickerCalendar) {\n\t\t\tthis._calendar.renderCalendar();\n\t\t}\n\t}\n\n\tpublic destroy(): void {\n\t\tthis._destroy();\n\t}\n\n\t/**\n\t * ========================================================================\n\t * Static instances\n\t * ========================================================================\n\t */\n\n\tprivate static readonly _instances = new Map<HTMLElement, KTDatepicker>();\n\n\tpublic static createInstances(): void {\n\t\tconst elements = document.querySelectorAll<HTMLElement>(\n\t\t\t'[data-kt-datepicker]'\n\t\t);\n\n\t\telements.forEach((element) => {\n\t\t\tif (\n\t\t\t\telement.hasAttribute('data-kt-datepicker') &&\n\t\t\t\t!element.classList.contains('datepicker-initialized')\n\t\t\t) {\n\t\t\t\tconst instance = new KTDatepicker(element);\n\t\t\t\tthis._instances.set(element, instance);\n\t\t\t}\n\t\t});\n\t}\n\n\tpublic static init(): void {\n\t\tKTDatepicker.createInstances();\n\t}\n}\n\nif (typeof window !== 'undefined') {\n\twindow.KTDatepicker = KTDatepicker;\n}\n","export { KTDatepicker } from './datepicker';","import KTComponent from \"../component\";\nimport { KTDatepickerStateManager } from \"./config\";\nimport { ActiveInput, DatePickerSegment, KTDatepickerConfigInterface } from \"./types\";\n\nexport class KTDatepickerKeyboard extends KTComponent {\n\tprotected override readonly _name: string = 'datepicker-keyboard';\n\tprotected override readonly _config: KTDatepickerConfigInterface;\n\n\tprivate _state: KTDatepickerStateManager;\n\n\tprivate _dateInputElement: HTMLInputElement;\n\tprivate _dateInputDisplayElement: HTMLElement;\n\n\tprivate _focusedSegment: string;\n\tprivate _activeInput: ActiveInput;\n\n\tconstructor(element: HTMLElement, stateManager?: KTDatepickerStateManager) {\n\t\tsuper();\n\t\tthis._state = stateManager;\n\n\t\tthis._init(element);\n\t\tthis._buildConfig(this._state.getConfig());\n\n\t\tthis._attachInputEventListeners();\n\t\tthis._attachKeyboardEvent();\n\t}\n\n\tprivate _attachInputEventListeners() {\n\t\tthis._element.addEventListener(this._config.dateChangeEvent, this._handleOnDateChange.bind(this));\n\t}\n\n\tprivate _handleOnDateChange(_event: CustomEvent) {\n\t\tthis._dispatchEvent(this._config.calendarRenderedEvent, this._state.getSelectedDateInterface());\n\t\tthis._fireEvent(this._config.calendarRenderedEvent, this._state.getSelectedDateInterface());\n\t}\n\n\tprivate _dateInputFocusOut(_event: Event) {\n\t\tthis._focusedSegment = null;\n\t}\n\n\tprivate _updateDateInputDisplayElement() {\n\t\tthis._element.querySelectorAll(`[${this._config.segmentSelector}]`).forEach(element => {\n\t\t\tif (element instanceof HTMLElement) {\n\t\t\t\telement.classList.remove(this._config.selectedClass);\n\t\t\t}\n\t\t});\n\n\t\tif (this._focusedSegment) {\n\t\t\tthis._element.querySelector(`[${this._config.segmentSelector}=\"${this._focusedSegment}\"]`)?.classList.add(this._config.selectedClass);\n\t\t}\n\n\t\tif (this._dateInputDisplayElement) {\n\t\t\tthis._dateInputDisplayElement.addEventListener('click', this._handleDateInputSegmentClick.bind(this));\n\t\t}\n\n\t\tif (this._dateInputElement) {\n\t\t\tthis._dateInputElement.addEventListener('focusout', this._dateInputFocusOut.bind(this));\n\t\t}\n\t}\n\n\tprivate _handleDateInputSegmentClick(event: Event): void {\n\t\tthis._element.querySelectorAll(`[${this._config.segmentSelector}]`).forEach(segmentElement => {\n\t\t\tsegmentElement?.classList.remove(this._config.selectedClass);\n\t\t\tif (segmentElement.contains(event.target as HTMLElement)) {\n\t\t\t\tsegmentElement?.classList.add(this._config.selectedClass);\n\t\t\t\tthis._focusedSegment = (segmentElement as HTMLElement).dataset.datepickerSegment as string;\n\t\t\t}\n\t\t});\n\t\tthis._dateInputElement.focus();\n\t}\n\n\n\t/**\n\t * ========================================================================\n\t * Keyboard navigation on input\n\t * ========================================================================\n\t */\n\n\tprivate _attachKeyboardEvent(): void {\n\t\tthis._element.addEventListener('keydown', (event) => {\n\t\t\tevent.preventDefault();\n\n\t\t\tif (this._focusedSegment) {\n\t\t\t\tthis._handleKeyboardNavigation(event.key);\n\t\t\t\tthis._updateDateInputDisplayElement();\n\t\t\t} else {\n\t\t\t\tthis._handleKeyboardNavigationCalendar(event.key);\n\t\t\t}\n\t\t});\n\t}\n\n\tprivate _handleKeyboardNavigation(key: string): void {\n\t\t// Check if the pressed key is a number or backspace\n\t\tif (/\\d/.test(key) || key === 'Backspace') {\n\t\t\tthis._handleKeyboardInput(key);\n\t\t} else {\n\t\t\tconst segmentActions: Record<string, () => void> = {\n\t\t\t\tArrowUp: () => this._adjustSegmentValue(1),\n\t\t\t\tArrowDown: () => this._adjustSegmentValue(-1),\n\t\t\t\tArrowLeft: () => this._navigateSegment(-1),\n\t\t\t\tArrowRight: () => this._navigateSegment(1),\n\t\t\t\tEnter: () => this._handleEnterKey(),\n\t\t\t\tEscape: () => this._focusedSegment = null,\n\t\t\t};\n\n\t\t\tsegmentActions[key]?.();\n\t\t}\n\n\t\tthis._dispatchEvent(this._config.dateChangeEvent, this._state.getSelectedDateInterface());\n\t\tthis._fireEvent(this._config.dateChangeEvent, this._state.getSelectedDateInterface());\n\n\t\tthis._dispatchEvent(this._config.keyboardNavigateEvent, this._state.getSelectedDateInterface());\n\t\tthis._fireEvent(this._config.keyboardNavigateEvent, this._state.getSelectedDateInterface());\n\t}\n\n\tprivate _adjustSegmentValue(increment: number): void {\n\t\tconst activeDate = this._getActiveDate() || new Date();\n\n\t\tswitch (this._focusedSegment) {\n\t\t\tcase DatePickerSegment.Day:\n\t\t\tcase DatePickerSegment.EndDay:\n\t\t\t\tconst maxDay = new Date(activeDate.getFullYear(), activeDate.getMonth() + 1, 0).getDate();\n\t\t\t\tconst newDay = activeDate.getDate() + increment;\n\t\t\t\tif (newDay >= 1 && newDay <= maxDay) {\n\t\t\t\t\tactiveDate.setDate(newDay);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase DatePickerSegment.Month:\n\t\t\tcase DatePickerSegment.EndMonth:\n\t\t\t\tactiveDate.setMonth(activeDate.getMonth() + increment);\n\t\t\t\tbreak;\n\t\t\tcase DatePickerSegment.Year:\n\t\t\tcase DatePickerSegment.EndYear:\n\t\t\t\tactiveDate.setFullYear(activeDate.getFullYear() + increment);\n\t\t\t\tbreak;\n\t\t\tcase DatePickerSegment.Hours:\n\t\t\tcase DatePickerSegment.EndHours:\n\t\t\t\tlet newHours = activeDate.getHours() + increment;\n\t\t\t\tnewHours = (newHours + 24) % 24; // Ensure hours stay within 0-23 range\n\t\t\t\tactiveDate.setHours(newHours);\n\t\t\t\tbreak;\n\t\t\tcase DatePickerSegment.Minutes:\n\t\t\tcase DatePickerSegment.EndMinutes:\n\t\t\t\tlet newMinutes = activeDate.getMinutes() + increment;\n\t\t\t\tnewMinutes = (newMinutes + 60) % 60; // Ensure minutes stay within 0-59 range\n\t\t\t\tactiveDate.setMinutes(newMinutes);\n\t\t\t\tbreak;\n\t\t\tcase DatePickerSegment.Seconds:\n\t\t\tcase DatePickerSegment.EndSeconds:\n\t\t\t\tlet newSeconds = activeDate.getSeconds() + increment;\n\t\t\t\tnewSeconds = (newSeconds + 60) % 60; // Ensure seconds stay within 0-59 range\n\t\t\t\tactiveDate.setSeconds(newSeconds);\n\t\t\t\tbreak;\n\t\t\tcase DatePickerSegment.AmPm:\n\t\t\tcase DatePickerSegment.EndAmPm:\n\t\t\t\tactiveDate.setHours(activeDate.getHours() + 12 * increment);\n\t\t\t\tbreak;\n\t\t}\n\n\t\tthis._updateActiveDate(activeDate);\n\t}\n\n\tprivate _handleKeyboardInput(key: string) {\n\t\tconst activeDate = this._getActiveDate() ?? new Date();\n\t\tconst segment = this._focusedSegment as DatePickerSegment;\n\n\t\tlet currentValue = this._getSegmentValue(activeDate, segment);\n\t\tlet maxValue = this._getSegmentMaxValue(activeDate, segment);\n\t\tlet requiredDigits = this._getSegmentRequiredDigits(segment);\n\n\t\tif (key === 'Backspace') {\n\t\t\tcurrentValue = currentValue > 9 ? Math.floor(currentValue / 10) : 0;\n\t\t} else {\n\t\t\tconst newDigit = parseInt(key);\n\t\t\tconst potentialNewValue = currentValue * 10 + newDigit;\n\n\t\t\tif (potentialNewValue > maxValue) {\n\t\t\t\tcurrentValue = newDigit;\n\t\t\t} else if (potentialNewValue >= this._getSegmentMinValue(segment)) {\n\t\t\t\tcurrentValue = potentialNewValue;\n\t\t\t}\n\t\t}\n\n\t\tthis._setSegmentValue(activeDate, segment, currentValue);\n\n\t\t// Navigate to the next segment if:\n\t\t// 1. It's the month segment (start or end) AND the current value is NOT 1\n\t\t// 2. OR the number of digits entered matches the required digits for the segment\n\t\tif (((segment === DatePickerSegment.Month || segment === DatePickerSegment.EndMonth) && currentValue !== 1)\n\t\t\t|| currentValue.toString().length === requiredDigits) {\n\t\t\tthis._navigateSegment(1);\n\t\t}\n\n\t\tthis._updateActiveDate(activeDate);\n\t}\n\n\tprivate _getSegmentRequiredDigits(segment: DatePickerSegment): number {\n\t\tswitch (segment) {\n\t\t\tcase DatePickerSegment.Day:\n\t\t\tcase DatePickerSegment.EndDay:\n\t\t\tcase DatePickerSegment.Month:\n\t\t\tcase DatePickerSegment.EndMonth:\n\t\t\tcase DatePickerSegment.Hours:\n\t\t\tcase DatePickerSegment.EndHours:\n\t\t\tcase DatePickerSegment.Minutes:\n\t\t\tcase DatePickerSegment.EndMinutes:\n\t\t\tcase DatePickerSegment.Seconds:\n\t\t\tcase DatePickerSegment.EndSeconds:\n\t\t\t\treturn 2;\n\t\t\tcase DatePickerSegment.Year:\n\t\t\tcase DatePickerSegment.EndYear:\n\t\t\t\treturn 4;\n\t\t\tdefault:\n\t\t\t\treturn 0;\n\t\t}\n\t}\n\n\tprivate _getSegmentValue(date: Date, segment: DatePickerSegment): number {\n\t\tswitch (segment) {\n\t\t\tcase DatePickerSegment.Day:\n\t\t\tcase DatePickerSegment.EndDay:\n\t\t\t\treturn date.getDate();\n\t\t\tcase DatePickerSegment.Month:\n\t\t\tcase DatePickerSegment.EndMonth:\n\t\t\t\treturn date.getMonth() + 1; // Months are 0-indexed\n\t\t\tcase DatePickerSegment.Year:\n\t\t\tcase DatePickerSegment.EndYear:\n\t\t\t\treturn date.getFullYear();\n\t\t\tcase DatePickerSegment.Hours:\n\t\t\tcase DatePickerSegment.EndHours:\n\t\t\t\treturn date.getHours();\n\t\t\tcase DatePickerSegment.Minutes:\n\t\t\tcase DatePickerSegment.EndMinutes:\n\t\t\t\treturn date.getMinutes();\n\t\t\tcase DatePickerSegment.Seconds:\n\t\t\tcase DatePickerSegment.EndSeconds:\n\t\t\t\treturn date.getSeconds();\n\t\t\tdefault:\n\t\t\t\treturn 0;\n\t\t}\n\t}\n\n\tprivate _getSegmentMaxValue(date: Date, segment: DatePickerSegment): number {\n\t\tswitch (segment) {\n\t\t\tcase DatePickerSegment.Day:\n\t\t\tcase DatePickerSegment.EndDay:\n\t\t\t\treturn new Date(date.getFullYear(), date.getMonth() + 1, 0).getDate();\n\t\t\tcase DatePickerSegment.Month:\n\t\t\tcase DatePickerSegment.EndMonth:\n\t\t\t\treturn 12;\n\t\t\tcase DatePickerSegment.Year:\n\t\t\tcase DatePickerSegment.EndYear:\n\t\t\t\treturn 9999; // Or any reasonable upper limit you want to set\n\t\t\tcase DatePickerSegment.Hours:\n\t\t\tcase DatePickerSegment.EndHours:\n\t\t\t\treturn 23;\n\t\t\tcase DatePickerSegment.Minutes:\n\t\t\tcase DatePickerSegment.EndMinutes:\n\t\t\tcase DatePickerSegment.Seconds:\n\t\t\tcase DatePickerSegment.EndSeconds:\n\t\t\t\treturn 59;\n\t\t\tdefault:\n\t\t\t\treturn 0;\n\t\t}\n\t}\n\n\tprivate _getSegmentMinValue(segment: DatePickerSegment): number {\n\t\tswitch (segment) {\n\t\t\tcase DatePickerSegment.Day:\n\t\t\tcase DatePickerSegment.EndDay:\n\t\t\tcase DatePickerSegment.Month:\n\t\t\tcase DatePickerSegment.EndMonth:\n\t\t\t\treturn 1;\n\t\t\tcase DatePickerSegment.Year:\n\t\t\tcase DatePickerSegment.EndYear:\n\t\t\t\treturn 1; // Or any reasonable lower limit you want to set\n\t\t\tcase DatePickerSegment.Hours:\n\t\t\tcase DatePickerSegment.EndHours:\n\t\t\tcase DatePickerSegment.Minutes:\n\t\t\tcase DatePickerSegment.EndMinutes:\n\t\t\tcase DatePickerSegment.Seconds:\n\t\t\tcase DatePickerSegment.EndSeconds:\n\t\t\t\treturn 0;\n\t\t\tdefault:\n\t\t\t\treturn 0;\n\t\t}\n\t}\n\n\tprivate _setSegmentValue(date: Date, segment: DatePickerSegment, value: number): void {\n\t\tswitch (segment) {\n\t\t\tcase DatePickerSegment.Day:\n\t\t\tcase DatePickerSegment.EndDay:\n\t\t\t\tdate.setDate(value);\n\t\t\t\tbreak;\n\t\t\tcase DatePickerSegment.Month:\n\t\t\tcase DatePickerSegment.EndMonth:\n\t\t\t\tdate.setMonth(value - 1); // Months are 0-indexed\n\t\t\t\tbreak;\n\t\t\tcase DatePickerSegment.Year:\n\t\t\tcase DatePickerSegment.EndYear:\n\t\t\t\tdate.setFullYear(value);\n\t\t\t\tbreak;\n\t\t\tcase DatePickerSegment.Hours:\n\t\t\tcase DatePickerSegment.EndHours:\n\t\t\t\tdate.setHours(value);\n\t\t\t\tbreak;\n\t\t\tcase DatePickerSegment.Minutes:\n\t\t\tcase DatePickerSegment.EndMinutes:\n\t\t\t\tdate.setMinutes(value);\n\t\t\t\tbreak;\n\t\t\tcase DatePickerSegment.Seconds:\n\t\t\tcase DatePickerSegment.EndSeconds:\n\t\t\t\tdate.setSeconds(value);\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tprivate _getActiveDate(): Date {\n\t\t// Set default activeInput to 'end' for range selection\n\t\tthis._activeInput = this._config.range ? ActiveInput.End : ActiveInput.Start;\n\n\t\t// Check if the selected segment belongs to the start date\n\t\tconst isStartDateSegment = Object.values(DatePickerSegment)\n\t\t\t.slice(0, Object.keys(DatePickerSegment).length / 2) // Get only the start date segments\n\t\t\t.includes(this._focusedSegment as DatePickerSegment);\n\n\t\tif (isStartDateSegment) {\n\t\t\tthis._activeInput = ActiveInput.Start;\n\t\t}\n\n\t\tconst { selectedDate, selectedDateRange } = this._state.getSelectedDateInterface();\n\n\t\treturn this._config.range ?\n\t\t\t(this._activeInput === ActiveInput.Start ? selectedDateRange?.startDate : selectedDateRange?.endDate)\n\t\t\t: selectedDate;\n\t}\n\n\tprivate _updateActiveDate(date: Date): void {\n\t\tif (this._config.range) {\n\t\t\tif (this._activeInput === ActiveInput.Start) {\n\t\t\t\tthis._state.setSelectedDateRangeStart(new Date(date));\n\t\t\t} else {\n\t\t\t\tthis._state.setSelectedDateRangeEnd(new Date(date));\n\t\t\t}\n\t\t} else {\n\t\t\tthis._state.setSelectedDate(new Date(date));\n\t\t}\n\t}\n\n\tprivate _navigateSegment(offset: number): void {\n\t\tconst segmentValues = Object.values(DatePickerSegment) as DatePickerSegment[];\n\t\tconst segmentCount = segmentValues.length;\n\t\tlet currentIndex = segmentValues.indexOf(this._focusedSegment as DatePickerSegment);\n\n\t\t// Calculate the new index, ensuring it stays within bounds and skips time segments if not enabled\n\t\tlet newIndex = currentIndex + offset;\n\t\twhile (newIndex < 0 || newIndex >= segmentCount\n\t\t\t|| (!this._config.enableTime && this._isTimeSegment(segmentValues[newIndex]))\n\t\t\t|| (!this._config.range && this._isOutOfRangeSegment(segmentValues[newIndex])) // Skip out-of-range segments if in range mode\n\t\t) {\n\t\t\tnewIndex += offset; // Keep adjusting until a valid segment is found\n\t\t\tif (newIndex < 0) {\n\t\t\t\tnewIndex = segmentCount - 1;\n\t\t\t} else if (newIndex >= segmentCount) {\n\t\t\t\tnewIndex = 0;\n\t\t\t}\n\t\t}\n\n\t\tthis._focusedSegment = segmentValues[newIndex];\n\t}\n\n\tprivate _isOutOfRangeSegment(segment: DatePickerSegment): boolean {\n\t\treturn [\n\t\t\tDatePickerSegment.EndDay,\n\t\t\tDatePickerSegment.EndMonth,\n\t\t\tDatePickerSegment.EndYear,\n\t\t\tDatePickerSegment.EndHours,\n\t\t\tDatePickerSegment.EndMinutes,\n\t\t\tDatePickerSegment.EndSeconds,\n\t\t\tDatePickerSegment.EndAmPm,\n\t\t\tDatePickerSegment.GmtOffset,\n\t\t].includes(segment);\n\t}\n\n\tprivate _isTimeSegment(segment: DatePickerSegment): boolean {\n\t\treturn [\n\t\t\tDatePickerSegment.Hours,\n\t\t\tDatePickerSegment.EndHours,\n\t\t\tDatePickerSegment.Minutes,\n\t\t\tDatePickerSegment.EndMinutes,\n\t\t\tDatePickerSegment.Seconds,\n\t\t\tDatePickerSegment.EndSeconds,\n\t\t\tDatePickerSegment.AmPm,\n\t\t\tDatePickerSegment.EndAmPm,\n\t\t\tDatePickerSegment.GmtOffset,\n\t\t].includes(segment);\n\t}\n\n\tprivate _handleEnterKey() {\n\t\tconsole.log('enter');\n\t}\n\n\n\t/**\n\t * ========================================================================\n\t * Keyboard navigation on calendar\n\t * ========================================================================\n\t */\n\n\tprivate _handleKeyboardNavigationCalendar(key: string) {\n\t\tlet activeDate;\n\t\tif (this._config.range) {\n\t\t\tconst { startDate, endDate } = this._state.getSelectedDateRange();\n\t\t\tactiveDate = endDate < startDate ? startDate : endDate;\n\t\t} else {\n\t\t\tactiveDate = this._state.getSelectedDate();\n\t\t}\n\t\tif (!activeDate) {\n\t\t\tactiveDate = new Date();\n\t\t}\n\n\t\tconst segmentActions: Record<string, () => void> = {\n\t\t\tArrowUp: () => activeDate.setDate(activeDate.getDate() - 7),\n\t\t\tArrowDown: () => activeDate.setDate(activeDate.getDate() + 7),\n\t\t\tArrowLeft: () => activeDate.setDate(activeDate.getDate() - 1),\n\t\t\tArrowRight: () => activeDate.setDate(activeDate.getDate() + 1),\n\t\t\tEnter: () => {\n\t\t\t\tif (this._config.range) {\n\t\t\t\t\tconst { startDate, endDate } = this._state.getSelectedDateRange();\n\t\t\t\t\tif (!startDate) {\n\t\t\t\t\t\tthis._state.setSelectedDateRangeStart(new Date());\n\t\t\t\t\t}\n\t\t\t\t\tif (!endDate) {\n\t\t\t\t\t\tthis._state.setSelectedDateRangeEnd(new Date(Date.now() + 86400000));\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tconst selectedDate = this._state.getSelectedDate();\n\t\t\t\t\tif (!selectedDate) {\n\t\t\t\t\t\tthis._state.setSelectedDate(new Date());\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tEscape: () => {\n\t\t\t\tthis._focusedSegment = null;\n\t\t\t\tthis._dateInputElement.blur();\n\t\t\t},\n\t\t};\n\n\t\tsegmentActions[key]?.();\n\n\t\tthis._dispatchEvent(this._config.dateChangeEvent, this._state.getSelectedDateInterface());\n\t\tthis._fireEvent(this._config.dateChangeEvent, this._state.getSelectedDateInterface());\n\n\t\tthis._dispatchEvent(this._config.keyboardNavigateEvent, this._state.getSelectedDateInterface());\n\t\tthis._fireEvent(this._config.keyboardNavigateEvent, this._state.getSelectedDateInterface());\n\t}\n\n\n\t/**\n\t * ========================================================================\n\t * Public API\n\t * ========================================================================\n\t */\n\n\tpublic setInputDisplayElement(element: HTMLElement): void {\n\t\tthis._dateInputDisplayElement = element;\n\t\tthis._updateDateInputDisplayElement();\n\t}\n\n\tpublic setInputElement(element: HTMLInputElement): void {\n\t\tthis._dateInputElement = element;\n\t}\n}","import { LocaleConfigInterface } from \"./types\";\n\n/**\n * Generates a locale configuration object based on the given locale and first day of the week.\n *\n * @param {string} locale - The locale code to generate the configuration for.\n * @param {number} firstDayOfWeek - The first day of the week, where 0 represents Sunday.\n * @return {LocaleConfigInterface} The generated locale configuration object.\n */\nexport const generateLocaleConfig = (locale: string, firstDayOfWeek: number): LocaleConfigInterface => ({\n\t// Names of months (e.g., January, February, ...)\n\tmonthNames: Array.from({ length: 12 }, (_, month) => new Date(0, month).toLocaleString(locale, { month: 'long' })),\n\t// Shortened names of months (e.g., Jan, Feb, ...)\n\tmonthNamesShort: Array.from({ length: 12 }, (_, month) => new Date(0, month).toLocaleString(locale, { month: 'short' })),\n\t// Names of days of the week (e.g., Sunday, Monday, ...)\n\tdayNames: Array.from({ length: 7 }, (_, day) => new Date(0, 0, day + 1).toLocaleString(locale, { weekday: 'long' })),\n\t// Shortened names of days of the week (e.g., Sun, Mon, ...)\n\tdayNamesShort: Array.from({ length: 7 }, (_, day) => new Date(0, 0, day + 1).toLocaleString(locale, { weekday: 'short' })),\n\t// The first day of the week is the first day of the week in the selected locale\n\tfirstDayOfWeek,\n\t// Names of days of the week, abbreviated (e.g., S, M, ...)\n\tdayNamesMin: Array.from({ length: 7 }, (_, day) => new Date(0, 0, day + 1).toLocaleString(locale, { weekday: 'narrow' })),\n});\n\nexport const DefaultLocales: { [key: string]: LocaleConfigInterface } = {\n\t// English (United States)\n\t'en-US': generateLocaleConfig('en-US', 0),\n\t// Chinese (China)\n\t'zh-CN': generateLocaleConfig('zh-CN', 0),\n\t// Spanish (Spain)\n\t'es-ES': generateLocaleConfig('es-ES', 1),\n\t// French (France)\n\t'fr-FR': generateLocaleConfig('fr-FR', 1),\n\t// Russian (Russia)\n\t'ru-RU': generateLocaleConfig('ru-RU', 1),\n\t// Japanese (Japan)\n\t'ja-JP': generateLocaleConfig('ja-JP', 0),\n\t// Korean (South Korea)\n\t'ko-KR': generateLocaleConfig('ko-KR', 0),\n\t// Indonesian (Indonesia)\n\t'id-ID': generateLocaleConfig('id-ID', 0),\n\t// Malay (Malaysia)\n\t'ms-MY': generateLocaleConfig('ms-MY', 1),\n\t// Italian (Italy)\n\t'it-IT': generateLocaleConfig('it-IT', 1),\n\t// Portuguese (Portugal)\n\t'pt-PT': generateLocaleConfig('pt-PT', 1),\n\t// German (Germany)\n\t'de-DE': generateLocaleConfig('de-DE', 1),\n\t// Chinese (Hong Kong)\n\t'zh-HK': generateLocaleConfig('zh-HK', 0),\n\t// Chinese (Taiwan)\n\t'zh-TW': generateLocaleConfig('zh-TW', 0),\n\t// Vietnamese (Vietnam)\n\t'vi-VN': generateLocaleConfig('vi-VN', 0),\n\t// Turkish (Turkey)\n\t'tr-TR': generateLocaleConfig('tr-TR', 1),\n\t// Thai (Thailand)\n\t'th-TH': generateLocaleConfig('th-TH', 0),\n\t// Arabic (Egypt)\n\t'ar-EG': generateLocaleConfig('ar-EG', 0),\n};","import { KTDatepickerStateManager } from \"./config\";\nimport { DateTimeDisplayInterface, DatePickerSegment, SelectedDateInterface } from \"./types\";\n\nexport const DefaultTemplates = {\n\n\tdropdownContainer: (_state: KTDatepickerStateManager) => _html`\n\t\t<div data-kt-datepicker-dropdown class=\"hidden absolute z-10 bg-white border border-gray-300 rounded shadow-md\">\n\t\t</div>\n\t`,\n\n\tcalendar: (state: KTDatepickerStateManager, visibleMonths = 1) => _html`\n\t\t<div data-kt-datepicker-calendar>\n\t\t\t<div>\n\t\t\t\t<button data-kt-datepicker-prev-btn aria-label=\"Previous month\">&lt;</button>\n\t\t\t\t<button data-kt-datepicker-next-btn aria-label=\"Next month\">&gt;</button>\n\t\t\t</div>\n\t\t\t<div class=\"${state.getConfig().containerClass}\">\n\t\t\t\t${Array.from({ length: visibleMonths }).map(() => `\n\t\t\t\t\t<div data-kt-datepicker-month-container>\n\t\t\t\t\t\t<div data-kt-datepicker-month-year-display class=\"${state.getConfig().monthContainerClass}\">\n\t\t\t\t\t\t\t<span data-kt-datepicker-month-display></span> <span data-kt-datepicker-year-display></span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div data-kt-datepicker-days-of-week></div>\n\t\t\t\t\t\t<div data-kt-datepicker-grid></div>\n\t\t\t\t\t</div>\n\t\t\t\t`).join('')}\n\t\t\t</div>\n\t\t</div>\n\t`,\n\n\tdaysOfWeek: (_state: KTDatepickerStateManager, weekdays: string[]) => _html`\n\t\t<div data-kt-datepicker-days-of-week>\n\t\t\t${weekdays.map(day => `\n\t\t\t\t<span>${day}</span>\n\t\t\t`).join('')}\n\t\t</div>\n\t`,\n\n\tdayCell: (state: KTDatepickerStateManager, date: Date, isSelected: boolean, isToday: boolean, isDisabled: boolean, isInRange: boolean, isStartDate: boolean, isEndDate: boolean) => _html`\n\t\t<span data-kt-datepicker-cell class=\"${state.getConfig().dayCellClass}\n\t\t\t\t${isSelected ? state.getConfig().dayCellSelectedClass : ''}\n\t\t\t\t${isToday ? state.getConfig().dayCellCurrentClass : ''}\n\t\t\t\t${isDisabled ? state.getConfig().dayCellDisabledClass : ''}\n\t\t\t\t${isInRange ? state.getConfig().dayCellInRangeClass : ''}\n\t\t\t\t${isStartDate ? state.getConfig().dayCellStartClass : ''}\n\t\t\t\t${isEndDate ? state.getConfig().dayCellEndClass : ''}\"\n\t\t\t\tdata-day=\"${date.getDate()}\"\n\t\t\t\tdata-month=\"${String(date.getMonth())}\"\n\t\t\t\tdata-year=\"${date.getFullYear()}\"\n\t\t\t\t${isDisabled ? 'data-disabled=\"true\"' : ''}>\n\t\t\t${date.getDate()}\n\t\t</span>\n\t`,\n\n\tweek: (_state: KTDatepickerStateManager, daysHtml: string[]) => _html`\n\t\t<div>${daysHtml.join('')}</div>\n\t`,\n\n\tmonthYearSelector: (state: KTDatepickerStateManager,) => _html`\n\t\t<div data-kt-datepicker-month-year-selector class=\"${state.getConfig().monthYearSelectorContainerClass}\">\n\t\t\t<div class=\"flex items-center justify-between mb-4\">\n\t\t\t\t<div class=\"${state.getConfig().monthYearDisplayClass}\" data-kt-datepicker-month-year-display>\n\t\t\t\t\t<span class=\"${state.getConfig().monthYearDisplayTextClass}\" data-kt-datepicker-month-display></span>\n\t\t\t\t\t<span class=\"${state.getConfig().monthYearDisplayTextClass}\" data-kt-datepicker-year-display></span>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"${state.getConfig().monthYearOptionsContainerClass}\">\n\t\t\t\t<div class=\"overflow-auto flex-shrink-0 mr-4\" data-kt-datepicker-month-options></div>\n\t\t\t\t<div class=\"overflow-auto flex-shrink-0\" data-kt-datepicker-year-options></div>\n\t\t\t</div>\n\t\t</div>\n\t`,\n\n\tmonthOptions: (state: KTDatepickerStateManager, monthNames: string[], selectedMonthIndex: number) => {\n\t\treturn monthNames.map((month, monthIndex) => {\n\t\t\tconst isCurrentMonth = monthIndex === new Date().getMonth();\n\t\t\treturn `<button data-kt-datepicker-month-option class=\"${state.getConfig().monthOptionClass} ${monthIndex === selectedMonthIndex ? state.getConfig().monthOptionSelectedClass : ''} ${isCurrentMonth ? state.getConfig().monthOptionCurrentClass : ''}\" data-month=\"${String(monthIndex)}\">\n\t\t\t\t${month}\n\t\t\t</button>`;\n\t\t}).join('');\n\t},\n\n\tyearOptions: (state: KTDatepickerStateManager, selectedYear: number, yearLength: number = 10) => {\n\t\tconst startYear = selectedYear - Math.floor(yearLength / 2);\n\t\treturn Array.from({ length: yearLength }, (_, i) => startYear + i).map(year => {\n\t\t\tconst isCurrentYear = year === new Date().getFullYear();\n\t\t\treturn `<button data-kt-datepicker-year-option class=\"${state.getConfig().yearOptionClass} ${year === selectedYear ? state.getConfig().yearOptionSelectedClass : ''} ${isCurrentYear ? state.getConfig().yearOptionCurrentClass : ''}\" data-year=\"${year}\">\n\t\t\t\t${year}\n\t\t\t</button>`;\n\t\t}).join('');\n\t},\n\n\tdatetimeDisplay: (state: KTDatepickerStateManager, datetime: DateTimeDisplayInterface, showDate = true, showTime = false, showGMT = false, is12Hours = true) => {\n\t\tconst config = state.getConfig();\n\n\t\treturn _html`\n\t\t\t<div class=\"${config.datetimeDisplayClass}\" data-kt-datepicker-display>\n\t\t\t\t${showDate && `\n\t\t\t\t\t<span class=\"${config.datetimeSegmentClass}\" data-kt-datepicker-segment=\"${DatePickerSegment.Day}\">${datetime.day}</span>\n\t\t\t\t\t/\n\t\t\t\t\t<span class=\"${config.datetimeSegmentClass}\" data-kt-datepicker-segment=\"${DatePickerSegment.Month}\">${datetime.month}</span>\n\t\t\t\t\t/\n\t\t\t\t\t<span class=\"${config.datetimeSegmentClass}\" data-kt-datepicker-segment=\"${DatePickerSegment.Year}\">${datetime.year}</span>\n\t\t\t\t\t${showTime ? '<span>&nbsp;</span>' : ''}\n\t\t\t\t`}\n\t\t\t\t${showTime && `\n\t\t\t\t\t<span class=\"${config.datetimeSegmentClass}\" data-kt-datepicker-segment=\"${DatePickerSegment.Hours}\">${datetime.hours}</span>\n\t\t\t\t\t:\n\t\t\t\t\t<span class=\"${config.datetimeSegmentClass}\" data-kt-datepicker-segment=\"${DatePickerSegment.Minutes}\">${datetime.minutes}</span>\n\t\t\t\t\t:\n\t\t\t\t\t<span class=\"${config.datetimeSegmentClass}\" data-kt-datepicker-segment=\"${DatePickerSegment.Seconds}\">${datetime.seconds}</span>\n\t\t\t\t\t${is12Hours ? `\n\t\t\t\t\t\t<span>&nbsp;</span>\n\t\t\t\t\t\t<span class=\"${config.datetimeSegmentClass}\" data-kt-datepicker-segment=\"${DatePickerSegment.AmPm}\">${datetime.amPm}</span>\n\t\t\t\t\t` : ''}\n\t\t\t\t`}\n\t\t\t\t${showGMT && `\n\t\t\t\t\t<span>${datetime.gmtOffset}</span>\n\t\t\t\t`}\n\t\t\t</div>\n\t\t`;\n\t},\n\n\tdatetimeDisplayEnd: (state: KTDatepickerStateManager, datetime: DateTimeDisplayInterface, showDate = true, showTime = false, showGMT = false, is12Hours = true) => {\n\t\tconst config = state.getConfig();\n\n\t\treturn _html`\n\t\t\t<div class=\"${config.datetimeDisplayClass}\" data-kt-datepicker-display>\n\t\t\t\t${showDate && `\n\t\t\t\t\t<span class=\"${config.datetimeSegmentClass}\" data-kt-datepicker-segment=\"${DatePickerSegment.EndDay}\">${datetime.day}</span>\n\t\t\t\t\t/\n\t\t\t\t\t<span class=\"${config.datetimeSegmentClass}\" data-kt-datepicker-segment=\"${DatePickerSegment.EndMonth}\">${datetime.month}</span>\n\t\t\t\t\t/\n\t\t\t\t\t<span class=\"${config.datetimeSegmentClass}\" data-kt-datepicker-segment=\"${DatePickerSegment.EndYear}\">${datetime.year}</span>\n\t\t\t\t\t${showTime ? '<span>&nbsp;</span>' : ''}\n\t\t\t\t`}\n\t\t\t\t${showTime && `\n\t\t\t\t\t<span class=\"${config.datetimeSegmentClass}\" data-kt-datepicker-segment=\"${DatePickerSegment.EndHours}\">${datetime.hours}</span>\n\t\t\t\t\t:\n\t\t\t\t\t<span class=\"${config.datetimeSegmentClass}\" data-kt-datepicker-segment=\"${DatePickerSegment.EndMinutes}\">${datetime.minutes}</span>\n\t\t\t\t\t:\n\t\t\t\t\t<span class=\"${config.datetimeSegmentClass}\" data-kt-datepicker-segment=\"${DatePickerSegment.EndSeconds}\">${datetime.seconds}</span>\n\t\t\t\t\t${is12Hours ? `\n\t\t\t\t\t\t<span>&nbsp;</span>\n\t\t\t\t\t\t<span class=\"${config.datetimeSegmentClass}\" data-kt-datepicker-segment=\"${DatePickerSegment.EndAmPm}\">${datetime.amPm}</span>\n\t\t\t\t\t` : ''}\n\t\t\t\t`}\n\t\t\t\t${showGMT && `\n\t\t\t\t\t<span>${datetime.gmtOffset}</span>\n\t\t\t\t`}\n\t\t\t</div>\n\t\t`;\n\t},\n\n\tdatetimeDisplayRange: (state: KTDatepickerStateManager, startDatetime: DateTimeDisplayInterface, endDatetime: DateTimeDisplayInterface, showDate: boolean = true, showTime: boolean = false, showGMT: boolean = false, is12Hours: boolean = false) => _html`\n\t\t<div class=\"${state.getConfig().datetimeDisplayClass}\" data-kt-datepicker-display>\n\t\t\t${DefaultTemplates.datetimeDisplay(state, startDatetime, showDate, showTime, showGMT, is12Hours)?.outerHTML}\n\t\t\t<span class=\"mx-2\">-</span>\n\t\t\t${DefaultTemplates.datetimeDisplayEnd(state, endDatetime, showDate, showTime, showGMT, is12Hours)?.outerHTML}\n\t\t</div>\n\t`,\n\n\ttimeSelectorDisplay: (state: KTDatepickerStateManager, datetime: DateTimeDisplayInterface, hourStep: number = 1, minuteStep: number = 1, secondStep: number = 1, disabledHours: number[] = [], disabledMinutes: number[] = [], is12Hours: boolean, selected: Date) => {\n\n\t\tconst hours = Array.from({ length: is12Hours ? 12 / hourStep : 24 / hourStep }, (_, i) => (is12Hours ? 1 : 0) + i * hourStep)\n\t\t\t.map(hour => ({\n\t\t\t\tvalue: is12Hours ? (hour % 12) || 12 : hour,\n\t\t\t\tdisabled: disabledHours.includes(hour),\n\t\t\t\tdisplayValue: hour.toString().padStart(2, '0')\n\t\t\t}));\n\n\t\tconst minutes = Array.from({ length: 60 / minuteStep }, (_, i) => i * minuteStep)\n\t\t\t.map(minute => ({ value: minute, disabled: disabledMinutes.includes(minute) }));\n\n\t\tconst seconds = Array.from({ length: 60 / secondStep }, (_, i) => i * secondStep)\n\t\t\t.map(second => ({ value: second }));\n\n\t\treturn _html`\n\t\t  <div class=\"${state.getConfig().datetimeDisplayClass}\">\n\t\t\t<div class=\"relative\">\n\t\t\t  ${DefaultTemplates.datetimeDisplay(state, datetime, false, true, true)?.outerHTML}\n\t\t\t  <i class=\"fa fa-clock-o absolute right-2 top-1/2 transform -translate-y-1/2 cursor-pointer\"></i>\n\t\t\t</div>\n\n\t\t\t<div class=\"${state.getConfig().timeListContainerClass}\" data-time-list-container>\n\t\t\t  <div class=\"${state.getConfig().timeSelectorFlexContainerClass}\">\n\t\t\t\t<div class=\"${state.getConfig().timePartContainerClass}\" data-time-part=\"hour\">\n\t\t\t\t  <label for=\"hour-select\" class=\"${state.getConfig().timePartLabelClass}\">Hour</label>\n\t\t\t\t  <select id=\"hour-select\" class=\"${state.getConfig().timeSelectClass}\" data-kt-datepicker-segment=\"${DatePickerSegment.Hours}\">\n\t\t\t\t\t${hours.map(hour => `\n\t\t\t\t\t  <option value=\"${hour.value}\" ${hour.disabled ? 'disabled' : ''} ${selected && hour.value === (is12Hours ? (selected.getHours() % 12 || 12) : selected.getHours()) ? 'selected' : ''}>\n\t\t\t\t\t\t${hour.displayValue}\n\t\t\t\t\t  </option>\n\t\t\t\t\t`).join('')}\n\t\t\t\t  </select>\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"${state.getConfig().timePartContainerClass}\" data-time-part=\"minute\">\n\t\t\t\t  <label for=\"minute-select\" class=\"${state.getConfig().timePartLabelClass}\">Minute</label>\n\t\t\t\t  <select id=\"minute-select\" class=\"${state.getConfig().timeSelectClass}\" data-kt-datepicker-segment=\"${DatePickerSegment.Minutes}\">\n\t\t\t\t\t${minutes.map(minute => `\n\t\t\t\t\t  <option value=\"${minute.value}\" ${minute.disabled ? 'disabled' : ''} ${selected && minute.value === selected.getMinutes() ? 'selected' : ''}>\n\t\t\t\t\t\t${minute.value.toString().padStart(2, '0')}\n\t\t\t\t\t  </option>\n\t\t\t\t\t`).join('')}\n\t\t\t\t  </select>\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"${state.getConfig().timePartContainerClass}\" data-time-part=\"second\">\n\t\t\t\t  <label for=\"second-select\" class=\"${state.getConfig().timePartLabelClass}\">Second</label>\n\t\t\t\t  <select id=\"second-select\" class=\"${state.getConfig().timeSelectClass}\" data-kt-datepicker-segment=\"${DatePickerSegment.Seconds}\">\n\t\t\t\t\t${seconds.map(second => `\n\t\t\t\t\t  <option value=\"${second.value}\" ${selected && second.value === selected.getSeconds() ? 'selected' : ''}>\n\t\t\t\t\t\t${second.value.toString().padStart(2, '0')}\n\t\t\t\t\t  </option>\n\t\t\t\t\t`).join('')}\n\t\t\t\t  </select>\n\t\t\t\t</div>\n\n\t\t\t\t${is12Hours ? `\n\t\t\t\t  <div class=\"${state.getConfig().timePartContainerClass}\" data-time-part=\"am-pm\">\n\t\t\t\t\t<label for=\"am-pm-select\" class=\"${state.getConfig().timePartLabelClass}\">AM/PM</label>\n\t\t\t\t\t<select id=\"am-pm-select\" class=\"${state.getConfig().timeSelectClass}\" data-kt-datepicker-segment=\"${DatePickerSegment.AmPm}\">\n\t\t\t\t\t  <option value=\"0\" ${selected && selected.getHours() < 12 ? 'selected' : ''}>AM</option>\n\t\t\t\t\t  <option value=\"12\" ${selected && selected.getHours() >= 12 ? 'selected' : ''}>PM</option>\n\t\t\t\t\t</select>\n\t\t\t\t  </div>\n\t\t\t\t` : ''}\n\t\t\t  </div>\n\t\t\t</div>\n\t\t  </div>\n\t\t`;\n\t},\n\n\ttimeSelectorRangeDisplay: (state: KTDatepickerStateManager, startDateTime: DateTimeDisplayInterface, endDateTime: DateTimeDisplayInterface, hourStep: number = 1, minuteStep: number = 1, secondStep: number = 1, disabledHours: number[] = [], disabledMinutes: number[] = [], is24Hours: boolean, selected: SelectedDateInterface) => _html`\n\t\t<div class=\"flex items-center\">\n\t\t\t<div data-kt-datepicker-time-type=\"start\">\n\t\t\t\t${DefaultTemplates.timeSelectorDisplay(\n\t\tstate, startDateTime, hourStep, minuteStep, secondStep, disabledHours, disabledMinutes, is24Hours, selected.selectedDateRange.startDate\n\t)?.outerHTML}\n\t\t\t</div>\n\t\t\t<span class=\"text-center w-4\">-</span>\n\t\t\t<div data-kt-datepicker-time-type=\"end\">\n\t\t\t\t${DefaultTemplates.timeSelectorDisplay(\n\t\tstate, endDateTime, hourStep, minuteStep, secondStep, disabledHours, disabledMinutes, is24Hours, selected.selectedDateRange.endDate\n\t)?.outerHTML}\n\t\t\t</div>\n\t\t</div>\n\t`,\n};\n\n/**\n * Creates HTML elements from a template string.\n *\n * @param {TemplateStringsArray} strings - The template string array.\n * @param {any[]} values - The values to interpolate into the template string.\n * @return {HTMLElement} The created HTML element.\n */\nexport function _html(strings: TemplateStringsArray, ...values: any[]): HTMLElement {\n\tconst template = document.createElement('template');\n\ttemplate.innerHTML = strings.reduce((acc, str, i) => acc + (values[i - 1] || '') + str);\n\treturn template.content.firstElementChild as HTMLElement;\n}\n","import { DefaultTemplates } from \"./templates\";\n\nexport interface KTDatepickerConfigInterface {\n\tlocale?: string;\n\tlocales?: Partial<LocaleConfigInterface>;\n\ttemplates?: Partial<typeof DefaultTemplates>;\n\n\tweekDays: 'short' | 'long' | 'min';\n\tforceLeadingZero: boolean;\n\tminDate?: Date | string;\n\tmaxDate?: Date | string;\n\n\tvisibleMonths?: number;\n\tvisibleYears?: number;\n\n\tdateFormat?: string;\n\n\ttimeFormat?: string;\n\tenableTime?: boolean;\n\tam?: string;\n\tpm?: string;\n\thourStep?: number;\n\tminuteStep?: number;\n\tsecondStep?: number;\n\tdisabledHours?: number[];\n\tdisabledMinutes?: number[];\n\n\trange?: boolean;\n\trangeSeparator?: string;\n\n\t// Element selectors\n\tinputSelector?: string;\n\tstartInputSelector?: string;\n\tendInputSelector?: string;\n\tsegmentSelector?: string;\n\tmonthContainerSelector?: string;\n\tmonthDisplaySelector?: string;\n\tyearDisplaySelector?: string;\n\tdaysOfWeekSelector?: string;\n\tcalendarGridSelector?: string;\n\tprevBtnSelector?: string;\n\tnextBtnSelector?: string;\n\tmonthYearDisplaySelector?: string;\n\tdateCellSelector?: string;\n\tmonthYearSelector?: string;\n\tmonthOptionSelector?: string;\n\tyearOptionSelector?: string;\n\ttimeInputSelector?: string;\n\tmonthOptionsSelector?: string;\n\tyearOptionsSelector?: string;\n\n\t// Events\n\tinitEvent?: string;\n\tdateChangeEvent?: string;\n\tkeyboardNavigateEvent?: string;\n\tcalendarRenderedEvent?: string;\n\tcalendarPreviousMonthEvent?: string;\n\tcalendarNextMonthEvent?: string;\n\tdropdownSelector?: string;\n\tmainDisplaySelector?: string;\n\n\t// Classes\n\tselectedClass?: string;\n\thoveredInRangeClass?: string;\n    dropdownActiveClass?: string;\n\n\tcontainerClass?: string;\n\tmonthContainerClass?: string;\n\tdaysOfWeekClass?: string;\n\tdayCellClass?: string;\n\tdayCellSelectedClass?: string;\n\tdayCellCurrentClass?: string;\n\tdayCellDisabledClass?: string;\n\tdayCellInRangeClass?: string;\n\tdayCellStartClass?: string;\n\tdayCellEndClass?: string;\n\tmonthYearSelectorContainerClass?: string;\n\tmonthYearDisplayClass?: string;\n\tmonthYearDisplayTextClass?: string;\n\tmonthYearOptionsContainerClass?: string;\n\tmonthOptionClass?: string;\n\tmonthOptionSelectedClass?: string;\n\tmonthOptionCurrentClass?: string;\n\tyearOptionClass?: string;\n\tyearOptionSelectedClass?: string;\n\tyearOptionCurrentClass?: string;\n\tdatetimeDisplayClass?: string;\n\tdatetimeSegmentClass?: string;\n\ttimeListContainerClass?: string;\n\ttimeSelectorFlexContainerClass?: string;\n\ttimePartContainerClass?: string;\n\ttimePartLabelClass?: string;\n\ttimeSelectClass?: string;\n}\n\nexport interface LocaleConfigInterface {\n\tmonthNames: string[];\n\tmonthNamesShort: string[];\n\tdayNames: string[];\n\tdayNamesShort: string[];\n\tdayNamesMin: string[];\n\tfirstDayOfWeek: number;\n}\n\nexport interface DateRangeInterface {\n\tstartDate: Date | null;\n\tendDate: Date | null;\n}\n\nexport interface SelectedDateInterface {\n\tselectedDate?: Date;\n\tselectedDateRange?: DateRangeInterface;\n}\n\nexport enum DatePickerSegment {\n\tDay = 'day',\n\tMonth = 'month',\n\tYear = 'year',\n\tHours = 'hours',\n\tMinutes = 'minutes',\n\tSeconds = 'seconds',\n\tAmPm = 'amPm',\n\tGmtOffset = 'gmtOffset',\n\tEndDay = 'endDay',\n\tEndMonth = 'endMonth',\n\tEndYear = 'endYear',\n\tEndHours = 'endHours',\n\tEndMinutes = 'endMinutes',\n\tEndSeconds = 'endSeconds',\n\tEndAmPm = 'endAmPm',\n}\n\nexport interface DateTimeDisplayInterface {\n\tday: string;\n\tmonth: string;\n\tyear: string;\n\thours?: string;\n\tminutes?: string;\n\tseconds?: string;\n\tamPm?: string;\n\tgmtOffset?: string;\n}\n\nexport enum ActiveInput {\n\tStart = 'start',\n\tEnd = 'end'\n};","/* eslint-disable max-len */\n/* eslint-disable require-jsdoc */\n\nimport KTData from '../../helpers/data';\nimport KTDom from '../../helpers/dom';\nimport KTComponent from '../component';\nimport { KTDismissInterface, KTDismissConfigInterface } from './types';\nimport { KTDismissModeType } from './types';\n\nexport class KTDismiss extends KTComponent implements KTDismissInterface {\n\tprotected override _name: string = 'dismiss';\n\tprotected override _defaultConfig: KTDismissConfigInterface = {\n\t\thiddenClass: 'hidden',\n\t\tmode: 'remove',\n\t\tinterrupt: true,\n\t\ttarget: '',\n\t};\n\tprotected override _config: KTDismissConfigInterface = this._defaultConfig;\n\tprotected _isAnimating: boolean = false;\n\tprotected _targetElement: HTMLElement | null = null;\n\n\tconstructor(element: HTMLElement, config?: KTDismissConfigInterface) {\n\t\tsuper();\n\n\t\tif (KTData.has(element as HTMLElement, this._name)) return;\n\n\t\tthis._init(element);\n\t\tthis._buildConfig(config);\n\n\t\tthis._config['mode'] = this._config['mode'] as KTDismissModeType;\n\n\t\tif (!this._element) return;\n\n\t\tthis._targetElement = this._getTargetElement();\n\t\tif (!this._targetElement) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._handlers();\n\t}\n\n\tprivate _getTargetElement(): HTMLElement | null {\n\t\treturn (\n\t\t\tKTDom.getElement(\n\t\t\t\tthis._element.getAttribute('data-kt-dismiss') as string\n\t\t\t) || KTDom.getElement(this._getOption('target') as string)\n\t\t);\n\t}\n\n\tprotected _handlers(): void {\n\t\tif (!this._element) return;\n\n\t\tthis._element.addEventListener('click', (event: Event) => {\n\t\t\tevent.preventDefault();\n\n\t\t\tif ((this._getOption('interrupt') as boolean) === true) {\n\t\t\t\tevent.stopPropagation();\n\t\t\t}\n\n\t\t\tthis._dismiss();\n\t\t});\n\t}\n\n\tprotected _dismiss(): void {\n\t\tif (this._isAnimating) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst payload = { cancel: false };\n\t\tthis._fireEvent('dismiss', payload);\n\t\tthis._dispatchEvent('dismiss', payload);\n\t\tif (payload.cancel === true) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (!this._targetElement) return;\n\t\tthis._targetElement.style.opacity = '0';\n\t\tKTDom.reflow(this._targetElement);\n\t\tthis._isAnimating = true;\n\n\t\tKTDom.transitionEnd(this._targetElement, () => {\n\t\t\tif (!this._targetElement) return;\n\t\t\tthis._isAnimating = false;\n\t\t\tthis._targetElement.style.opacity = '';\n\n\t\t\tif (this._getOption('mode').toString().toLowerCase() === 'hide') {\n\t\t\t\tthis._targetElement.classList.add(\n\t\t\t\t\tthis._getOption('hiddenClass') as string\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tKTDom.remove(this._targetElement);\n\t\t\t}\n\n\t\t\tthis._fireEvent('dismissed');\n\t\t\tthis._dispatchEvent('dismissed');\n\t\t});\n\t}\n\n\tpublic getTargetElement(): HTMLElement {\n\t\treturn this._targetElement;\n\t}\n\n\tpublic dismiss(): void {\n\t\tthis._dismiss();\n\t}\n\n\tpublic static getInstance(element: HTMLElement): KTDismiss {\n\t\tif (!element) return null;\n\n\t\tif (KTData.has(element, 'dismiss')) {\n\t\t\treturn KTData.get(element, 'dismiss') as KTDismiss;\n\t\t}\n\n\t\tif (element.getAttribute('data-kt-dismiss')) {\n\t\t\treturn new KTDismiss(element);\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tpublic static getOrCreateInstance(\n\t\telement: HTMLElement,\n\t\tconfig?: KTDismissConfigInterface\n\t): KTDismiss {\n\t\treturn this.getInstance(element) || new KTDismiss(element, config);\n\t}\n\n\tpublic static createInstances(): void {\n\t\tconst elements = document.querySelectorAll('[data-kt-dismiss]');\n\n\t\telements.forEach((element) => {\n\t\t\tnew KTDismiss(element as HTMLElement);\n\t\t});\n\t}\n\n\tpublic static init(): void {\n\t\tKTDismiss.createInstances();\n\t}\n}\n\nif (typeof window !== 'undefined') {\n\twindow.KTDismiss = KTDismiss;\n}\n","export { KTDismiss } from './dismiss';\nexport type { KTDismissConfigInterface, KTDismissInterface } from './types';\n","/* eslint-disable max-len */\n/* eslint-disable require-jsdoc */\n\nimport KTData from '../../helpers/data';\nimport KTDom from '../../helpers/dom';\nimport KTUtils from '../../helpers/utils';\nimport KTEventHandler from '../../helpers/event-handler';\nimport KTComponent from '../component';\nimport { KTDrawerInterface, KTDrawerConfigInterface } from './types';\n\ndeclare global {\n\tinterface Window {\n\t\tKT_DRAWER_INITIALIZED: boolean;\n\t}\n}\n\nexport class KTDrawer extends KTComponent implements KTDrawerInterface {\n\tprotected override _name: string = 'drawer';\n\tprotected override _defaultConfig: KTDrawerConfigInterface = {\n\t\tzindex: '100',\n\t\tenable: true,\n\t\tclass: '',\n\t\tshownClass: 'flex',\n\t\thiddenClass: 'hidden',\n\t\tbackdrop: true,\n\t\tbackdropClass: 'transition-all duration-300 fixed inset-0 bg-black/10',\n\t\tbackdropStatic: false,\n\t\tkeyboard: true,\n\t\tdisableScroll: true,\n\t\tpersistent: false,\n\t\tfocus: true,\n\t};\n\tprotected override _config: KTDrawerConfigInterface = this._defaultConfig;\n\tprotected _isOpen: boolean = false;\n\tprotected _isTransitioning: boolean = false;\n\tprotected _backdropElement: HTMLElement | null = null;\n\tprotected _relatedTarget: HTMLElement | null = null;\n\n\tconstructor(element: HTMLElement, config?: KTDrawerConfigInterface) {\n\t\tsuper();\n\n\t\tif (KTData.has(element as HTMLElement, this._name)) return;\n\n\t\tthis._init(element);\n\t\tthis._buildConfig(config);\n\t\tthis._handleClose();\n\t\tthis._update();\n\t}\n\n\tprotected _handleClose(): void {\n\t\tif (!this._element) return;\n\t\tKTEventHandler.on(this._element, '[data-kt-drawer-hide]', 'click', () => {\n\t\t\tthis._hide();\n\t\t});\n\t}\n\n\tprotected _toggle(relatedTarget?: HTMLElement): void {\n\t\tconst payload = { cancel: false };\n\t\tthis._fireEvent('toggle', payload);\n\t\tthis._dispatchEvent('toggle', payload);\n\t\tif (payload.cancel === true) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (this._isOpen === true) {\n\t\t\tthis._hide();\n\t\t} else {\n\t\t\tthis._show(relatedTarget);\n\t\t}\n\t}\n\n\tprotected _show(relatedTarget?: HTMLElement): void {\n\t\tif (this._isOpen || this._isTransitioning) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst payload = { cancel: false };\n\t\tthis._fireEvent('show', payload);\n\t\tthis._dispatchEvent('show', payload);\n\t\tif (payload.cancel === true) {\n\t\t\treturn;\n\t\t}\n\n\t\tKTDrawer.hide();\n\n\t\tif (this._getOption('backdrop') === true) this._createBackdrop();\n\n\t\tif (relatedTarget) this._relatedTarget = relatedTarget;\n\n\t\tif (!this._element) return;\n\t\tthis._isTransitioning = true;\n\t\tthis._element.classList.remove(this._getOption('hiddenClass') as string);\n\t\tthis._element.classList.add(this._getOption('shownClass') as string);\n\t\tthis._element.setAttribute('role', 'dialog');\n\t\tthis._element.setAttribute('aria-modal', 'true');\n\t\tthis._element.setAttribute('tabindex', '-1');\n\n\t\tconst zindex: number = parseInt(this._getOption('zindex') as string);\n\t\tif (zindex > 0) {\n\t\t\tthis._element.style.zIndex = `${zindex}`;\n\t\t}\n\n\t\tif (this._getOption('disableScroll')) {\n\t\t\tdocument.body.style.overflow = 'hidden';\n\t\t}\n\n\t\tKTDom.reflow(this._element);\n\t\tthis._element.classList.add('open');\n\n\t\tKTDom.transitionEnd(this._element, () => {\n\t\t\tthis._isTransitioning = false;\n\t\t\tthis._isOpen = true;\n\n\t\t\tif (this._getOption('focus') === true) {\n\t\t\t\tthis._autoFocus();\n\t\t\t}\n\n\t\t\tthis._fireEvent('shown');\n\t\t\tthis._dispatchEvent('shown');\n\t\t});\n\t}\n\n\tprotected _hide(): void {\n\t\tif (!this._element) return;\n\t\tif (this._isOpen === false || this._isTransitioning) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst payload = { cancel: false };\n\t\tthis._fireEvent('hide', payload);\n\t\tthis._dispatchEvent('hide', payload);\n\t\tif (payload.cancel === true) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._isTransitioning = true;\n\t\tthis._element.removeAttribute('role');\n\t\tthis._element.removeAttribute('aria-modal');\n\t\tthis._element.removeAttribute('tabindex');\n\t\tif (this._getOption('disableScroll')) {\n\t\t\tdocument.body.style.overflow = '';\n\t\t}\n\n\t\tKTDom.reflow(this._element);\n\t\tthis._element.classList.remove('open');\n\n\t\tif (this._getOption('backdrop') === true) {\n\t\t\tthis._deleteBackdrop();\n\t\t}\n\n\t\tKTDom.transitionEnd(this._element, () => {\n\t\t\tif (!this._element) return;\n\n\t\t\tthis._isTransitioning = false;\n\t\t\tthis._isOpen = false;\n\t\t\tthis._element.classList.add(this._getOption('hiddenClass') as string);\n\t\t\tthis._element.classList.remove(this._getOption('shownClass') as string);\n\t\t\tthis._element.style.zIndex = '';\n\n\t\t\tthis._fireEvent('hidden');\n\t\t\tthis._dispatchEvent('hidden');\n\t\t});\n\t}\n\n\tprotected _update(): void {\n\t\tif ((this._getOption('class') as string)?.length > 0) {\n\t\t\tif (this.isEnabled()) {\n\t\t\t\tKTDom.addClass(this._element, this._getOption('class') as string);\n\t\t\t} else {\n\t\t\t\tKTDom.removeClass(this._element, this._getOption('class') as string);\n\t\t\t}\n\t\t}\n\t}\n\n\tprotected _autoFocus(): void {\n\t\tif (!this._element) return;\n\t\tconst input: HTMLInputElement | null = this._element.querySelector(\n\t\t\t'[data-kt-drawer-focus]'\n\t\t);\n\t\tif (!input) return;\n\t\telse input.focus();\n\t}\n\n\tprotected _createBackdrop(): void {\n\t\tif (!this._element) return;\n\n\t\tconst zindex: number = parseInt(this._getOption('zindex') as string);\n\n\t\tthis._backdropElement = document.createElement('DIV');\n\t\tthis._backdropElement.style.zIndex = (zindex - 1).toString();\n\t\tdocument.body.append(this._backdropElement);\n\t\tKTDom.reflow(this._backdropElement);\n\t\tKTDom.addClass(\n\t\t\tthis._backdropElement,\n\t\t\tthis._getOption('backdropClass') as string\n\t\t);\n\n\t\tthis._backdropElement.addEventListener('click', (event: Event) => {\n\t\t\tevent.preventDefault();\n\t\t\tif (this._getOption('backdropStatic') === false) {\n\t\t\t\tthis._hide();\n\t\t\t}\n\t\t});\n\t}\n\n\tprotected _deleteBackdrop(): void {\n\t\tif (!this._backdropElement) return;\n\n\t\tKTDom.reflow(this._backdropElement);\n\t\tthis._backdropElement.style.opacity = '0';\n\n\t\tKTDom.transitionEnd(this._backdropElement, () => {\n\t\t\tif (!this._backdropElement) return;\n\t\t\tKTDom.remove(this._backdropElement);\n\t\t});\n\t}\n\n\tprotected _isEnabled(): boolean {\n\t\treturn KTUtils.stringToBoolean(this._getOption('enable'));\n\t}\n\n\tpublic toggle(): void {\n\t\treturn this._toggle();\n\t}\n\n\tpublic show(relatedTarget?: HTMLElement): void {\n\t\treturn this._show(relatedTarget);\n\t}\n\n\tpublic hide(): void {\n\t\treturn this._hide();\n\t}\n\n\tpublic update(): void {\n\t\treturn this._update();\n\t}\n\n\tpublic getRelatedTarget(): HTMLElement | null {\n\t\treturn this._relatedTarget;\n\t}\n\n\tpublic isOpen(): boolean {\n\t\treturn this._isOpen;\n\t}\n\n\tpublic isEnabled(): boolean {\n\t\treturn this._isEnabled();\n\t}\n\n\tpublic static getInstance(element: HTMLElement): KTDrawer {\n\t\tif (!element) return null;\n\n\t\tif (KTData.has(element, 'drawer')) {\n\t\t\treturn KTData.get(element, 'drawer') as KTDrawer;\n\t\t}\n\n\t\tif (element.getAttribute('data-kt-drawer-initialized') === 'true') {\n\t\t\treturn new KTDrawer(element);\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tpublic static getOrCreateInstance(\n\t\telement: HTMLElement,\n\t\tconfig?: KTDrawerConfigInterface\n\t): KTDrawer {\n\t\treturn this.getInstance(element) || new KTDrawer(element, config);\n\t}\n\n\tpublic static hide(): void {\n\t\tconst elements = document.querySelectorAll('[data-kt-drawer-initialized]');\n\n\t\telements.forEach((element) => {\n\t\t\tconst drawer = KTDrawer.getInstance(element as HTMLElement);\n\n\t\t\tif (drawer && drawer.isOpen()) {\n\t\t\t\tdrawer.hide();\n\t\t\t}\n\t\t});\n\t}\n\n\tpublic static handleResize(): void {\n\t\twindow.addEventListener('resize', () => {\n\t\t\tlet timer;\n\n\t\t\tKTUtils.throttle(\n\t\t\t\ttimer,\n\t\t\t\t() => {\n\t\t\t\t\tdocument\n\t\t\t\t\t\t.querySelectorAll('[data-kt-drawer-initialized]')\n\t\t\t\t\t\t.forEach((element) => {\n\t\t\t\t\t\t\tconst drawer = KTDrawer.getInstance(element as HTMLElement);\n\t\t\t\t\t\t\tdrawer.update();\n\n\t\t\t\t\t\t\tif (drawer && drawer.isOpen() && !drawer.isEnabled()) {\n\t\t\t\t\t\t\t\tdrawer.hide();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\t200\n\t\t\t);\n\t\t});\n\t}\n\n\tpublic static handleToggle(): void {\n\t\tKTEventHandler.on(\n\t\t\tdocument.body,\n\t\t\t'[data-kt-drawer-toggle]',\n\t\t\t'click',\n\t\t\t(event: Event, target: HTMLElement) => {\n\t\t\t\tevent.stopPropagation();\n\n\t\t\t\tconst selector = target.getAttribute('data-kt-drawer-toggle');\n\t\t\t\tif (!selector) return;\n\n\t\t\t\tconst drawerEl = document.querySelector(selector);\n\t\t\t\tconst drawer = KTDrawer.getInstance(drawerEl as HTMLElement);\n\t\t\t\tif (drawer) {\n\t\t\t\t\tdrawer.toggle();\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\t}\n\n\tpublic static handleDismiss(): void {\n\t\tKTEventHandler.on(\n\t\t\tdocument.body,\n\t\t\t'[data-kt-drawer-dismiss]',\n\t\t\t'click',\n\t\t\t(event: Event, target: HTMLElement) => {\n\t\t\t\tevent.stopPropagation();\n\n\t\t\t\tconst modalElement = target.closest(\n\t\t\t\t\t'[data-kt-drawer=\"true\"]'\n\t\t\t\t) as HTMLElement;\n\t\t\t\tif (modalElement) {\n\t\t\t\t\tconst modal = KTDrawer.getInstance(modalElement);\n\t\t\t\t\tif (modal) {\n\t\t\t\t\t\tmodal.hide();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\t}\n\n\tpublic static handleClickAway() {\n\t\tdocument.addEventListener('click', (event: Event) => {\n\t\t\tconst drawerEl = document.querySelector(\n\t\t\t\t'.open[data-kt-drawer-initialized]'\n\t\t\t);\n\t\t\tif (!drawerEl) return;\n\n\t\t\tconst drawer = KTDrawer.getInstance(drawerEl as HTMLElement);\n\t\t\tif (!drawer) return;\n\n\t\t\tif (drawer.getOption('persistent')) return;\n\n\t\t\tif (drawer.getOption('backdrop')) return;\n\n\t\t\tif (\n\t\t\t\tdrawerEl !== event.target &&\n\t\t\t\tdrawer.getRelatedTarget() !== event.target &&\n\t\t\t\tdrawerEl.contains(event.target as HTMLElement) === false\n\t\t\t) {\n\t\t\t\tdrawer.hide();\n\t\t\t}\n\t\t});\n\t}\n\n\tpublic static handleKeyword() {\n\t\tdocument.addEventListener('keydown', (event: KeyboardEvent) => {\n\t\t\tconst drawerEl = document.querySelector(\n\t\t\t\t'.open[data-kt-drawer-initialized]'\n\t\t\t);\n\t\t\tconst drawer = KTDrawer.getInstance(drawerEl as HTMLElement);\n\t\t\tif (!drawer) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// if esc key was not pressed in combination with ctrl or alt or shift\n\t\t\tif (\n\t\t\t\tevent.key === 'Escape' &&\n\t\t\t\t!(event.ctrlKey || event.altKey || event.shiftKey)\n\t\t\t) {\n\t\t\t\tdrawer.hide();\n\t\t\t}\n\n\t\t\tif (event.code === 'Tab' && !event.metaKey) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t});\n\t}\n\n\tpublic static createInstances(): void {\n\t\tconst elements = document.querySelectorAll('[data-kt-drawer]');\n\n\t\telements.forEach((element) => {\n\t\t\tnew KTDrawer(element as HTMLElement);\n\t\t});\n\t}\n\n\tpublic static init(): void {\n\t\tKTDrawer.createInstances();\n\n\t\tif (window.KT_DRAWER_INITIALIZED !== true) {\n\t\t\tKTDrawer.handleToggle();\n\t\t\tKTDrawer.handleDismiss();\n\t\t\tKTDrawer.handleResize();\n\t\t\tKTDrawer.handleClickAway();\n\t\t\tKTDrawer.handleKeyword();\n\t\t\twindow.KT_DRAWER_INITIALIZED = true;\n\t\t}\n\t}\n}\n\nif (typeof window !== 'undefined') {\n\twindow.KTDrawer = KTDrawer;\n}\n","export { KTDrawer } from './drawer';\nexport type { KTDrawerConfigInterface, KTDrawerInterface } from './types';\n","import {\n\tInstance as PopperInstance,\n\tcreatePopper,\n\tPlacement,\n\tVirtualElement,\n} from '@popperjs/core';\nimport KTDom from '../../helpers/dom';\nimport KTData from '../../helpers/data';\nimport KTEventHandler from '../../helpers/event-handler';\nimport KTComponent from '../component';\nimport { KTDropdownConfigInterface, KTDropdownInterface } from './types';\nimport { KTMenu } from '../menu';\n\ndeclare global {\n\tinterface Window {\n\t\tKT_DROPDOWN_INITIALIZED: boolean;\n\t}\n}\n\nexport class KTDropdown extends KTComponent implements KTDropdownInterface {\n\tprotected override _name: string = 'dropdown';\n\tprotected override _defaultConfig: KTDropdownConfigInterface = {\n\t\tzindex: 105,\n\t\thoverTimeout: 200,\n\t\tplacement: 'bottom-start',\n\t\tplacementRtl: 'bottom-end',\n\t\tpermanent: false,\n\t\tdismiss: false,\n\t\tkeyboard: true,\n\t\ttrigger: 'click',\n\t\tattach: '',\n\t\toffset: '0px, 5px',\n\t\toffsetRtl: '0px, 5px',\n\t\thiddenClass: 'hidden',\n\t};\n\tprotected override _config: KTDropdownConfigInterface = this._defaultConfig;\n\tprotected _disabled: boolean = false;\n\tprotected _toggleElement: HTMLElement;\n\tprotected _menuElement: HTMLElement;\n\tprotected _isTransitioning: boolean = false;\n\tprotected _isOpen: boolean = false;\n\n\tconstructor(element: HTMLElement, config?: KTDropdownConfigInterface) {\n\t\tsuper();\n\n\t\tif (KTData.has(element as HTMLElement, this._name)) return;\n\n\t\tthis._init(element);\n\t\tthis._buildConfig(config);\n\n\t\tthis._toggleElement = this._element.querySelector(\n\t\t\t'[data-kt-dropdown-toggle]'\n\t\t) as HTMLElement;\n\t\tif (!this._toggleElement) return;\n\t\tthis._menuElement = this._element.querySelector(\n\t\t\t'[data-kt-dropdown-menu]'\n\t\t) as HTMLElement;\n\t\tif (!this._menuElement) return;\n\n\t\tKTData.set(this._menuElement, 'dropdownElement', this._element);\n\t\tthis._setupNestedDropdowns();\n\t}\n\n\tprotected _setupNestedDropdowns(): void {\n\t\tconst subDropdowns = this._menuElement.querySelectorAll(\n\t\t\t'[data-kt-dropdown-toggle]'\n\t\t);\n\t\tsubDropdowns.forEach((subToggle) => {\n\t\t\tconst subItem = subToggle.closest(\n\t\t\t\t'[data-kt-dropdown-item]'\n\t\t\t) as HTMLElement;\n\t\t\tconst subMenu = subToggle\n\t\t\t\t.closest('.kt-menu-item')\n\t\t\t\t?.querySelector('[data-kt-dropdown-menu]');\n\t\t\tif (subItem && subMenu) {\n\t\t\t\tnew KTDropdown(subItem);\n\t\t\t}\n\t\t});\n\t}\n\n\tprotected _click(event: Event): void {\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\n\t\tif (this._disabled) return;\n\n\t\tif (this._getOption('trigger') !== 'click') return;\n\n\t\tthis._toggle();\n\t}\n\n\tprotected _mouseover(event: MouseEvent): void {\n\t\tif (this._disabled) return;\n\n\t\tif (this._getOption('trigger') !== 'hover') return;\n\n\t\tif (KTData.get(this._element, 'hover') === '1') {\n\t\t\tclearTimeout(KTData.get(this._element, 'timeout') as number);\n\t\t\tKTData.remove(this._element, 'hover');\n\t\t\tKTData.remove(this._element, 'timeout');\n\t\t}\n\n\t\tthis._show();\n\t}\n\n\tprotected _mouseout(event: MouseEvent): void {\n\t\tif (this._disabled) return;\n\n\t\tif (this._getOption('trigger') !== 'hover') return;\n\n\t\tconst relatedTarget = event.relatedTarget as HTMLElement;\n\t\tconst isWithinDropdown = this._element.contains(relatedTarget);\n\n\t\tif (isWithinDropdown) return;\n\n\t\tconst timeout = setTimeout(() => {\n\t\t\tif (KTData.get(this._element, 'hover') === '1') {\n\t\t\t\tthis._hide();\n\t\t\t}\n\t\t}, parseInt(this._getOption('hoverTimeout') as string));\n\n\t\tKTData.set(this._element, 'hover', '1');\n\t\tKTData.set(this._element, 'timeout', timeout);\n\t}\n\n\tprotected _toggle(): void {\n\t\tif (this._isOpen) {\n\t\t\tthis._hide();\n\t\t} else {\n\t\t\tthis._show();\n\t\t}\n\t}\n\n\tprotected _show(): void {\n\t\tif (this._isOpen || this._isTransitioning) return;\n\n\t\tconst payload = { cancel: false };\n\t\tthis._fireEvent('show', payload);\n\t\tthis._dispatchEvent('show', payload);\n\t\tif (payload.cancel) return;\n\n\t\tKTDropdown.hide(this._element);\n\t\tKTMenu.hide(this._element);\n\n\t\tlet zIndex: number = parseInt(this._getOption('zindex') as string);\n\t\tconst parentZindex: number = KTDom.getHighestZindex(this._element);\n\n\t\tif (parentZindex !== null && parentZindex >= zIndex) {\n\t\t\tzIndex = parentZindex + 1;\n\t\t}\n\t\tif (zIndex > 0) {\n\t\t\tthis._menuElement.style.zIndex = zIndex.toString();\n\t\t}\n\n\t\tthis._menuElement.style.display = 'block';\n\t\tthis._menuElement.style.opacity = '0';\n\t\tKTDom.reflow(this._menuElement);\n\t\tthis._menuElement.style.opacity = '1';\n\n\t\tthis._menuElement.classList.remove(\n\t\t\tthis._getOption('hiddenClass') as string\n\t\t);\n\t\tthis._toggleElement.classList.add('active');\n\t\tthis._menuElement.classList.add('open');\n\t\tthis._element.classList.add('open');\n\n\t\tthis._initPopper();\n\n\t\tKTDom.transitionEnd(this._menuElement, () => {\n\t\t\tthis._isTransitioning = false;\n\t\t\tthis._isOpen = true;\n\n\t\t\tthis._fireEvent('shown');\n\t\t\tthis._dispatchEvent('shown');\n\t\t});\n\t}\n\n\tprotected _hide(): void {\n\t\tif (!this._isOpen || this._isTransitioning) return;\n\n\t\tconst payload = { cancel: false };\n\t\tthis._fireEvent('hide', payload);\n\t\tthis._dispatchEvent('hide', payload);\n\t\tif (payload.cancel) return;\n\n\t\tthis._menuElement.style.opacity = '1';\n\t\tKTDom.reflow(this._menuElement);\n\t\tthis._menuElement.style.opacity = '0';\n\t\tthis._menuElement.classList.remove('open');\n\t\tthis._toggleElement.classList.remove('active');\n\t\tthis._element.classList.remove('open');\n\n\t\tKTDom.transitionEnd(this._menuElement, () => {\n\t\t\tthis._isTransitioning = false;\n\t\t\tthis._isOpen = false;\n\n\t\t\tthis._menuElement.classList.add(this._getOption('hiddenClass') as string);\n\t\t\tthis._menuElement.style.display = '';\n\t\t\tthis._menuElement.style.zIndex = '';\n\n\t\t\tthis._destroyPopper();\n\n\t\t\tthis._fireEvent('hidden');\n\t\t\tthis._dispatchEvent('hidden');\n\t\t});\n\t}\n\n\tprotected _initPopper(): void {\n\t\tconst isRtl = KTDom.isRTL();\n\t\tlet reference: HTMLElement;\n\t\tconst attach = this._getOption('attach') as string;\n\n\t\tif (attach) {\n\t\t\treference =\n\t\t\t\tattach === 'parent'\n\t\t\t\t\t? (this._toggleElement.parentNode as HTMLElement)\n\t\t\t\t\t: (document.querySelector(attach) as HTMLElement);\n\t\t} else {\n\t\t\treference = this._toggleElement;\n\t\t}\n\n\t\tif (reference) {\n\t\t\tconst popper = createPopper(\n\t\t\t\treference as Element | VirtualElement,\n\t\t\t\tthis._menuElement,\n\t\t\t\tthis._getPopperConfig()\n\t\t\t);\n\t\t\tKTData.set(this._element, 'popper', popper);\n\t\t}\n\t}\n\n\tprotected _destroyPopper(): void {\n\t\tif (KTData.has(this._element, 'popper')) {\n\t\t\t(KTData.get(this._element, 'popper') as PopperInstance).destroy();\n\t\t\tKTData.remove(this._element, 'popper');\n\t\t}\n\t}\n\n\tprotected _isDropdownOpen(): boolean {\n\t\treturn (\n\t\t\tthis._element.classList.contains('open') &&\n\t\t\tthis._menuElement.classList.contains('open')\n\t\t);\n\t}\n\n\tprotected _getPopperConfig(): object {\n\t\tconst isRtl = KTDom.isRTL();\n\t\tlet placement = this._getOption('placement') as Placement;\n\t\tif (isRtl && this._getOption('placementRtl')) {\n\t\t\tplacement = this._getOption('placementRtl') as Placement;\n\t\t}\n\n\t\tlet offsetValue = this._getOption('offset');\n\t\tif (isRtl && this._getOption('offsetRtl')) {\n\t\t\toffsetValue = this._getOption('offsetRtl') as Placement;\n\t\t}\n\t\tconst offset = offsetValue\n\t\t\t? offsetValue\n\t\t\t\t\t.toString()\n\t\t\t\t\t.split(',')\n\t\t\t\t\t.map((value) => parseInt(value.trim(), 10))\n\t\t\t: [0, 0];\n\n\t\tconst strategy =\n\t\t\tthis._getOption('overflow') === true ? 'absolute' : 'fixed';\n\t\tconst altAxis = this._getOption('flip') !== false;\n\t\treturn {\n\t\t\tplacement: placement,\n\t\t\tstrategy: strategy,\n\t\t\tmodifiers: [\n\t\t\t\t{\n\t\t\t\t\tname: 'offset',\n\t\t\t\t\toptions: { offset: offset },\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: 'preventOverflow',\n\t\t\t\t\toptions: { altAxis: altAxis },\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: 'flip',\n\t\t\t\t\toptions: { flipVariations: false },\n\t\t\t\t},\n\t\t\t],\n\t\t};\n\t}\n\n\tprotected _getToggleElement(): HTMLElement {\n\t\treturn this._toggleElement;\n\t}\n\n\tprotected _getContentElement(): HTMLElement {\n\t\treturn this._menuElement;\n\t}\n\n\t// General Methods\n\tpublic click(event: Event): void {\n\t\tthis._click(event);\n\t}\n\n\tpublic mouseover(event: MouseEvent): void {\n\t\tthis._mouseover(event);\n\t}\n\n\tpublic mouseout(event: MouseEvent): void {\n\t\tthis._mouseout(event);\n\t}\n\n\tpublic show(): void {\n\t\tthis._show();\n\t}\n\n\tpublic hide(): void {\n\t\tthis._hide();\n\t}\n\n\tpublic toggle(): void {\n\t\tthis._toggle();\n\t}\n\n\tpublic getToggleElement(): HTMLElement {\n\t\treturn this._toggleElement;\n\t}\n\n\tpublic getContentElement(): HTMLElement {\n\t\treturn this._menuElement;\n\t}\n\n\tpublic isPermanent(): boolean {\n\t\treturn this._getOption('permanent') as boolean;\n\t}\n\n\tpublic disable(): void {\n\t\tthis._disabled = true;\n\t}\n\n\tpublic enable(): void {\n\t\tthis._disabled = false;\n\t}\n\n\tpublic isOpen(): boolean {\n\t\treturn this._isDropdownOpen();\n\t}\n\n\t// Static Methods\n\tpublic static getElement(reference: HTMLElement): HTMLElement {\n\t\tif (reference.hasAttribute('data-kt-dropdown-initialized'))\n\t\t\treturn reference;\n\n\t\tconst findElement = reference.closest(\n\t\t\t'[data-kt-dropdown-initialized]'\n\t\t) as HTMLElement;\n\t\tif (findElement) return findElement;\n\n\t\tif (\n\t\t\treference.hasAttribute('data-kt-dropdown-menu') &&\n\t\t\tKTData.has(reference, 'dropdownElement')\n\t\t) {\n\t\t\treturn KTData.get(reference, 'dropdownElement') as HTMLElement;\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tpublic static getInstance(element: HTMLElement): KTDropdown {\n\t\telement = this.getElement(element);\n\n\t\tif (!element) return null;\n\n\t\tif (KTData.has(element, 'dropdown')) {\n\t\t\treturn KTData.get(element, 'dropdown') as KTDropdown;\n\t\t}\n\n\t\tif (element.getAttribute('data-kt-dropdown-initialized') === 'true') {\n\t\t\treturn new KTDropdown(element);\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tpublic static getOrCreateInstance(\n\t\telement: HTMLElement,\n\t\tconfig?: KTDropdownConfigInterface\n\t): KTDropdown {\n\t\treturn this.getInstance(element) || new KTDropdown(element, config);\n\t}\n\n\tpublic static update(): void {\n\t\tdocument\n\t\t\t.querySelectorAll('.open[data-kt-dropdown-initialized]')\n\t\t\t.forEach((item) => {\n\t\t\t\tif (KTData.has(item as HTMLElement, 'popper')) {\n\t\t\t\t\t(\n\t\t\t\t\t\tKTData.get(item as HTMLElement, 'popper') as PopperInstance\n\t\t\t\t\t).forceUpdate();\n\t\t\t\t}\n\t\t\t});\n\t}\n\n\tpublic static hide(skipElement?: HTMLElement): void {\n\t\tdocument\n\t\t\t.querySelectorAll(\n\t\t\t\t'.open[data-kt-dropdown-initialized]:not([data-kt-dropdown-permanent=\"true\"])'\n\t\t\t)\n\t\t\t.forEach((item) => {\n\t\t\t\tif (skipElement && (skipElement === item || item.contains(skipElement)))\n\t\t\t\t\treturn;\n\n\t\t\t\tconst dropdown = KTDropdown.getInstance(item as HTMLElement);\n\t\t\t\tif (dropdown) dropdown.hide();\n\t\t\t});\n\t}\n\n\tpublic static handleClickAway(): void {\n\t\tdocument.addEventListener('click', (event: Event) => {\n\t\t\tdocument\n\t\t\t\t.querySelectorAll(\n\t\t\t\t\t'.open[data-kt-dropdown-initialized]:not([data-kt-dropdown-permanent=\"true\"])'\n\t\t\t\t)\n\t\t\t\t.forEach((element) => {\n\t\t\t\t\tconst dropdown = KTDropdown.getInstance(element as HTMLElement);\n\t\t\t\t\tif (!dropdown) return;\n\n\t\t\t\t\tconst contentElement = dropdown.getContentElement();\n\t\t\t\t\tconst toggleElement = dropdown.getToggleElement();\n\n\t\t\t\t\tif (\n\t\t\t\t\t\ttoggleElement === event.target ||\n\t\t\t\t\t\ttoggleElement.contains(event.target as HTMLElement) ||\n\t\t\t\t\t\tcontentElement === event.target ||\n\t\t\t\t\t\tcontentElement.contains(event.target as HTMLElement)\n\t\t\t\t\t) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tdropdown.hide();\n\t\t\t\t});\n\t\t});\n\t}\n\n\tpublic static handleKeyboard(): void {\n\t\tdocument.addEventListener('keydown', (event: KeyboardEvent) => {\n\t\t\tconst dropdownEl = document.querySelector(\n\t\t\t\t'.open[data-kt-dropdown-initialized]'\n\t\t\t);\n\t\t\tconst dropdown = KTDropdown.getInstance(dropdownEl as HTMLElement);\n\t\t\tif (!dropdown || !dropdown._getOption('keyboard')) return;\n\n\t\t\tif (\n\t\t\t\tevent.key === 'Escape' &&\n\t\t\t\t!(event.ctrlKey || event.altKey || event.shiftKey)\n\t\t\t) {\n\t\t\t\tdropdown.hide();\n\t\t\t}\n\t\t});\n\t}\n\n\tpublic static handleMouseover(): void {\n\t\tKTEventHandler.on(\n\t\t\tdocument.body,\n\t\t\t'[data-kt-dropdown-toggle], [data-kt-dropdown-menu]',\n\t\t\t'mouseover',\n\t\t\t(event: Event, target: HTMLElement) => {\n\t\t\t\tconst dropdown = KTDropdown.getInstance(target);\n\t\t\t\tif (dropdown && dropdown._getOption('trigger') === 'hover') {\n\t\t\t\t\tdropdown.mouseover(event as MouseEvent);\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\t}\n\n\tpublic static handleMouseout(): void {\n\t\tKTEventHandler.on(\n\t\t\tdocument.body,\n\t\t\t'[data-kt-dropdown-toggle], [data-kt-dropdown-menu]',\n\t\t\t'mouseout',\n\t\t\t(event: Event, target: HTMLElement) => {\n\t\t\t\tconst dropdown = KTDropdown.getInstance(target);\n\t\t\t\tif (dropdown && dropdown._getOption('trigger') === 'hover') {\n\t\t\t\t\tdropdown.mouseout(event as MouseEvent);\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\t}\n\n\tpublic static handleClick(): void {\n\t\tKTEventHandler.on(\n\t\t\tdocument.body,\n\t\t\t'[data-kt-dropdown-toggle]',\n\t\t\t'click',\n\t\t\t(event: Event, target: HTMLElement) => {\n\t\t\t\tconst dropdown = KTDropdown.getInstance(target);\n\t\t\t\tif (dropdown) {\n\t\t\t\t\tdropdown.click(event);\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\t}\n\n\tpublic static handleDismiss(): void {\n\t\tKTEventHandler.on(\n\t\t\tdocument.body,\n\t\t\t'[data-kt-dropdown-dismiss]',\n\t\t\t'click',\n\t\t\t(event: Event, target: HTMLElement) => {\n\t\t\t\tconst dropdown = KTDropdown.getInstance(target);\n\t\t\t\tif (dropdown) {\n\t\t\t\t\tdropdown.hide();\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\t}\n\n\tpublic static initHandlers(): void {\n\t\tthis.handleClickAway();\n\t\tthis.handleKeyboard();\n\t\tthis.handleMouseover();\n\t\tthis.handleMouseout();\n\t\tthis.handleClick();\n\t\tthis.handleDismiss();\n\t}\n\n\tpublic static createInstances(): void {\n\t\tconst elements = document.querySelectorAll('[data-kt-dropdown]');\n\t\telements.forEach((element) => {\n\t\t\tnew KTDropdown(element as HTMLElement);\n\t\t});\n\t}\n\n\tpublic static init(): void {\n\t\tKTDropdown.createInstances();\n\n\t\tif (window.KT_DROPDOWN_INITIALIZED !== true) {\n\t\t\tKTDropdown.initHandlers();\n\t\t\twindow.KT_DROPDOWN_INITIALIZED = true;\n\t\t}\n\t}\n}\n\nif (typeof window !== 'undefined') {\n\twindow.KTDropdown = KTDropdown;\n}\n","export { KTDropdown } from './dropdown';\nexport type { KTDropdownConfigInterface, KTDropdownInterface } from './types';\n","/* eslint-disable max-len */\n/* eslint-disable require-jsdoc */\n\nimport KTData from '../../helpers/data';\nimport KTEventHandler from '../../helpers/event-handler';\nimport KTComponent from '../component';\nimport { KTImageInputInterface, KTImageInputConfigInterface } from './types';\n\nexport class KTImageInput extends KTComponent implements KTImageInputInterface {\n\tprotected override _name: string = 'image-input';\n\tprotected override _defaultConfig: KTImageInputConfigInterface = {\n\t\thiddenClass: 'hidden',\n\t};\n\tprotected _inputElement: HTMLInputElement;\n\tprotected _hiddenElement: HTMLInputElement;\n\tprotected _removeElement: HTMLElement;\n\tprotected _previewElement: HTMLElement;\n\tprotected _previewUrl: string = '';\n\tprotected _lastMode: string;\n\n\tconstructor(\n\t\telement: HTMLElement,\n\t\tconfig: KTImageInputConfigInterface = null\n\t) {\n\t\tsuper();\n\n\t\tif (KTData.has(element as HTMLElement, this._name)) return;\n\n\t\tthis._init(element);\n\t\tthis._buildConfig(config);\n\n\t\tthis._inputElement = this._element.querySelector('input[type=\"file\"]');\n\t\tthis._hiddenElement = this._element.querySelector('input[type=\"hidden\"]');\n\t\tthis._removeElement = this._element.querySelector(\n\t\t\t'[data-kt-image-input-remove]'\n\t\t);\n\t\tthis._previewElement = this._element.querySelector(\n\t\t\t'[data-kt-image-input-preview]'\n\t\t);\n\n\t\tthis._update();\n\t\tthis._handlers();\n\t}\n\n\tprotected _handlers(): void {\n\t\tKTEventHandler.on(\n\t\t\tthis._element,\n\t\t\t'[data-kt-image-input-placeholder]',\n\t\t\t'click',\n\t\t\t(event: Event) => {\n\t\t\t\tevent.preventDefault();\n\n\t\t\t\tthis._inputElement.click();\n\t\t\t}\n\t\t);\n\n\t\tthis._inputElement.addEventListener('change', () => {\n\t\t\tthis._change();\n\t\t});\n\n\t\tthis._removeElement.addEventListener('click', () => {\n\t\t\tthis._remove();\n\t\t});\n\t}\n\n\tprotected _change(): void {\n\t\tconst payload = { cancel: false };\n\t\tthis._fireEvent('change', payload);\n\t\tthis._dispatchEvent('change', payload);\n\t\tif (payload.cancel === true) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst reader = new FileReader();\n\n\t\treader.onload = () => {\n\t\t\tthis._previewElement.style.backgroundImage = `url(${reader.result})`;\n\t\t};\n\n\t\treader.readAsDataURL(this._inputElement.files[0]);\n\t\tthis._inputElement.value = '';\n\t\tthis._hiddenElement.value = '';\n\t\tthis._lastMode = 'new';\n\n\t\tthis._element.classList.add('changed');\n\t\tthis._removeElement.classList.remove('hidden');\n\t\tthis._element.classList.remove('empty');\n\n\t\tthis._fireEvent('changed');\n\t\tthis._dispatchEvent('changed');\n\t}\n\n\tprotected _remove(): void {\n\t\tconst payload = { cancel: false };\n\t\tthis._fireEvent('remove', payload);\n\t\tthis._dispatchEvent('remove', payload);\n\t\tif (payload.cancel === true) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._element.classList.remove('empty');\n\t\tthis._element.classList.remove('changed');\n\n\t\tif (this._lastMode == 'new') {\n\t\t\tif (this._previewUrl == '')\n\t\t\t\tthis._removeElement.classList.add(\n\t\t\t\t\tthis._getOption('hiddenClass') as string\n\t\t\t\t);\n\n\t\t\tif (this._previewUrl) {\n\t\t\t\tthis._previewElement.style.backgroundImage = `url(${this._previewUrl})`;\n\t\t\t} else {\n\t\t\t\tthis._previewElement.style.backgroundImage = 'none';\n\t\t\t\tthis._element.classList.add('empty');\n\t\t\t}\n\n\t\t\tthis._inputElement.value = '';\n\t\t\tthis._hiddenElement.value = '';\n\n\t\t\tthis._lastMode = 'saved';\n\t\t} else if (this._lastMode == 'saved') {\n\t\t\tif (this._previewUrl == '')\n\t\t\t\tthis._removeElement.classList.add(\n\t\t\t\t\tthis._getOption('hiddenClass') as string\n\t\t\t\t);\n\n\t\t\tthis._previewElement.style.backgroundImage = 'none';\n\t\t\tthis._element.classList.add('empty');\n\n\t\t\tthis._hiddenElement.value = '1';\n\t\t\tthis._inputElement.value = '';\n\n\t\t\tthis._lastMode = 'placeholder';\n\t\t} else if (this._lastMode == 'placeholder') {\n\t\t\tif (this._previewUrl == '')\n\t\t\t\tthis._removeElement.classList.add(\n\t\t\t\t\tthis._getOption('hiddenClass') as string\n\t\t\t\t);\n\n\t\t\tif (this._previewUrl) {\n\t\t\t\tthis._previewElement.style.backgroundImage = `url(${this._previewUrl})`;\n\t\t\t} else {\n\t\t\t\tthis._element.classList.add('empty');\n\t\t\t}\n\n\t\t\tthis._inputElement.value = '';\n\t\t\tthis._hiddenElement.value = '';\n\n\t\t\tthis._lastMode = 'saved';\n\t\t}\n\n\t\tthis._fireEvent('remove');\n\t\tthis._dispatchEvent('remove');\n\t}\n\n\tprotected _update() {\n\t\tif (this._previewElement.style.backgroundImage) {\n\t\t\tthis._setPreviewUrl(this._previewElement.style.backgroundImage);\n\t\t\tthis._removeElement.classList.remove(\n\t\t\t\tthis._getOption('hiddenClass') as string\n\t\t\t);\n\t\t\tthis._lastMode = 'saved';\n\t\t} else {\n\t\t\tthis._removeElement.classList.add(\n\t\t\t\tthis._getOption('hiddenClass') as string\n\t\t\t);\n\t\t\tthis._element.classList.add('empty');\n\t\t\tthis._lastMode = 'placeholder';\n\t\t}\n\t}\n\n\tprotected _getPreviewUrl(): string {\n\t\treturn this._previewUrl;\n\t}\n\n\tprotected _setPreviewUrl(url: string): void {\n\t\tthis._previewUrl = url.replace(/(url\\(|\\)|\")/g, '');\n\t}\n\n\tpublic isEmpty(): boolean {\n\t\treturn this._inputElement.value.length === 0;\n\t}\n\n\tpublic isChanged(): boolean {\n\t\treturn this._inputElement.value.length > 0;\n\t}\n\n\tpublic remove(): void {\n\t\tthis._remove();\n\t}\n\n\tpublic update(): void {\n\t\tthis._update();\n\t}\n\n\tpublic setPreviewUrl(url: string): void {\n\t\tthis._setPreviewUrl(url);\n\t}\n\n\tpublic getPreviewUrl(): string {\n\t\treturn this._getPreviewUrl();\n\t}\n\n\tpublic static getInstance(element: HTMLElement): KTImageInput {\n\t\tif (!element) return null;\n\n\t\tif (KTData.has(element, 'image-input')) {\n\t\t\treturn KTData.get(element, 'image-input') as KTImageInput;\n\t\t}\n\n\t\tif (element.getAttribute('data-kt-image-input')) {\n\t\t\treturn new KTImageInput(element);\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tpublic static getOrCreateInstance(\n\t\telement: HTMLElement,\n\t\tconfig?: KTImageInputConfigInterface\n\t): KTImageInput {\n\t\treturn this.getInstance(element) || new KTImageInput(element, config);\n\t}\n\n\tpublic static createInstances(): void {\n\t\tconst elements = document.querySelectorAll('[data-kt-image-input]');\n\n\t\telements.forEach((element) => {\n\t\t\tnew KTImageInput(element as HTMLElement);\n\t\t});\n\t}\n\n\tpublic static init(): void {\n\t\tKTImageInput.createInstances();\n\t}\n}\n\nif (typeof window !== 'undefined') {\n\twindow.KTImageInput = KTImageInput;\n}\n","export { KTImageInput } from './image-input';\nexport type { KTImageInputConfigInterface, KTImageInputInterface } from './types';\n","export { KTMenu } from './menu';\nexport type { KTMenuConfigInterface, KTMenuInterface } from './types';\n","import {\n\tInstance as PopperInstance,\n\tcreatePopper,\n\tPlacement,\n\tVirtualElement,\n} from '@popperjs/core';\nimport KTDom from '../../helpers/dom';\nimport KTUtils from '../../helpers/utils';\nimport KTData from '../../helpers/data';\nimport KTEventHandler from '../../helpers/event-handler';\nimport KTComponent from '../component';\nimport { KTMenuConfigInterface, KTMenuInterface } from './types';\nimport { KTMenuItemToggleType, KTMenuItemTriggerType } from './types';\nimport { KTOptionType } from '../../types';\nimport { KT_ACCESSIBILITY_KEYS } from '../constants';\nimport { KTDropdown } from '../dropdown';\ndeclare global {\n\tinterface Window {\n\t\tKT_MENU_INITIALIZED: boolean;\n\t}\n}\n\nexport class KTMenu extends KTComponent implements KTMenuInterface {\n\tprotected override _name: string = 'menu';\n\tprotected override _defaultConfig: KTMenuConfigInterface = {\n\t\tdropdownZindex: '105',\n\t\tdropdownHoverTimeout: 200,\n\t\tdropdownPlacement: 'bottom',\n\t\tdropdownOffset: '0, 5px',\n\t\taccordionExpandAll: false,\n\t};\n\tprotected override _config: KTMenuConfigInterface = this._defaultConfig;\n\tprotected _disabled: boolean = false;\n\n\tconstructor(element: HTMLElement, config?: KTMenuConfigInterface) {\n\t\tsuper();\n\n\t\tif (KTData.has(element as HTMLElement, this._name)) return;\n\n\t\tthis._init(element);\n\t\tthis._buildConfig(config);\n\t\tthis._update();\n\t}\n\n\tprotected _click(element: HTMLElement, event: Event): void {\n\t\tif (element.hasAttribute('href') && element.getAttribute('href') !== '#') {\n\t\t\treturn;\n\t\t}\n\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\n\t\tif (this._disabled === true) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst itemElement = this._getItemElement(element);\n\t\tif (!itemElement) return;\n\n\t\tif (this._getItemOption(itemElement, 'trigger') !== 'click') {\n\t\t\treturn;\n\t\t}\n\n\t\tif (this._getItemOption(itemElement, 'toggle') === false) {\n\t\t\tthis._show(itemElement);\n\t\t} else {\n\t\t\tthis._toggle(itemElement);\n\t\t}\n\t}\n\n\tprotected _link(element: HTMLElement, event: Event): void {\n\t\tif (this._disabled === true) {\n\t\t\treturn;\n\t\t}\n\n\t\tlet payload: {\n\t\t\tcancel?: boolean;\n\t\t\telement: HTMLElement;\n\t\t\tevent: Event;\n\t\t} = {\n\t\t\tcancel: false,\n\t\t\telement,\n\t\t\tevent,\n\t\t};\n\t\tthis._fireEvent('link.click', payload);\n\t\tthis._dispatchEvent('link.click', payload);\n\t\tif (payload.cancel === true) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst itemElement = this._getItemElement(element);\n\t\tif (this._isItemDropdownPermanent(itemElement) === false) {\n\t\t\tKTMenu.hide();\n\t\t}\n\n\t\tpayload = {\n\t\t\telement,\n\t\t\tevent,\n\t\t};\n\t\tthis._fireEvent('link.clicked', payload);\n\t\tthis._dispatchEvent('link.clicked', payload);\n\t}\n\n\tprotected _dismiss(element: HTMLElement): void {\n\t\tconst itemElement = this._getItemElement(element);\n\t\tif (!itemElement) return;\n\t\tconst itemElements = this._getItemChildElements(itemElement);\n\n\t\tif (\n\t\t\titemElement !== null &&\n\t\t\tthis._getItemToggleMode(itemElement) === 'dropdown'\n\t\t) {\n\t\t\t// hide items dropdown\n\t\t\tthis._hide(itemElement);\n\n\t\t\t// Hide all child elements as well\n\t\t\titemElements.forEach((each) => {\n\t\t\t\tif (this._getItemToggleMode(each as HTMLElement) === 'dropdown') {\n\t\t\t\t\tthis._hide(each);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\tprotected _mouseover(element: HTMLElement): void {\n\t\tconst itemElement = this._getItemElement(element);\n\t\tif (!itemElement) return;\n\n\t\tif (this._disabled === true) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (itemElement === null) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (this._getItemOption(itemElement, 'trigger') !== 'hover') {\n\t\t\treturn;\n\t\t}\n\n\t\tif (KTData.get(itemElement, 'hover') === '1') {\n\t\t\tclearTimeout(KTData.get(itemElement, 'timeout') as number);\n\t\t\tKTData.remove(itemElement, 'hover');\n\t\t\tKTData.remove(itemElement, 'timeout');\n\t\t}\n\n\t\tthis._show(itemElement);\n\t}\n\n\tprotected _mouseout(element: HTMLElement): void {\n\t\tconst itemElement = this._getItemElement(element);\n\t\tif (!itemElement) return;\n\n\t\tif (this._disabled === true) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (this._getItemOption(itemElement, 'trigger') !== 'hover') {\n\t\t\treturn;\n\t\t}\n\n\t\tconst timeout = setTimeout(() => {\n\t\t\tif (KTData.get(itemElement, 'hover') === '1') {\n\t\t\t\tthis._hide(itemElement);\n\t\t\t}\n\t\t}, parseInt(this._getOption('dropdownHoverTimeout') as string));\n\n\t\tKTData.set(itemElement, 'hover', '1');\n\t\tKTData.set(itemElement, 'timeout', timeout);\n\t}\n\n\tprotected _toggle(itemElement: HTMLElement): void {\n\t\tif (this._isItemSubShown(itemElement) === true) {\n\t\t\tthis._hide(itemElement);\n\t\t} else {\n\t\t\tthis._show(itemElement);\n\t\t}\n\t}\n\n\tprotected _show(itemElement: HTMLElement): void {\n\t\tif (this._isItemSubShown(itemElement) === true) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (this._getItemToggleMode(itemElement) === 'dropdown') {\n\t\t\tthis._showDropdown(itemElement);\n\t\t} else if (this._getItemToggleMode(itemElement) === 'accordion') {\n\t\t\tthis._showAccordion(itemElement);\n\t\t}\n\n\t\t// Remember last submenu type\n\t\tKTData.set(itemElement, 'toggle', this._getItemToggleMode(itemElement));\n\t}\n\n\tprotected _hide(itemElement: HTMLElement): void {\n\t\tif (this._isItemSubShown(itemElement) === false) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (this._getItemToggleMode(itemElement) === 'dropdown') {\n\t\t\tthis._hideDropdown(itemElement);\n\t\t} else if (this._getItemToggleMode(itemElement) === 'accordion') {\n\t\t\tthis._hideAccordion(itemElement);\n\t\t}\n\t}\n\n\tprotected _reset(itemElement: HTMLElement): void {\n\t\tif (this._hasItemSub(itemElement) === false) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst subElement = this._getItemSubElement(itemElement);\n\n\t\t// Reset sub state if sub type is changed during the window resize\n\t\tif (\n\t\t\tKTData.has(itemElement, 'toggle') &&\n\t\t\tKTData.get(itemElement, 'toggle') !== this._getItemToggleMode(itemElement)\n\t\t) {\n\t\t\titemElement.classList.remove('show');\n\t\t\tsubElement?.classList.remove('show');\n\t\t}\n\t}\n\n\tprotected _update(): void {\n\t\tif (!this._element) return;\n\t\tconst itemElements = this._element.querySelectorAll(\n\t\t\t'[data-kt-menu-item-trigger]'\n\t\t);\n\n\t\titemElements.forEach((itemElement) => {\n\t\t\tthis._updateItemSubType(itemElement as HTMLElement);\n\t\t\tthis._reset(itemElement as HTMLElement);\n\t\t});\n\t}\n\n\tprotected _updateItemSubType(itemElement: HTMLElement): void {\n\t\tconst subElement = this._getItemSubElement(itemElement as HTMLElement);\n\n\t\tif (subElement) {\n\t\t\tif (this._getItemToggleMode(itemElement as HTMLElement) === 'dropdown') {\n\t\t\t\titemElement.classList.remove('kt-menu-item-accordion');\n\t\t\t\titemElement.classList.add('kt-menu-item-dropdown');\n\n\t\t\t\tsubElement.classList.remove('kt-menu-accordion');\n\t\t\t\tsubElement.classList.add('kt-menu-dropdown');\n\t\t\t} else {\n\t\t\t\titemElement.classList.remove('kt-menu-item-dropdown');\n\t\t\t\titemElement.classList.add('kt-menu-item-accordion');\n\n\t\t\t\tsubElement.classList.remove('kt-menu-dropdown');\n\t\t\t\tsubElement.classList.add('kt-menu-accordion');\n\t\t\t}\n\t\t}\n\t}\n\n\tprotected _isItemSubShown(itemElement: HTMLElement): boolean {\n\t\tconst subElement = this._getItemSubElement(itemElement);\n\n\t\tif (subElement !== null) {\n\t\t\tif (this._getItemToggleMode(itemElement) === 'dropdown') {\n\t\t\t\tif (\n\t\t\t\t\tsubElement.classList.contains('show') === true &&\n\t\t\t\t\tsubElement.hasAttribute('data-popper-placement') === true\n\t\t\t\t) {\n\t\t\t\t\treturn true;\n\t\t\t\t} else {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\treturn itemElement.classList.contains('show');\n\t\t\t}\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tprotected _isItemDropdownPermanent(itemElement: HTMLElement): boolean {\n\t\treturn this._getItemOption(itemElement, 'permanent') as boolean;\n\t}\n\n\tprotected _isItemParentShown(itemElement: HTMLElement): boolean {\n\t\tconst parents = KTDom.parents(itemElement, '.menu-item.show');\n\n\t\treturn parents && parents.length > 0 ? true : false;\n\t}\n\n\tprotected _isItemSubElement(itemElement: HTMLElement): boolean {\n\t\treturn (\n\t\t\titemElement.classList.contains('kt-menu-dropdown') ||\n\t\t\titemElement.classList.contains('kt-menu-accordion')\n\t\t);\n\t}\n\n\tprotected _hasItemSub(itemElement: HTMLElement): boolean {\n\t\treturn (\n\t\t\titemElement.classList.contains('kt-menu-item') &&\n\t\t\titemElement.hasAttribute('data-kt-menu-item-trigger')\n\t\t);\n\t}\n\n\tprotected _getItemLinkElement(itemElement: HTMLElement): HTMLElement {\n\t\treturn KTDom.child(itemElement, '.kt-menu-link, .kt-menu-toggle');\n\t}\n\n\tprotected _getItemSubElement(itemElement: HTMLElement): HTMLElement {\n\t\tif (\n\t\t\titemElement.classList.contains('kt-menu-dropdown') === true ||\n\t\t\titemElement.classList.contains('kt-menu-accordion') === true\n\t\t) {\n\t\t\treturn itemElement;\n\t\t} else if (KTData.has(itemElement, 'sub')) {\n\t\t\treturn KTData.get(itemElement, 'sub') as HTMLElement;\n\t\t} else {\n\t\t\treturn KTDom.child(itemElement, '.kt-menu-dropdown, .kt-menu-accordion');\n\t\t}\n\t}\n\n\tprotected _getItemToggleMode(itemElement: HTMLElement): KTMenuItemToggleType {\n\t\tconst itemEl = this._getItemElement(itemElement);\n\n\t\tif (this._getItemOption(itemEl, 'toggle') === 'dropdown') {\n\t\t\treturn 'dropdown';\n\t\t} else {\n\t\t\treturn 'accordion';\n\t\t}\n\t}\n\n\tprotected _getItemElement(element: HTMLElement): HTMLElement {\n\t\tif (\n\t\t\telement.classList.contains('kt-menu-item') &&\n\t\t\telement.hasAttribute('data-kt-menu-item-toggle')\n\t\t) {\n\t\t\treturn element;\n\t\t}\n\n\t\t// Element has item DOM reference in it's data storage\n\t\tif (KTData.has(element, 'item')) {\n\t\t\treturn KTData.get(element, 'item') as HTMLElement;\n\t\t}\n\n\t\t// Item is parent of element\n\t\tconst itemElement = element.closest(\n\t\t\t'.kt-menu-item[data-kt-menu-item-toggle]'\n\t\t);\n\t\tif (itemElement) {\n\t\t\treturn itemElement as HTMLElement;\n\t\t}\n\n\t\t// Element's parent has item DOM reference in it's data storage\n\t\tconst subElement = element.closest(\n\t\t\t'.kt-menu-dropdown, .kt-menu-accordion'\n\t\t) as HTMLElement;\n\t\tif (subElement) {\n\t\t\tif (KTData.has(subElement, 'item') === true) {\n\t\t\t\treturn KTData.get(subElement, 'item') as HTMLElement;\n\t\t\t}\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tprotected _getItemParentElement(itemElement: HTMLElement): HTMLElement {\n\t\tconst subElement: HTMLElement = itemElement.closest(\n\t\t\t'.kt-menu-dropdown, .kt-menu-accordion'\n\t\t);\n\t\tlet parentItem: HTMLElement;\n\n\t\tif (subElement && KTData.has(subElement, 'item')) {\n\t\t\treturn KTData.get(subElement, 'item') as HTMLElement;\n\t\t}\n\n\t\tif (\n\t\t\tsubElement &&\n\t\t\t(parentItem = subElement.closest(\n\t\t\t\t'.kt-menu-item[data-kt-menu-item-trigger]'\n\t\t\t))\n\t\t) {\n\t\t\treturn parentItem;\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tprotected _getItemParentElements(\n\t\titemElement: HTMLElement\n\t): Array<HTMLElement> {\n\t\tconst parentElements: Array<HTMLElement> = [];\n\t\tlet parentElement: HTMLElement;\n\t\tlet i = 0;\n\n\t\tdo {\n\t\t\tparentElement = this._getItemParentElement(itemElement);\n\n\t\t\tif (parentElement) {\n\t\t\t\tparentElements.push(parentElement);\n\t\t\t\titemElement = parentElement;\n\t\t\t}\n\n\t\t\ti++;\n\t\t} while (parent !== null && i < 20);\n\n\t\treturn parentElements;\n\t}\n\n\tprotected _getItemChildElement(itemElement: HTMLElement): HTMLElement {\n\t\tlet selector: HTMLElement = itemElement;\n\t\tlet element: HTMLElement;\n\n\t\tif (KTData.has(itemElement, 'sub')) {\n\t\t\tselector = KTData.get(itemElement, 'sub') as HTMLElement;\n\t\t}\n\n\t\tif (selector !== null) {\n\t\t\t//element = selector.querySelector('.show.menu-item[data-kt-menu-trigger]');\n\t\t\telement = selector.querySelector(\n\t\t\t\t'.kt-menu-item[data-kt-menu-item-trigger]'\n\t\t\t);\n\n\t\t\tif (element) {\n\t\t\t\treturn element;\n\t\t\t} else {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t} else {\n\t\t\treturn null;\n\t\t}\n\t}\n\n\tprotected _getItemChildElements(\n\t\titemElement: HTMLElement\n\t): Array<HTMLElement> {\n\t\tconst children: Array<HTMLElement> = [];\n\t\tlet child: HTMLElement;\n\t\tlet i = 0;\n\t\tlet buffer = itemElement;\n\t\tdo {\n\t\t\tchild = this._getItemChildElement(buffer);\n\n\t\t\tif (child) {\n\t\t\t\tchildren.push(child);\n\t\t\t\tbuffer = child as HTMLElement;\n\t\t\t}\n\n\t\t\ti++;\n\t\t} while (child !== null && i < 20);\n\n\t\treturn children;\n\t}\n\n\tprotected _showDropdown(itemElement: HTMLElement): void {\n\t\tconst payload = { cancel: false };\n\t\tthis._fireEvent('dropdown.show', payload);\n\t\tthis._dispatchEvent('dropdown.show', payload);\n\t\tif (payload.cancel === true) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Hide all currently shown dropdowns except current one\n\t\tKTMenu.hide(itemElement);\n\t\tKTDropdown.hide(itemElement);\n\n\t\tconst subElement: HTMLElement = this._getItemSubElement(itemElement);\n\t\tif (!subElement) return;\n\n\t\tconst width = this._getItemOption(itemElement, 'width') as string;\n\t\tconst height = this._getItemOption(itemElement, 'height') as string;\n\n\t\t// Set z=index\n\t\tlet zindex: number = parseInt(this._getOption('dropdownZindex') as string);\n\t\tif (parseInt(KTDom.getCssProp(subElement, 'z-index')) > zindex) {\n\t\t\tzindex = parseInt(KTDom.getCssProp(subElement, 'z-index'));\n\t\t}\n\t\tif (KTDom.getHighestZindex(itemElement) > zindex) {\n\t\t\tzindex = KTDom.getHighestZindex(itemElement) + 1;\n\t\t}\n\t\tsubElement.style.zIndex = String(zindex);\n\t\t// end\n\n\t\tif (width) {\n\t\t\tsubElement.style.width = width;\n\t\t}\n\n\t\tif (height) {\n\t\t\tsubElement.style.height = height;\n\t\t}\n\n\t\tsubElement.style.display = '';\n\t\tsubElement.style.overflow = '';\n\n\t\t// Init popper(new)\n\t\tthis._initDropdownPopper(itemElement, subElement);\n\n\t\titemElement.classList.add('show');\n\t\titemElement.classList.add('kt-menu-item-dropdown');\n\t\tsubElement.classList.add('show');\n\n\t\t// Append the sub the the root of the menu\n\t\tif (this._getItemOption(itemElement, 'overflow') === true) {\n\t\t\tdocument.body.appendChild(subElement);\n\t\t\tsubElement.setAttribute('data-kt-menu-sub-overflow', 'true');\n\t\t\tKTData.set(itemElement, 'sub', subElement);\n\t\t\tKTData.set(subElement, 'item', itemElement);\n\t\t\tKTData.set(subElement, 'menu', this);\n\t\t} else {\n\t\t\tKTData.set(subElement, 'item', itemElement);\n\t\t}\n\n\t\t// Handle dropdown shown event\n\t\tthis._fireEvent('dropdown.shown');\n\t\tthis._dispatchEvent('dropdown.shown');\n\t}\n\n\tprotected _hideDropdown(itemElement: HTMLElement): void {\n\t\tconst payload = { cancel: false };\n\t\tthis._fireEvent('dropdown.hide', payload);\n\t\tthis._dispatchEvent('dropdown.hide', payload);\n\t\tif (payload.cancel === true) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst subElement = this._getItemSubElement(itemElement);\n\t\tif (!subElement) return;\n\n\t\tsubElement.style.zIndex = '';\n\t\tsubElement.style.width = '';\n\t\tsubElement.style.height = '';\n\n\t\titemElement.classList.remove('show');\n\t\titemElement.classList.remove('menu-item-dropdown');\n\t\tsubElement.classList.remove('show');\n\n\t\t// Append the sub back to it's parent\n\t\tif (this._getItemOption(itemElement, 'overflow') === true) {\n\t\t\tsubElement.removeAttribute('data-kt-menu-sub-overflow');\n\t\t\tif (itemElement.classList.contains('kt-menu-item')) {\n\t\t\t\titemElement.appendChild(subElement);\n\t\t\t} else {\n\t\t\t\tif (!this._element) return;\n\t\t\t\tKTDom.insertAfter(this._element, itemElement);\n\t\t\t}\n\n\t\t\tKTData.remove(itemElement, 'sub');\n\t\t\tKTData.remove(subElement, 'item');\n\t\t\tKTData.remove(subElement, 'menu');\n\t\t}\n\n\t\t// Destroy popper(new)\n\t\tthis._destroyDropdownPopper(itemElement);\n\n\t\t// Handle dropdown hidden event\n\t\tthis._fireEvent('dropdown.hidden');\n\t\tthis._dispatchEvent('dropdown.hidden');\n\t}\n\n\tprotected _initDropdownPopper(\n\t\titemElement: HTMLElement,\n\t\tsubElement: HTMLElement\n\t): void {\n\t\t// Setup popper instance\n\t\tlet reference: HTMLElement;\n\t\tconst attach: string = this._getItemOption(itemElement, 'attach') as string;\n\n\t\tif (attach) {\n\t\t\tif (attach === 'parent') {\n\t\t\t\treference = itemElement.parentNode as HTMLElement;\n\t\t\t} else {\n\t\t\t\treference = document.querySelector(attach) as HTMLElement;\n\t\t\t}\n\t\t} else {\n\t\t\treference = itemElement;\n\t\t}\n\n\t\tif (reference) {\n\t\t\tconst popper = createPopper(\n\t\t\t\treference as Element | VirtualElement,\n\t\t\t\tsubElement,\n\t\t\t\tthis._getDropdownPopperConfig(itemElement)\n\t\t\t);\n\t\t\tKTData.set(itemElement, 'popper', popper);\n\t\t}\n\t}\n\n\tprotected _destroyDropdownPopper(itemElement: HTMLElement): void {\n\t\tif (KTData.has(itemElement, 'popper')) {\n\t\t\t(KTData.get(itemElement, 'popper') as PopperInstance).destroy();\n\t\t\tKTData.remove(itemElement, 'popper');\n\t\t}\n\t}\n\n\tprotected _getDropdownPopperConfig(itemElement: HTMLElement): object {\n\t\tconst isRtl = KTDom.isRTL();\n\n\t\t// Placement\n\t\tlet placement = this._getOption('dropdownPlacement') as Placement;\n\t\tif (this._getItemOption(itemElement, 'placement')) {\n\t\t\tplacement = this._getItemOption(itemElement, 'placement') as Placement;\n\t\t}\n\t\tif (isRtl && this._getItemOption(itemElement, 'placementRtl')) {\n\t\t\tplacement = this._getItemOption(itemElement, 'placementRtl') as Placement;\n\t\t}\n\n\t\t// Offset\n\t\tlet offsetValue = this._getOption('dropdownOffset');\n\t\tif (this._getItemOption(itemElement, 'offset')) {\n\t\t\toffsetValue = this._getItemOption(itemElement, 'offset') as Placement;\n\t\t}\n\t\tif (isRtl && this._getItemOption(itemElement, 'offsetRtl')) {\n\t\t\toffsetValue = this._getItemOption(itemElement, 'offsetRtl') as Placement;\n\t\t}\n\t\tconst offset = offsetValue\n\t\t\t? offsetValue\n\t\t\t\t\t.toString()\n\t\t\t\t\t.split(',')\n\t\t\t\t\t.map((value) => parseInt(value.trim(), 10))\n\t\t\t: [0, 0];\n\n\t\t// Strategy\n\t\tconst strategy =\n\t\t\tthis._getItemOption(itemElement, 'overflow') === true\n\t\t\t\t? 'absolute'\n\t\t\t\t: 'fixed';\n\t\tconst altAxis =\n\t\t\tthis._getItemOption(itemElement, 'flip') !== false ? true : false;\n\t\tconst popperConfig = {\n\t\t\tplacement: placement,\n\t\t\tstrategy: strategy,\n\t\t\tmodifiers: [\n\t\t\t\t{\n\t\t\t\t\tname: 'offset',\n\t\t\t\t\toptions: {\n\t\t\t\t\t\toffset: offset,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: 'preventOverflow',\n\t\t\t\t\toptions: {\n\t\t\t\t\t\taltAxis: altAxis,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: 'flip',\n\t\t\t\t\toptions: {\n\t\t\t\t\t\tflipVariations: false,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t],\n\t\t};\n\n\t\treturn popperConfig;\n\t}\n\n\tprotected _showAccordion(itemElement: HTMLElement): void {\n\t\tconst payload = { cancel: false };\n\t\tthis._fireEvent('accordion.show', payload);\n\t\tthis._dispatchEvent('accordion.show', payload);\n\t\tif (payload.cancel === true) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst subElement = this._getItemSubElement(itemElement);\n\t\tif (!subElement) return;\n\t\tlet expandAll = this._getOption('accordionExpandAll') as boolean;\n\n\t\tif (this._getItemOption(itemElement, 'expandAll') === true) {\n\t\t\texpandAll = true;\n\t\t} else if (this._getItemOption(itemElement, 'expandAll') === false) {\n\t\t\texpandAll = false;\n\t\t} else if (\n\t\t\tthis._element &&\n\t\t\tthis._getItemOption(this._element, 'expandAll') === true\n\t\t) {\n\t\t\texpandAll = true;\n\t\t}\n\n\t\tif (expandAll === false) {\n\t\t\tthis._hideAccordions(itemElement);\n\t\t}\n\n\t\tif (KTData.has(itemElement, 'popper') === true) {\n\t\t\tthis._hideDropdown(itemElement);\n\t\t}\n\n\t\titemElement.classList.add('transitioning');\n\n\t\tsubElement.style.height = '0px';\n\t\tKTDom.reflow(subElement);\n\t\tsubElement.style.display = 'flex';\n\t\tsubElement.style.overflow = 'hidden';\n\t\tsubElement.style.height = `${subElement.scrollHeight}px`;\n\t\titemElement.classList.add('show');\n\n\t\tKTDom.transitionEnd(subElement, () => {\n\t\t\titemElement.classList.remove('transitioning');\n\t\t\tsubElement.classList.add('show');\n\t\t\tsubElement.style.height = '';\n\t\t\tsubElement.style.display = '';\n\t\t\tsubElement.style.overflow = '';\n\n\t\t\t// Handle accordion hidden event\n\t\t\tthis._fireEvent('accordion.shown', payload);\n\t\t\tthis._dispatchEvent('accordion.shown', payload);\n\t\t});\n\t}\n\n\tprotected _hideAccordion(itemElement: HTMLElement): void {\n\t\tconst payload = { cancel: false };\n\t\tthis._fireEvent('accordion.hide', payload);\n\t\tthis._dispatchEvent('accordion.hide', payload);\n\t\tif (payload.cancel === true) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst subElement = this._getItemSubElement(itemElement);\n\t\tif (!subElement) return;\n\n\t\titemElement.classList.add('transitioning');\n\t\titemElement.classList.remove('show');\n\t\tsubElement.style.height = `${subElement.scrollHeight}px`;\n\t\tKTDom.reflow(subElement);\n\t\tsubElement.style.height = '0px';\n\t\tsubElement.style.overflow = 'hidden';\n\n\t\tKTDom.transitionEnd(subElement, () => {\n\t\t\tsubElement.style.overflow = '';\n\t\t\titemElement.classList.remove('transitioning');\n\t\t\tsubElement.classList.remove('show');\n\n\t\t\t// Handle accordion hidden event\n\t\t\tthis._fireEvent('accordion.hidden');\n\t\t\tthis._dispatchEvent('accordion.hidden');\n\t\t});\n\t}\n\n\tprotected _setActiveLink(linkElement: HTMLElement): void {\n\t\tconst itemElement = this._getItemElement(linkElement);\n\t\tif (!itemElement) return;\n\n\t\tif (!this._element) return;\n\t\tconst parentItems = this._getItemParentElements(itemElement);\n\t\tconst activeLinks = this._element.querySelectorAll('.kt-menu-link.active');\n\t\tconst activeParentItems = this._element.querySelectorAll(\n\t\t\t'.kt-menu-item.here, .kt-menu-item.show'\n\t\t);\n\n\t\tif (this._getItemToggleMode(itemElement) === 'accordion') {\n\t\t\tthis._showAccordion(itemElement);\n\t\t} else {\n\t\t\titemElement.classList.add('here');\n\t\t}\n\n\t\tparentItems?.forEach((parentItem) => {\n\t\t\tif (this._getItemToggleMode(parentItem) === 'accordion') {\n\t\t\t\tthis._showAccordion(parentItem);\n\t\t\t} else {\n\t\t\t\tparentItem.classList.add('here');\n\t\t\t}\n\t\t});\n\n\t\tactiveLinks?.forEach((activeLink) => {\n\t\t\tactiveLink.classList.remove('active');\n\t\t});\n\n\t\tactiveParentItems?.forEach((activeParentItem) => {\n\t\t\tif (activeParentItem.contains(itemElement) === false) {\n\t\t\t\tactiveParentItem.classList.remove('here');\n\t\t\t\tactiveParentItem.classList.remove('show');\n\t\t\t}\n\t\t});\n\n\t\tlinkElement.classList.add('active');\n\t}\n\n\tprotected _getLinkByAttribute(\n\t\tvalue: string,\n\t\tname: string = 'href'\n\t): HTMLElement {\n\t\tif (!this._element) return null;\n\t\tconst linkElement = this._element.querySelector(\n\t\t\t`.kt-menu-link[${name}=\"${value}\"]`\n\t\t) as HTMLElement;\n\n\t\treturn linkElement && null;\n\t}\n\n\tprotected _hideAccordions(itemElement: HTMLElement): void {\n\t\tif (!this._element) return;\n\t\tconst itemsToHide = this._element.querySelectorAll(\n\t\t\t'.show[data-kt-menu-item-trigger]'\n\t\t);\n\n\t\titemsToHide.forEach((itemToHide) => {\n\t\t\tif (\n\t\t\t\tthis._getItemToggleMode(itemToHide as HTMLElement) === 'accordion' &&\n\t\t\t\t(itemToHide as HTMLElement) !== itemElement &&\n\t\t\t\titemElement?.contains(itemToHide as HTMLElement) === false &&\n\t\t\t\titemToHide.contains(itemElement) === false\n\t\t\t) {\n\t\t\t\tthis._hideAccordion(itemToHide as HTMLElement);\n\t\t\t}\n\t\t});\n\t}\n\n\tprotected _getItemOption(element: HTMLElement, name: string): KTOptionType {\n\t\tname = KTUtils.camelReverseCase(name);\n\n\t\tif (element && element.hasAttribute(`data-kt-menu-item-${name}`)) {\n\t\t\treturn (\n\t\t\t\tKTDom.getCssProp(element, `--kt-menu-item-${name}`) ||\n\t\t\t\telement.getAttribute(`data-kt-menu-item-${name}`)\n\t\t\t);\n\t\t}\n\n\t\treturn null;\n\t}\n\n\t// General Methods\n\tpublic getItemTriggerMode(itemElement: HTMLElement): KTMenuItemTriggerType {\n\t\treturn this._getItemOption(itemElement, 'trigger') as KTMenuItemTriggerType;\n\t}\n\n\tpublic getItemToggleMode(element: HTMLElement): KTMenuItemToggleType {\n\t\treturn this._getItemToggleMode(element) as KTMenuItemToggleType;\n\t}\n\n\tpublic click(element: HTMLElement, event: Event): void {\n\t\tthis._click(element, event);\n\t}\n\n\tpublic link(element: HTMLElement, event: Event): void {\n\t\tthis._link(element, event);\n\t}\n\n\tpublic dismiss(element: HTMLElement): void {\n\t\tthis._dismiss(element);\n\t}\n\n\tpublic mouseover(element: HTMLElement): void {\n\t\tthis._mouseover(element);\n\t}\n\n\tpublic mouseout(element: HTMLElement): void {\n\t\tthis._mouseout(element);\n\t}\n\n\tpublic show(itemElement: HTMLElement): void {\n\t\treturn this._show(itemElement);\n\t}\n\n\tpublic hide(itemElement: HTMLElement): void {\n\t\tthis._hide(itemElement);\n\t}\n\n\tpublic toggle(itemElement: HTMLElement): void {\n\t\tthis._toggle(itemElement);\n\t}\n\n\tpublic reset(itemElement: HTMLElement): void {\n\t\tthis._reset(itemElement);\n\t}\n\n\tpublic update(): void {\n\t\tthis._update();\n\t}\n\n\tpublic setActiveLink(link: HTMLElement): void {\n\t\tthis._setActiveLink(link);\n\t}\n\n\tpublic getLinkByAttribute(value: string, name: string = 'href'): HTMLElement {\n\t\treturn this._getLinkByAttribute(value, name);\n\t}\n\n\tpublic getItemLinkElement(itemElement: HTMLElement): HTMLElement {\n\t\treturn this._getItemLinkElement(itemElement);\n\t}\n\n\tpublic getItemElement(element: HTMLElement): HTMLElement {\n\t\treturn this._getItemElement(element);\n\t}\n\n\tpublic getItemSubElement(itemElement: HTMLElement): HTMLElement {\n\t\treturn this._getItemSubElement(itemElement);\n\t}\n\n\tpublic getItemParentElements(\n\t\titemElement: HTMLElement\n\t): Array<HTMLElement> | null {\n\t\treturn this._getItemParentElements(itemElement);\n\t}\n\n\tpublic isItemSubShown(itemElement: HTMLElement): boolean {\n\t\treturn this._isItemSubShown(itemElement);\n\t}\n\n\tpublic isItemParentShown(itemElement: HTMLElement): boolean {\n\t\treturn this._isItemParentShown(itemElement);\n\t}\n\n\tpublic isItemDropdownPermanent(itemElement: HTMLElement): boolean {\n\t\treturn this._isItemDropdownPermanent(itemElement);\n\t}\n\n\tpublic disable(): void {\n\t\tthis._disabled = true;\n\t}\n\n\tpublic enable(): void {\n\t\tthis._disabled = false;\n\t}\n\n\tpublic hideAccordions(itemElement?: HTMLElement): void {\n\t\tthis._hideAccordions(itemElement);\n\t}\n\n\t// Statics methods\n\tpublic static getInstance(element: HTMLElement): KTMenu {\n\t\tif (!element) {\n\t\t\treturn null;\n\t\t}\n\n\t\t// Element has menu DOM reference in it's DATA storage\n\t\tif (KTData.has(element, 'menu')) {\n\t\t\treturn KTData.get(element, 'menu') as KTMenu;\n\t\t}\n\n\t\t// Element has .menu parent\n\t\tconst menuElement = element.closest(\n\t\t\t'[data-kt-menu-initialized]'\n\t\t) as HTMLElement;\n\t\tif (menuElement && KTData.has(menuElement, 'menu')) {\n\t\t\treturn KTData.get(menuElement, 'menu') as KTMenu;\n\t\t} else if (\n\t\t\tmenuElement &&\n\t\t\tmenuElement.getAttribute('data-kt-menu-initialized') === 'true'\n\t\t) {\n\t\t\treturn new KTMenu(menuElement);\n\t\t}\n\n\t\tconst subElement = element.closest(\n\t\t\t'[data-kt-menu-sub-overflow=\"true\"]'\n\t\t) as HTMLElement;\n\t\tif (subElement && KTData.has(subElement, 'menu')) {\n\t\t\treturn KTData.get(subElement, 'menu') as KTMenu;\n\t\t}\n\n\t\t// Element has a parent with DOM reference to .menu in it's DATA storage\n\t\tif (\n\t\t\telement.classList.contains('kt-menu-link') ||\n\t\t\telement.classList.contains('kt-menu-toggle')\n\t\t) {\n\t\t\tconst subElement = (element.closest('.kt-menu-dropdown') ||\n\t\t\t\telement.closest('.kt-menu-accordion')) as HTMLElement;\n\n\t\t\tif (KTData.has(subElement, 'menu')) {\n\t\t\t\treturn KTData.get(subElement, 'menu') as KTMenu;\n\t\t\t}\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tpublic static getOrCreateInstance(\n\t\telement: HTMLElement,\n\t\tconfig?: KTMenuConfigInterface\n\t): KTMenu {\n\t\treturn this.getInstance(element) || new KTMenu(element, config);\n\t}\n\n\tpublic static hide(skipElement?: HTMLElement): void {\n\t\tconst itemElements = document.querySelectorAll(\n\t\t\t'.show.kt-menu-item-dropdown[data-kt-menu-item-trigger]'\n\t\t);\n\n\t\titemElements.forEach((itemElement) => {\n\t\t\tconst menu = KTMenu.getInstance(itemElement as HTMLElement);\n\n\t\t\tif (\n\t\t\t\tmenu &&\n\t\t\t\tmenu.getItemToggleMode(itemElement as HTMLElement) === 'dropdown'\n\t\t\t) {\n\t\t\t\tif (skipElement) {\n\t\t\t\t\tif (\n\t\t\t\t\t\titemElement &&\n\t\t\t\t\t\tmenu\n\t\t\t\t\t\t\t.getItemSubElement(itemElement as HTMLElement)\n\t\t\t\t\t\t\t?.contains(skipElement) === false &&\n\t\t\t\t\t\titemElement.contains(skipElement) === false &&\n\t\t\t\t\t\titemElement !== skipElement\n\t\t\t\t\t) {\n\t\t\t\t\t\tmenu.hide(itemElement as HTMLElement);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tmenu.hide(itemElement as HTMLElement);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tpublic static updateDropdowns(): void {\n\t\tconst itemElements = document.querySelectorAll(\n\t\t\t'.show.kt-menu-item-dropdown[data-kt-menu-item-trigger]'\n\t\t);\n\n\t\titemElements.forEach((itemElement) => {\n\t\t\tif (KTData.has(itemElement as HTMLElement, 'popper')) {\n\t\t\t\t(\n\t\t\t\t\tKTData.get(itemElement as HTMLElement, 'popper') as PopperInstance\n\t\t\t\t).forceUpdate();\n\t\t\t}\n\t\t});\n\t}\n\n\tpublic static updateByLinkAttribute(\n\t\tvalue: string,\n\t\tname: string = 'href'\n\t): void {\n\t\tconst elements = document.querySelectorAll('[data-kt-menu-initialized]');\n\n\t\telements.forEach((element) => {\n\t\t\tconst menu = KTMenu.getInstance(element as HTMLElement);\n\n\t\t\tif (menu) {\n\t\t\t\tconst link = menu.getLinkByAttribute(value, name);\n\t\t\t\tif (link) {\n\t\t\t\t\tmenu.setActiveLink(link);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tpublic static handleClickAway() {\n\t\tdocument.addEventListener('click', function (event: Event) {\n\t\t\tconst itemElements = document.querySelectorAll(\n\t\t\t\t'.show.kt-menu-item-dropdown[data-kt-menu-item-trigger]:not([data-kt-menu-item-static=\"true\"])'\n\t\t\t);\n\n\t\t\titemElements.forEach((itemElement) => {\n\t\t\t\tconst menu = KTMenu.getInstance(itemElement as HTMLElement);\n\n\t\t\t\tif (\n\t\t\t\t\tmenu &&\n\t\t\t\t\tmenu.getItemToggleMode(itemElement as HTMLElement) === 'dropdown'\n\t\t\t\t) {\n\t\t\t\t\tconst subElement = menu.getItemSubElement(itemElement as HTMLElement);\n\n\t\t\t\t\tif (\n\t\t\t\t\t\titemElement === event.target ||\n\t\t\t\t\t\titemElement.contains(event.target as HTMLElement)\n\t\t\t\t\t) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (\n\t\t\t\t\t\tsubElement &&\n\t\t\t\t\t\t(subElement === event.target ||\n\t\t\t\t\t\t\tsubElement.contains(event.target as HTMLElement))\n\t\t\t\t\t) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tmenu.hide(itemElement as HTMLElement);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\n\tpublic static handleMouseover() {\n\t\tKTEventHandler.on(\n\t\t\tdocument.body,\n\t\t\t'[data-kt-menu-item-trigger], .kt-menu-dropdown',\n\t\t\t'mouseover',\n\t\t\t(event: Event, target: HTMLElement) => {\n\t\t\t\tconst menu = KTMenu.getInstance(target);\n\n\t\t\t\tif (menu !== null && menu.getItemToggleMode(target) === 'dropdown') {\n\t\t\t\t\treturn menu.mouseover(target);\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\t}\n\n\tpublic static handleMouseout() {\n\t\tKTEventHandler.on(\n\t\t\tdocument.body,\n\t\t\t'[data-kt-menu-item-trigger], .kt-menu-dropdown',\n\t\t\t'mouseout',\n\t\t\t(event: Event, target: HTMLElement) => {\n\t\t\t\tconst menu = KTMenu.getInstance(target);\n\n\t\t\t\tif (menu !== null && menu.getItemToggleMode(target) === 'dropdown') {\n\t\t\t\t\treturn menu.mouseout(target);\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\t}\n\n\tpublic static handleClick() {\n\t\tKTEventHandler.on(\n\t\t\tdocument.body,\n\t\t\t'.kt-menu-item[data-kt-menu-item-trigger] > .kt-menu-link, .kt-menu-item[data-kt-menu-item-trigger] > .kt-menu-label .kt-menu-toggle, .kt-menu-item[data-kt-menu-item-trigger] > .kt-menu-toggle, [data-kt-menu-item-trigger]:not(.kt-menu-item):not([data-kt-menu-item-trigger=\"auto\"])',\n\t\t\t'click',\n\t\t\t(event: Event, target: HTMLElement) => {\n\t\t\t\tconst menu = KTMenu.getInstance(target);\n\n\t\t\t\tif (menu !== null) {\n\t\t\t\t\treturn menu.click(target, event);\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\n\t\tKTEventHandler.on(\n\t\t\tdocument.body,\n\t\t\t'.kt-menu-item:not([data-kt-menu-item-trigger]) > .kt-menu-link',\n\t\t\t'click',\n\t\t\t(event: Event, target: HTMLElement) => {\n\t\t\t\tconst menu = KTMenu.getInstance(target);\n\n\t\t\t\tif (menu !== null) {\n\t\t\t\t\tif (target.tagName == 'a' || target.hasAttribute('href')) {\n\t\t\t\t\t\tmenu.dismiss(target);\n\t\t\t\t\t}\n\t\t\t\t\treturn menu.link(target, event);\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\t}\n\n\tpublic static handleDismiss() {\n\t\tKTEventHandler.on(\n\t\t\tdocument.body,\n\t\t\t'[data-kt-menu-dismiss=\"true\"]',\n\t\t\t'click',\n\t\t\t(event: Event, target: HTMLElement) => {\n\t\t\t\tconst menu = KTMenu.getInstance(target);\n\n\t\t\t\tif (menu !== null) {\n\t\t\t\t\treturn menu.dismiss(target);\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\t}\n\n\tpublic static handleResize() {\n\t\twindow.addEventListener('resize', () => {\n\t\t\tlet timer;\n\n\t\t\tKTUtils.throttle(\n\t\t\t\ttimer,\n\t\t\t\t() => {\n\t\t\t\t\t// Locate and update Offcanvas instances on window resize\n\t\t\t\t\tconst elements = document.querySelectorAll(\n\t\t\t\t\t\t'[data-kt-menu-initialized]'\n\t\t\t\t\t);\n\n\t\t\t\t\telements.forEach((element) => {\n\t\t\t\t\t\tKTMenu.getInstance(element as HTMLElement)?.update();\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\t200\n\t\t\t);\n\t\t});\n\t}\n\n\tpublic static initHandlers(): void {\n\t\tthis.handleDismiss();\n\t\tthis.handleClickAway();\n\t\tthis.handleMouseover();\n\t\tthis.handleMouseout();\n\t\tthis.handleClick();\n\t\tthis.handleResize();\n\t}\n\n\tpublic static createInstances(): void {\n\t\tconst elements = document.querySelectorAll('[data-kt-menu]');\n\t\telements.forEach((element) => {\n\t\t\tnew KTMenu(element as HTMLElement);\n\t\t});\n\t}\n\n\tpublic static init(): void {\n\t\tKTMenu.createInstances();\n\n\t\tif (window.KT_MENU_INITIALIZED !== true) {\n\t\t\tKTMenu.initHandlers();\n\t\t\twindow.KT_MENU_INITIALIZED = true;\n\t\t}\n\t}\n}\n","export { KTModal } from './modal';\nexport type { KTModalConfigInterface, KTModalInterface } from './types';\n","/* eslint-disable max-len */\n/* eslint-disable require-jsdoc */\n\nimport KTData from '../../helpers/data';\nimport KTDom from '../../helpers/dom';\nimport KTEventHandler from '../../helpers/event-handler';\nimport KTUtils from '../../helpers/utils';\nimport KTComponent from '../component';\nimport { KTModalInterface, KTModalConfigInterface } from './types';\n\ndeclare global {\n\tinterface Window {\n\t\tKT_MODAL_INITIALIZED: boolean;\n\t}\n}\n\nexport class KTModal extends KTComponent implements KTModalInterface {\n\tprotected override _name: string = 'modal';\n\tprotected override _defaultConfig: KTModalConfigInterface = {\n\t\tzindex: '90',\n\t\tbackdrop: true,\n\t\tbackdropClass: 'transition-all duration-300 fixed inset-0 bg-black/10',\n\t\tbackdropStatic: false,\n\t\tkeyboard: true,\n\t\tdisableScroll: true,\n\t\tpersistent: false,\n\t\tfocus: true,\n\t\thiddenClass: 'hidden',\n\t};\n\tprotected override _config: KTModalConfigInterface = this._defaultConfig;\n\tprotected _isOpen: boolean = false;\n\tprotected _isTransitioning: boolean = false;\n\tprotected _backdropElement: HTMLElement | null = null;\n\tprotected _targetElement: HTMLElement | null = null;\n\n\tconstructor(element: HTMLElement, config?: KTModalConfigInterface) {\n\t\tsuper();\n\n\t\tif (KTData.has(element as HTMLElement, this._name)) return;\n\n\t\tthis._init(element);\n\t\tthis._buildConfig(config);\n\t\tthis._handlers();\n\t}\n\n\tprotected _handlers() {\n\t\tthis._element.addEventListener('click', (event: Event) => {\n\t\t\tif (this._element !== event.target) return;\n\n\t\t\tif (this._getOption('backdropStatic') === false) {\n\t\t\t\tthis._hide();\n\t\t\t}\n\t\t});\n\t}\n\n\tprotected _toggle(targetElement?: HTMLElement): void {\n\t\tconst payload = { cancel: false };\n\t\tthis._fireEvent('toggle', payload);\n\t\tthis._dispatchEvent('toggle', payload);\n\t\tif (payload.cancel === true) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (this._isOpen === true) {\n\t\t\tthis._hide();\n\t\t} else {\n\t\t\tthis._show(targetElement);\n\t\t}\n\t}\n\n\tprotected _show(targetElement?: HTMLElement): void {\n\t\tif (this._isOpen || this._isTransitioning) {\n\t\t\treturn;\n\t\t}\n\n\t\t//const beforeScroll = this.fireEvent('beforeScroll', this.el);\n\t\t//this.dispatch('beforeScroll.hs.scrollspy', this.el, this.el);\n\t\t//if (beforeScroll instanceof Promise) beforeScroll.then(() => scrollFn());\n\t\t//else scrollFn();\n\n\t\tif (targetElement) this._targetElement = targetElement;\n\n\t\tconst payload = { cancel: false };\n\t\tthis._fireEvent('show', payload);\n\t\tthis._dispatchEvent('show', payload);\n\t\tif (payload.cancel === true) {\n\t\t\treturn;\n\t\t}\n\n\t\tKTModal.hide();\n\n\t\tif (!this._element) return;\n\t\tthis._isTransitioning = true;\n\t\tthis._element.setAttribute('role', 'dialog');\n\t\tthis._element.setAttribute('aria-modal', 'true');\n\t\tthis._element.setAttribute('tabindex', '-1');\n\n\t\tthis._setZindex();\n\t\tif (this._getOption('backdrop') === true) this._createBackdrop();\n\n\t\tif (this._getOption('disableScroll')) {\n\t\t\tdocument.body.style.overflow = 'hidden';\n\t\t}\n\n\t\tthis._element.style.display = 'block';\n\t\tKTDom.reflow(this._element);\n\t\tthis._element.classList.add('open');\n\t\tthis._element.classList.remove(this._getOption('hiddenClass') as string);\n\n\t\tKTDom.transitionEnd(this._element, () => {\n\t\t\tthis._isTransitioning = false;\n\t\t\tthis._isOpen = true;\n\n\t\t\tif (this._getOption('focus') === true) {\n\t\t\t\tthis._autoFocus();\n\t\t\t}\n\n\t\t\tthis._fireEvent('shown');\n\t\t\tthis._dispatchEvent('shown');\n\t\t});\n\t}\n\n\tprotected _hide(): void {\n\t\tif (!this._element) return;\n\t\tif (this._isOpen === false || this._isTransitioning) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst payload = { cancel: false };\n\t\tthis._fireEvent('hide', payload);\n\t\tthis._dispatchEvent('hide', payload);\n\t\tif (payload.cancel === true) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._isTransitioning = true;\n\t\tthis._element.removeAttribute('role');\n\t\tthis._element.removeAttribute('aria-modal');\n\t\tthis._element.removeAttribute('tabindex');\n\t\tif (this._getOption('disableScroll')) {\n\t\t\tdocument.body.style.overflow = '';\n\t\t}\n\n\t\tKTDom.reflow(this._element);\n\t\tthis._element.classList.remove('open');\n\n\t\tif (this._getOption('backdrop') === true) {\n\t\t\tthis._deleteBackdrop();\n\t\t}\n\n\t\tKTDom.transitionEnd(this._element, () => {\n\t\t\tif (!this._element) return;\n\n\t\t\tthis._isTransitioning = false;\n\t\t\tthis._isOpen = false;\n\t\t\tthis._element.style.display = '';\n\t\t\tthis._element.classList.add(this._getOption('hiddenClass') as string);\n\n\t\t\tthis._fireEvent('hidden');\n\t\t\tthis._dispatchEvent('hidden');\n\t\t});\n\t}\n\n\tprotected _setZindex(): void {\n\t\tlet zindex: number = parseInt(this._getOption('zindex') as string);\n\n\t\tif (parseInt(KTDom.getCssProp(this._element, 'z-index')) > zindex) {\n\t\t\tzindex = parseInt(KTDom.getCssProp(this._element, 'z-index'));\n\t\t}\n\n\t\tif (KTDom.getHighestZindex(this._element) > zindex) {\n\t\t\tzindex = KTDom.getHighestZindex(this._element) + 1;\n\t\t}\n\n\t\tthis._element.style.zIndex = String(zindex);\n\t}\n\n\tprotected _autoFocus(): void {\n\t\tif (!this._element) return;\n\t\tconst input: HTMLInputElement | null = this._element.querySelector(\n\t\t\t'[data-kt-modal-input-focus]'\n\t\t);\n\t\tif (!input) return;\n\t\telse input.focus();\n\t}\n\n\tprotected _createBackdrop(): void {\n\t\tif (!this._element) return;\n\t\tconst zindex: number = parseInt(KTDom.getCssProp(this._element, 'z-index'));\n\t\tthis._backdropElement = document.createElement('DIV');\n\t\tthis._backdropElement.style.zIndex = (zindex - 1).toString();\n\t\tdocument.body.append(this._backdropElement);\n\t\tKTDom.reflow(this._backdropElement);\n\t\tKTDom.addClass(\n\t\t\tthis._backdropElement,\n\t\t\tthis._getOption('backdropClass') as string\n\t\t);\n\t}\n\n\tprotected _deleteBackdrop(): void {\n\t\tif (!this._backdropElement) return;\n\n\t\tKTDom.reflow(this._backdropElement);\n\t\tthis._backdropElement.style.opacity = '0';\n\n\t\tKTDom.transitionEnd(this._backdropElement, () => {\n\t\t\tif (!this._backdropElement) return;\n\t\t\tKTDom.remove(this._backdropElement);\n\t\t});\n\t}\n\n\tpublic toggle(targetElement?: HTMLElement): void {\n\t\treturn this._toggle(targetElement);\n\t}\n\n\tpublic show(targetElement?: HTMLElement): void {\n\t\treturn this._show(targetElement);\n\t}\n\n\tpublic hide(): void {\n\t\treturn this._hide();\n\t}\n\n\tpublic getTargetElement(): HTMLElement | null {\n\t\treturn this._targetElement;\n\t}\n\n\tpublic isOpen(): boolean {\n\t\treturn this._isOpen;\n\t}\n\n\tpublic static getInstance(element: HTMLElement): KTModal {\n\t\tif (!element) return null;\n\n\t\tif (KTData.has(element, 'modal')) {\n\t\t\treturn KTData.get(element, 'modal') as KTModal;\n\t\t}\n\n\t\tif (element.getAttribute('data-kt-modal')) {\n\t\t\treturn new KTModal(element);\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tpublic static getOrCreateInstance(\n\t\telement: HTMLElement,\n\t\tconfig?: KTModalConfigInterface\n\t): KTModal {\n\t\treturn this.getInstance(element) || new KTModal(element, config);\n\t}\n\n\tpublic static hide(): void {\n\t\tconst elements = document.querySelectorAll('[data-kt-modal-initialized]');\n\n\t\telements.forEach((element) => {\n\t\t\tconst modal = KTModal.getInstance(element as HTMLElement);\n\n\t\t\tif (modal && modal.isOpen()) {\n\t\t\t\tmodal.hide();\n\t\t\t}\n\t\t});\n\t}\n\n\tpublic static handleToggle(): void {\n\t\tKTEventHandler.on(\n\t\t\tdocument.body,\n\t\t\t'[data-kt-modal-toggle]',\n\t\t\t'click',\n\t\t\t(event: Event, target: HTMLElement) => {\n\t\t\t\tevent.stopPropagation();\n\n\t\t\t\tconst selector = target.getAttribute('data-kt-modal-toggle');\n\t\t\t\tif (!selector) return;\n\n\t\t\t\tconst modalElement = document.querySelector(selector);\n\t\t\t\tconst modal = KTModal.getInstance(modalElement as HTMLElement);\n\t\t\t\tif (modal) {\n\t\t\t\t\tmodal.toggle(target);\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\t}\n\n\tpublic static handleDismiss(): void {\n\t\tKTEventHandler.on(\n\t\t\tdocument.body,\n\t\t\t'[data-kt-modal-dismiss]',\n\t\t\t'click',\n\t\t\t(event: Event, target: HTMLElement) => {\n\t\t\t\tevent.stopPropagation();\n\n\t\t\t\tconst modalElement = target.closest(\n\t\t\t\t\t'[data-kt-modal-initialized]'\n\t\t\t\t) as HTMLElement;\n\t\t\t\tif (modalElement) {\n\t\t\t\t\tconst modal = KTModal.getInstance(modalElement);\n\t\t\t\t\tif (modal) {\n\t\t\t\t\t\tmodal.hide();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\t}\n\n\tpublic static handleClickAway() {\n\t\tdocument.addEventListener('click', (event: Event) => {\n\t\t\tconst modalElement = document.querySelector(\n\t\t\t\t'.open[data-kt-modal-initialized]'\n\t\t\t);\n\t\t\tif (!modalElement) return;\n\n\t\t\tconst modal = KTModal.getInstance(modalElement as HTMLElement);\n\t\t\tif (!modal) return;\n\n\t\t\tif (KTUtils.stringToBoolean(modal.getOption('persistent')) === true)\n\t\t\t\treturn;\n\n\t\t\tif (KTUtils.stringToBoolean(modal.getOption('backdrop')) === true) return;\n\n\t\t\tif (\n\t\t\t\tmodalElement !== event.target &&\n\t\t\t\tmodal.getTargetElement() !== event.target &&\n\t\t\t\tmodalElement.contains(event.target as HTMLElement) === false\n\t\t\t) {\n\t\t\t\tmodal.hide();\n\t\t\t}\n\t\t});\n\t}\n\n\tpublic static handleKeyword() {\n\t\tdocument.addEventListener('keydown', (event: KeyboardEvent) => {\n\t\t\tconst modalElement = document.querySelector(\n\t\t\t\t'.open[data-kt-modal-initialized]'\n\t\t\t);\n\t\t\tconst modal = KTModal.getInstance(modalElement as HTMLElement);\n\t\t\tif (!modal) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// if esc key was not pressed in combination with ctrl or alt or shift\n\t\t\tif (\n\t\t\t\tevent.key === 'Escape' &&\n\t\t\t\t!(event.ctrlKey || event.altKey || event.shiftKey)\n\t\t\t) {\n\t\t\t\tmodal.hide();\n\t\t\t}\n\n\t\t\tif (event.code === 'Tab' && !event.metaKey) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t});\n\t}\n\n\tpublic static createInstances(): void {\n\t\tconst elements = document.querySelectorAll('[data-kt-modal]');\n\n\t\telements.forEach((element) => {\n\t\t\tnew KTModal(element as HTMLElement);\n\t\t});\n\t}\n\n\tpublic static init(): void {\n\t\tKTModal.createInstances();\n\n\t\tif (window.KT_MODAL_INITIALIZED !== true) {\n\t\t\tKTModal.handleToggle();\n\t\t\tKTModal.handleDismiss();\n\t\t\tKTModal.handleClickAway();\n\t\t\tKTModal.handleKeyword();\n\t\t\twindow.KT_MODAL_INITIALIZED = true;\n\t\t}\n\t}\n}\n\nif (typeof window !== 'undefined') {\n\twindow.KTModal = KTModal;\n}\n","export { KTReparent } from './reparent';\nexport type { KTReparentConfigInterface, KTReparentInterface } from './types';\n","/* eslint-disable max-len */\n/* eslint-disable require-jsdoc */\n\nimport KTData from '../../helpers/data';\nimport KTDom from '../../helpers/dom';\nimport KTUtils from '../../helpers/utils';\nimport KTComponent from '../component';\nimport { KTReparentInterface, KTReparentConfigInterface } from './types';\n\ndeclare global {\n\tinterface Window {\n\t\tKT_REPARENT_INITIALIZED: boolean;\n\t}\n}\n\nexport class KTReparent extends KTComponent implements KTReparentInterface {\n\tprotected override _name: string = 'reparent';\n\tprotected override _defaultConfig: KTReparentConfigInterface = {\n\t\tmode: '',\n\t\ttarget: '',\n\t};\n\n\tconstructor(\n\t\telement: HTMLElement,\n\t\tconfig: KTReparentConfigInterface | null = null\n\t) {\n\t\tsuper();\n\n\t\tif (KTData.has(element as HTMLElement, this._name)) return;\n\n\t\tthis._init(element);\n\t\tthis._buildConfig(config);\n\t\tthis._update();\n\t}\n\n\tprotected _update(): void {\n\t\tif (!this._element) return;\n\t\tconst target = this._getOption('target') as string;\n\t\tconst targetEl = KTDom.getElement(target);\n\t\tconst mode = this._getOption('mode');\n\n\t\tif (targetEl && this._element.parentNode !== targetEl) {\n\t\t\tif (mode === 'prepend') {\n\t\t\t\ttargetEl.prepend(this._element);\n\t\t\t} else if (mode === 'append') {\n\t\t\t\ttargetEl.append(this._element);\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic update(): void {\n\t\tthis._update();\n\t}\n\n\tpublic static handleResize(): void {\n\t\twindow.addEventListener('resize', () => {\n\t\t\tlet timer;\n\n\t\t\tKTUtils.throttle(\n\t\t\t\ttimer,\n\t\t\t\t() => {\n\t\t\t\t\tdocument\n\t\t\t\t\t\t.querySelectorAll('[data-kt-reparent-initialized]')\n\t\t\t\t\t\t.forEach((element) => {\n\t\t\t\t\t\t\tconst reparent = KTReparent.getInstance(element as HTMLElement);\n\t\t\t\t\t\t\treparent?.update();\n\t\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\t200\n\t\t\t);\n\t\t});\n\t}\n\n\tpublic static getInstance(element: HTMLElement): KTReparent {\n\t\treturn KTData.get(element, 'reparent') as KTReparent;\n\t}\n\n\tpublic static getOrCreateInstance(\n\t\telement: HTMLElement,\n\t\tconfig?: KTReparentConfigInterface\n\t): KTReparent {\n\t\treturn this.getInstance(element) || new KTReparent(element, config);\n\t}\n\n\tpublic static createInstances(): void {\n\t\tconst elements = document.querySelectorAll('[data-kt-reparent]');\n\n\t\telements.forEach((element) => {\n\t\t\tnew KTReparent(element as HTMLElement);\n\t\t});\n\t}\n\n\tpublic static init(): void {\n\t\tKTReparent.createInstances();\n\n\t\tif (window.KT_REPARENT_INITIALIZED !== true) {\n\t\t\tKTReparent.handleResize();\n\t\t\twindow.KT_REPARENT_INITIALIZED = true;\n\t\t}\n\t}\n}\n\nif (typeof window !== 'undefined') {\n\twindow.KTReparent = KTReparent;\n}\n","export { KTScrollable } from './scrollable';\nexport type { KTScrollableConfigInterface, KTScrollableInterface } from './types';\n","/* eslint-disable max-len */\n/* eslint-disable require-jsdoc */\n\nimport KTData from '../../helpers/data';\nimport KTDom from '../../helpers/dom';\nimport KTUtils from '../../helpers/utils';\nimport KTComponent from '../component';\nimport { KTScrollableInterface, KTScrollableConfigInterface } from './types';\n\ndeclare global {\n\tinterface Window {\n\t\tKT_SCROLL_INITIALIZED: boolean;\n\t}\n}\n\nexport class KTScrollable extends KTComponent implements KTScrollableInterface {\n\tprotected override _name: string = 'scrollable';\n\tprotected override _defaultConfig: KTScrollableConfigInterface = {\n\t\tsave: true,\n\t\tdependencies: '',\n\t\twrappers: '',\n\t\toffset: '',\n\t};\n\tprotected override _config: KTScrollableConfigInterface = this._defaultConfig;\n\tprotected _elementId: string | null = null;\n\n\tconstructor(element: HTMLElement, config?: KTScrollableConfigInterface) {\n\t\tsuper();\n\n\t\tif (KTData.has(element as HTMLElement, this._name)) return;\n\n\t\tthis._init(element);\n\t\tthis._buildConfig(config);\n\n\t\tif (!this._element) return;\n\t\tthis._elementId = this._element.getAttribute('id');\n\t\tthis._handlers();\n\t\tthis._update();\n\t}\n\n\tprotected _handlers(): void {\n\t\tif (!this._element) return;\n\t\tthis._element.addEventListener('scroll', () => {\n\t\t\tif (!this._element) return;\n\t\t\tlocalStorage.setItem(\n\t\t\t\t`${this._elementId}st`,\n\t\t\t\tthis._element.scrollTop.toString()\n\t\t\t);\n\t\t});\n\t}\n\n\tprotected _update(): void {\n\t\tthis._setupHeight();\n\t\tthis._setupState();\n\t}\n\n\tprotected _setupHeight(): void {\n\t\tif (!this._element) return;\n\n\t\tconst heightType = this._getHeightType();\n\t\tconst height = this._getHeight();\n\n\t\t// Set height\n\t\tif (height && height != '0' && height.length > 0) {\n\t\t\tthis._element.style.setProperty(heightType, height);\n\t\t} else {\n\t\t\tthis._element.style.setProperty(heightType, '');\n\t\t}\n\t}\n\n\tprotected _setupState(): void {\n\t\tif (!this._element) return;\n\t\tconst stateEnabled = this._getOption('state') === true;\n\t\tconst elementIdExists = Boolean(this._elementId);\n\n\t\tif (stateEnabled && elementIdExists) {\n\t\t\tconst storedPosition = localStorage.getItem(this._elementId + 'st');\n\n\t\t\tif (storedPosition) {\n\t\t\t\tconst pos = parseInt(storedPosition);\n\n\t\t\t\tif (pos > 0) {\n\t\t\t\t\tthis._element.scroll({\n\t\t\t\t\t\ttop: pos,\n\t\t\t\t\t\tbehavior: 'instant',\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tprotected _getHeight(): string {\n\t\tconst height = this._getHeightOption();\n\n\t\tif (\n\t\t\theight !== null &&\n\t\t\ttypeof height === 'string' &&\n\t\t\theight.toLowerCase() === 'auto'\n\t\t) {\n\t\t\treturn this._getAutoHeight();\n\t\t} else if (height) {\n\t\t\treturn parseInt(height).toString() + 'px';\n\t\t} else {\n\t\t\treturn '0';\n\t\t}\n\t}\n\n\tprotected _getAutoHeight(): string {\n\t\tif (!this._element) return '';\n\t\tlet height = KTDom.getViewPort().height;\n\t\tconst dependencies = this._getOption('dependencies') as string;\n\t\tconst wrappers = this._getOption('wrappers') as string;\n\t\tconst offset = this._getOption('offset') as string;\n\t\theight -= this._getElementSpacing(this._element);\n\n\t\tif (dependencies && dependencies.length > 0) {\n\t\t\tconst elements = document.querySelectorAll(dependencies);\n\t\t\telements.forEach((element) => {\n\t\t\t\tif (KTDom.getCssProp(element as HTMLElement, 'display') === 'none') {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\theight -= this._getElementHeight(element as HTMLElement);\n\t\t\t});\n\t\t}\n\n\t\tif (wrappers && wrappers.length > 0) {\n\t\t\tconst elements = document.querySelectorAll(wrappers);\n\t\t\telements.forEach((element) => {\n\t\t\t\tif (KTDom.getCssProp(element as HTMLElement, 'display') === 'none') {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\theight -= this._getElementSpacing(element as HTMLElement);\n\t\t\t});\n\t\t}\n\n\t\tif (offset && offset.length > 0) {\n\t\t\theight -= parseInt(offset);\n\t\t}\n\n\t\treturn height.toString() + 'px';\n\t}\n\n\tprotected _getElementHeight(element: HTMLElement): number {\n\t\tlet height = 0;\n\n\t\tif (!element) {\n\t\t\treturn height;\n\t\t}\n\n\t\tconst computedStyle = window.getComputedStyle(element);\n\t\tif (computedStyle.height) {\n\t\t\theight += parseInt(computedStyle.height);\n\t\t}\n\t\tif (computedStyle.marginTop) {\n\t\t\theight += parseInt(computedStyle.marginTop);\n\t\t}\n\t\tif (computedStyle.marginBottom) {\n\t\t\theight += parseInt(computedStyle.marginBottom);\n\t\t}\n\t\tif (computedStyle.borderTopWidth) {\n\t\t\theight += parseInt(computedStyle.borderTopWidth);\n\t\t}\n\t\tif (computedStyle.borderBottomWidth) {\n\t\t\theight += parseInt(computedStyle.borderBottomWidth);\n\t\t}\n\n\t\treturn height;\n\t}\n\n\tprotected _getElementSpacing(element: HTMLElement): number {\n\t\tlet spacing: number = 0;\n\n\t\tif (!element) {\n\t\t\treturn spacing;\n\t\t}\n\n\t\tconst computedStyle = window.getComputedStyle(element);\n\t\tif (computedStyle.marginTop) {\n\t\t\tspacing += parseInt(computedStyle.marginTop);\n\t\t}\n\t\tif (computedStyle.marginBottom) {\n\t\t\tspacing += parseInt(computedStyle.marginBottom);\n\t\t}\n\t\tif (computedStyle.paddingTop) {\n\t\t\tspacing += parseInt(computedStyle.paddingTop);\n\t\t}\n\t\tif (computedStyle.paddingBottom) {\n\t\t\tspacing += parseInt(computedStyle.paddingBottom);\n\t\t}\n\t\tif (computedStyle.borderTopWidth) {\n\t\t\tspacing += parseInt(computedStyle.borderTopWidth);\n\t\t}\n\t\tif (computedStyle.borderBottomWidth) {\n\t\t\tspacing += parseInt(computedStyle.borderBottomWidth);\n\t\t}\n\n\t\treturn spacing;\n\t}\n\n\tprotected _getHeightType(): string {\n\t\tif (this._getOption('minHeight')) {\n\t\t\treturn 'min-height';\n\t\t}\n\t\tif (this._getOption('maxHeight')) {\n\t\t\treturn 'max-height';\n\t\t} else {\n\t\t\treturn 'height';\n\t\t}\n\t}\n\n\tprotected _getHeightOption(): string {\n\t\tconst heightType = this._getHeightType();\n\n\t\tif (heightType == 'min-height') {\n\t\t\treturn this._getOption('minHeight') as string;\n\t\t}\n\t\tif (heightType == 'max-height') {\n\t\t\treturn this._getOption('maxHeight') as string;\n\t\t} else {\n\t\t\treturn this._getOption('height') as string;\n\t\t}\n\t}\n\n\tpublic update(): void {\n\t\treturn this._update();\n\t}\n\n\tpublic getHeight(): string {\n\t\treturn this._getHeight();\n\t}\n\n\tpublic static getInstance(element: HTMLElement): KTScrollable {\n\t\tif (!element) return null;\n\n\t\tif (KTData.has(element, 'scrollable')) {\n\t\t\treturn KTData.get(element, 'scrollable') as KTScrollable;\n\t\t}\n\n\t\tif (element.getAttribute('data-kt-scrollable')) {\n\t\t\treturn new KTScrollable(element);\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tpublic static getOrCreateInstance(\n\t\telement: HTMLElement,\n\t\tconfig?: KTScrollableConfigInterface\n\t): KTScrollable {\n\t\treturn this.getInstance(element) || new KTScrollable(element, config);\n\t}\n\n\tpublic static createInstances(): void {\n\t\tconst elements = document.querySelectorAll('[data-kt-scrollable]');\n\n\t\telements.forEach((element) => {\n\t\t\tnew KTScrollable(element as HTMLElement);\n\t\t});\n\t}\n\n\tpublic static handleResize(): void {\n\t\twindow.addEventListener('resize', () => {\n\t\t\tlet timer;\n\n\t\t\tKTUtils.throttle(\n\t\t\t\ttimer,\n\t\t\t\tfunction () {\n\t\t\t\t\t// Locate and update scrollable instances on window resize\n\t\t\t\t\tconst elements = document.querySelectorAll(\n\t\t\t\t\t\t'[data-kt-scrollable-initialized]'\n\t\t\t\t\t);\n\t\t\t\t\telements.forEach((element) => {\n\t\t\t\t\t\tKTScrollable.getInstance(element as HTMLElement)?.update();\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\t200\n\t\t\t);\n\t\t});\n\t}\n\n\tpublic static init(): void {\n\t\tKTScrollable.createInstances();\n\n\t\tif (window.KT_SCROLL_INITIALIZED !== true) {\n\t\t\tKTScrollable.handleResize();\n\n\t\t\twindow.KT_SCROLL_INITIALIZED = true;\n\t\t}\n\t}\n}\n\nif (typeof window !== 'undefined') {\n\twindow.KTScrollable = KTScrollable;\n}\n","export { KTScrollspy } from './scrollspy';\nexport type { KTScrollspyConfigInterface, KTScrollspyInterface } from './types';\n","/* eslint-disable max-len */\n/* eslint-disable require-jsdoc */\n\nimport KTData from '../../helpers/data';\nimport KTDom from '../../helpers/dom';\nimport KTEventHandler from '../../helpers/event-handler';\nimport KTComponent from '../component';\nimport { KTScrollspyInterface, KTScrollspyConfigInterface } from './types';\n\nexport class KTScrollspy extends KTComponent implements KTScrollspyInterface {\n\tprotected override _name: string = 'scrollspy';\n\tprotected override _defaultConfig: KTScrollspyConfigInterface = {\n\t\ttarget: 'body',\n\t\toffset: 0,\n\t\tsmooth: true,\n\t};\n\tprotected override _config: KTScrollspyConfigInterface = this._defaultConfig;\n\tprotected _targetElement: HTMLElement | Document | null = null;\n\tprotected _anchorElements: NodeListOf<HTMLElement> | null = null;\n\n\tconstructor(element: HTMLElement, config?: KTScrollspyConfigInterface) {\n\t\tsuper();\n\n\t\tif (KTData.has(element as HTMLElement, this._name)) return;\n\n\t\tthis._init(element);\n\t\tthis._buildConfig(config);\n\n\t\tif (!this._element) return;\n\n\t\tconst targetElement =\n\t\t\tthis._getTarget() === 'body'\n\t\t\t\t? document\n\t\t\t\t: KTDom.getElement(this._getTarget());\n\t\tif (!targetElement) return;\n\n\t\tthis._targetElement = targetElement;\n\n\t\tthis._anchorElements = this._element.querySelectorAll(\n\t\t\t'[data-kt-scrollspy-anchor]'\n\t\t);\n\n\t\tif (!this._anchorElements) return;\n\n\t\tthis._handlers();\n\t\tthis._update();\n\t}\n\n\tprivate _getTarget(): string {\n\t\treturn (\n\t\t\t(this._element.getAttribute('data-kt-scrollspy-target') as string) ||\n\t\t\t(this._getOption('target') as string)\n\t\t);\n\t}\n\n\tprotected _handlers(): void {\n\t\tif (!this._anchorElements) return;\n\n\t\tthis._targetElement.addEventListener('scroll', () => {\n\t\t\tthis._anchorElements.forEach((anchorElement) => {\n\t\t\t\tthis._updateAnchor(anchorElement);\n\t\t\t});\n\t\t});\n\n\t\tKTEventHandler.on(\n\t\t\tthis._element,\n\t\t\t'[data-kt-scrollspy-anchor]',\n\t\t\t'click',\n\t\t\t(event: Event, target: HTMLElement) => {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tthis._scrollTo(target);\n\t\t\t}\n\t\t);\n\t}\n\n\tprotected _scrollTo(anchorElement: HTMLElement): void {\n\t\tif (!anchorElement) return;\n\n\t\tconst sectionElement = KTDom.getElement(anchorElement.getAttribute('href'));\n\t\tif (!sectionElement) return;\n\n\t\tconst targetElement =\n\t\t\tthis._targetElement === document ? window : this._targetElement;\n\t\tif (!targetElement) return;\n\n\t\tlet offset = parseInt(this._getOption('offset') as string);\n\t\tif (anchorElement.getAttribute('data-kt-scrollspy-anchor-offset')) {\n\t\t\toffset = parseInt(\n\t\t\t\tanchorElement.getAttribute('data-kt-scrollspy-anchor-offset') as string\n\t\t\t);\n\t\t}\n\n\t\tconst scrollTop = sectionElement.offsetTop - offset;\n\n\t\tif ('scrollTo' in targetElement) {\n\t\t\ttargetElement.scrollTo({\n\t\t\t\ttop: scrollTop,\n\t\t\t\tleft: 0,\n\t\t\t\tbehavior: this._getOption('smooth') ? 'smooth' : 'instant',\n\t\t\t});\n\t\t}\n\t}\n\n\tprotected _updateAnchor(anchorElement: HTMLElement): void {\n\t\tconst sectionElement = KTDom.getElement(anchorElement.getAttribute('href'));\n\t\tif (!sectionElement) return;\n\n\t\tif (!KTDom.isVisible(anchorElement)) return;\n\n\t\tif (!this._anchorElements) return;\n\n\t\tconst scrollPosition =\n\t\t\tthis._targetElement === document\n\t\t\t\t? document.documentElement.scrollTop || document.body.scrollTop\n\t\t\t\t: (this._targetElement as HTMLElement).scrollTop;\n\n\t\tlet offset = parseInt(this._getOption('offset') as string);\n\t\tif (anchorElement.getAttribute('data-kt-scrollspy-anchor-offset')) {\n\t\t\toffset = parseInt(\n\t\t\t\tanchorElement.getAttribute('data-kt-scrollspy-anchor-offset') as string\n\t\t\t);\n\t\t}\n\n\t\tconst offsetTop = sectionElement.offsetTop;\n\n\t\tif (scrollPosition + offset >= offsetTop) {\n\t\t\tthis._anchorElements.forEach((anchorElement) => {\n\t\t\t\tanchorElement.classList.remove('active');\n\t\t\t});\n\n\t\t\tconst payload = { element: anchorElement };\n\t\t\tthis._fireEvent('activate', payload);\n\t\t\tthis._dispatchEvent('activate', payload);\n\n\t\t\tanchorElement.classList.add('active');\n\n\t\t\tconst parentAnchorElements = KTDom.parents(\n\t\t\t\tanchorElement,\n\t\t\t\t'[data-kt-scrollspy-group]'\n\t\t\t);\n\t\t\tif (parentAnchorElements) {\n\t\t\t\tparentAnchorElements.forEach((parentAnchorElement) => {\n\t\t\t\t\tparentAnchorElement\n\t\t\t\t\t\t.querySelector('[data-kt-scrollspy-anchor]')\n\t\t\t\t\t\t?.classList.add('active');\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n\tprotected _update() {\n\t\tif (!this._anchorElements) return;\n\n\t\tthis._anchorElements.forEach((anchorElement) => {\n\t\t\tthis._updateAnchor(anchorElement);\n\t\t});\n\t}\n\n\tprotected _isActive(anchorElement: HTMLElement): boolean {\n\t\treturn anchorElement.classList.contains('active');\n\t}\n\n\tpublic updateAnchor(anchorElement: HTMLElement): void {\n\t\tthis._updateAnchor(anchorElement);\n\t}\n\n\tpublic isActive(anchorElement: HTMLElement): boolean {\n\t\treturn this._isActive(anchorElement);\n\t}\n\n\tpublic update(): void {\n\t\tthis.update();\n\t}\n\n\tpublic scrollTo(anchorElement: HTMLElement): void {\n\t\tthis._scrollTo(anchorElement);\n\t}\n\n\tpublic static getInstance(element: HTMLElement): KTScrollspy {\n\t\tif (!element) return null;\n\n\t\tif (KTData.has(element, 'scrollspy')) {\n\t\t\treturn KTData.get(element, 'scrollspy') as KTScrollspy;\n\t\t}\n\n\t\tif (element.getAttribute('data-kt-scrollspy')) {\n\t\t\treturn new KTScrollspy(element);\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tpublic static getOrCreateInstance(\n\t\telement: HTMLElement,\n\t\tconfig?: KTScrollspyConfigInterface\n\t): KTScrollspy {\n\t\treturn this.getInstance(element) || new KTScrollspy(element, config);\n\t}\n\n\tpublic static createInstances(): void {\n\t\tconst elements = document.querySelectorAll('[data-kt-scrollspy]');\n\n\t\telements.forEach((element) => {\n\t\t\tnew KTScrollspy(element as HTMLElement);\n\t\t});\n\t}\n\n\tpublic static init(): void {\n\t\tKTScrollspy.createInstances();\n\t}\n}\n\nif (typeof window !== 'undefined') {\n\twindow.KTScrollspy = KTScrollspy;\n}\n","export { KTScrollto } from './scrollto';\nexport type { KTScrolltoConfigInterface, KTScrolltoInterface } from './types';\n","/* eslint-disable max-len */\n/* eslint-disable require-jsdoc */\n\nimport KTData from '../../helpers/data';\nimport KTDom from '../../helpers/dom';\nimport KTComponent from '../component';\nimport { KTScrolltoInterface, KTScrolltoConfigInterface } from './types';\n\nexport class KTScrollto extends KTComponent implements KTScrolltoInterface {\n\tprotected override _name: string = 'scrollto';\n\tprotected override _defaultConfig: KTScrolltoConfigInterface = {\n\t\tsmooth: true,\n\t\tparent: 'body',\n\t\ttarget: '',\n\t\toffset: 0,\n\t};\n\tprotected override _config: KTScrolltoConfigInterface = this._defaultConfig;\n\tprotected _targetElement: HTMLElement;\n\n\tconstructor(element: HTMLElement, config?: KTScrolltoConfigInterface) {\n\t\tsuper();\n\n\t\tif (KTData.has(element as HTMLElement, this._name)) return;\n\n\t\tthis._init(element);\n\t\tthis._buildConfig(config);\n\n\t\tif (!this._element) return;\n\n\t\tthis._targetElement = this._getTargetElement();\n\n\t\tif (!this._targetElement) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._handlers();\n\t}\n\n\tprivate _getTargetElement(): HTMLElement | null {\n\t\treturn (\n\t\t\tKTDom.getElement(\n\t\t\t\tthis._element.getAttribute('data-kt-scrollto') as string\n\t\t\t) || KTDom.getElement(this._getOption('target') as string)\n\t\t);\n\t}\n\n\tprotected _handlers(): void {\n\t\tif (!this._element) return;\n\n\t\tthis._element.addEventListener('click', (event: Event) => {\n\t\t\tevent.preventDefault();\n\t\t\tthis._scroll();\n\t\t});\n\t}\n\n\tprotected _scroll(): void {\n\t\tconst pos =\n\t\t\tthis._targetElement.offsetTop +\n\t\t\tparseInt(this._getOption('offset') as string);\n\n\t\tlet parent: HTMLElement | Window = KTDom.getElement(\n\t\t\tthis._getOption('parent') as string\n\t\t);\n\n\t\tif (!parent || parent === document.body) {\n\t\t\tparent = window;\n\t\t}\n\n\t\tparent.scrollTo({\n\t\t\ttop: pos,\n\t\t\tbehavior: (this._getOption('smooth') as boolean) ? 'smooth' : 'instant',\n\t\t});\n\t}\n\n\tpublic scroll(): void {\n\t\tthis._scroll();\n\t}\n\n\tpublic static getInstance(element: HTMLElement): KTScrollto {\n\t\tif (!element) return null;\n\n\t\tif (KTData.has(element, 'scrollto')) {\n\t\t\treturn KTData.get(element, 'scrollto') as KTScrollto;\n\t\t}\n\n\t\tif (element.getAttribute('data-kt-scrollto')) {\n\t\t\treturn new KTScrollto(element);\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tpublic static getOrCreateInstance(\n\t\telement: HTMLElement,\n\t\tconfig?: KTScrolltoConfigInterface\n\t): KTScrollto {\n\t\treturn this.getInstance(element) || new KTScrollto(element, config);\n\t}\n\n\tpublic static createInstances(): void {\n\t\tconst elements = document.querySelectorAll('[data-kt-scrollto]');\n\n\t\telements.forEach((element) => {\n\t\t\tnew KTScrollto(element as HTMLElement);\n\t\t});\n\t}\n\n\tpublic static init(): void {\n\t\tKTScrollto.createInstances();\n\t}\n}\n\nif (typeof window !== 'undefined') {\n\twindow.KTScrollto = KTScrollto;\n}\n","import { KTSelectConfigInterface } from './config';\nimport { KTSelect } from './select';\nimport { handleDropdownKeyNavigation } from './utils';\n\n/**\n * KTSelectCombobox - Handles combobox-specific functionality for KTSelect\n */\nexport class KTSelectCombobox {\n  private _select: KTSelect;\n  private _config: KTSelectConfigInterface;\n  private _searchInputElement: HTMLInputElement;\n  private _clearButtonElement: HTMLElement | null;\n  private _boundKeyNavHandler: (event: KeyboardEvent) => void;\n  private _boundInputHandler: (event: Event) => void;\n  private _boundClearHandler: (event: MouseEvent) => void;\n\n  constructor(select: KTSelect) {\n    this._select = select;\n    this._config = select.getConfig();\n\n    // Get the display element (could be the input directly or a parent div)\n    const displayElement = select.getValueDisplayElement();\n\n    // Find the input element - either it's the display element itself or a child\n    this._searchInputElement = displayElement.tagName === 'INPUT'\n      ? displayElement as HTMLInputElement\n      : displayElement.querySelector('input[data-kt-select-search]');\n\n    // Find the clear button\n    this._clearButtonElement = displayElement.tagName === 'DIV'\n      ? displayElement.querySelector('[data-kt-select-clear-button]')\n      : null;\n\n    // Create bound handler references to allow proper cleanup\n    this._boundKeyNavHandler = this._handleComboboxKeyNav.bind(this);\n    this._boundInputHandler = this._handleComboboxInput.bind(this);\n    this._boundClearHandler = this._handleClearButtonClick.bind(this);\n\n    // Attach event listeners\n    this._attachEventListeners();\n\n    console.log('KTSelectCombobox initialized');\n  }\n\n  /**\n   * Attach event listeners specific to combobox\n   */\n  private _attachEventListeners(): void {\n    // First remove any existing listeners to prevent duplicates\n    this._removeEventListeners();\n\n    // Add input event handler to filter options as user types\n    this._searchInputElement.addEventListener('input', this._boundInputHandler);\n\n    // Add keyboard navigation for the combobox\n    this._searchInputElement.addEventListener('keydown', this._boundKeyNavHandler);\n\n    // Add clear button click event listener\n    if (this._clearButtonElement) {\n      this._clearButtonElement.addEventListener('click', this._boundClearHandler);\n    }\n\n    console.log('Combobox event listeners attached to:', this._searchInputElement);\n  }\n\n  /**\n   * Remove event listeners to prevent memory leaks or duplicates\n   */\n  private _removeEventListeners(): void {\n    if (this._searchInputElement) {\n      this._searchInputElement.removeEventListener('input', this._boundInputHandler);\n      this._searchInputElement.removeEventListener('keydown', this._boundKeyNavHandler);\n    }\n\n    if (this._clearButtonElement) {\n      this._clearButtonElement.removeEventListener('click', this._boundClearHandler);\n    }\n  }\n\n  /**\n   * Handle combobox input events\n   */\n  private _handleComboboxInput(event: Event): void {\n    const inputElement = event.target as HTMLInputElement;\n    const query = inputElement.value.toLowerCase();\n\n    console.log('Combobox input event, query:', query);\n\n    // Toggle clear button visibility based on input value\n    this._toggleClearButtonVisibility(query);\n\n    // If dropdown isn't open, open it when user starts typing\n    if (!(this._select as any)._dropdownIsOpen) {\n      this._select.openDropdown();\n    }\n\n    // Filter options based on input\n    this._filterOptionsForCombobox(query);\n  }\n\n  /**\n   * Handle clear button click\n   */\n  private _handleClearButtonClick(event: MouseEvent): void {\n    event.preventDefault();\n    event.stopPropagation();\n\n    // Clear the input\n    this._searchInputElement.value = '';\n\n    // Hide the clear button\n    this._toggleClearButtonVisibility('');\n\n    // Show all options and open dropdown\n    this._select.showAllOptions();\n    this._select.openDropdown();\n\n    // Clear the current selection\n    this._select.clearSelection();\n\n    // Focus on the input\n    this._searchInputElement.focus();\n  }\n\n  /**\n   * Toggle clear button visibility based on input value\n   */\n  private _toggleClearButtonVisibility(value: string): void {\n    if (!this._clearButtonElement) return;\n\n    if (value.length > 0) {\n      this._clearButtonElement.classList.remove('hidden');\n    } else {\n      this._clearButtonElement.classList.add('hidden');\n    }\n  }\n\n  /**\n   * Filter options for combobox based on input query\n   */\n  private _filterOptionsForCombobox(query: string): void {\n    // Access the private method through type assertion\n    (this._select as any)._filterOptionsForCombobox(query);\n  }\n\n  /**\n   * Handle keyboard navigation in combobox mode\n   */\n  private _handleComboboxKeyNav(event: KeyboardEvent): void {\n    console.log('Combobox keydown event:', event.key);\n\n    // Prevent event propagation to stop bubbling to other handlers\n    event.stopPropagation();\n\n    // Handle clear with Escape when dropdown is closed\n    if (event.key === 'Escape' && !(this._select as any)._dropdownIsOpen && this._searchInputElement.value !== '') {\n      event.preventDefault();\n      this._searchInputElement.value = '';\n      this._toggleClearButtonVisibility('');\n      this._select.clearSelection();\n      return;\n    }\n\n    // Handle dropdown visibility with special keys\n    if (!(this._select as any)._dropdownIsOpen &&\n        (event.key === 'ArrowDown' || event.key === 'ArrowUp' || event.key === 'Enter')) {\n      console.log('Opening dropdown from keyboard in combobox');\n      this._select.openDropdown();\n      event.preventDefault();\n\n      // If it's arrow keys, also move focus\n      if (event.key === 'ArrowDown') {\n        (this._select as any)._focusNextOption();\n      } else if (event.key === 'ArrowUp') {\n        (this._select as any)._focusPreviousOption();\n      }\n      return;\n    }\n\n    // Use the shared keyboard navigation handler\n    handleDropdownKeyNavigation(\n      event,\n      this._select,\n      {\n        multiple: this._config.multiple,\n        closeOnSelect: this._config.closeOnSelect\n      }\n    );\n  }\n\n  /**\n   * Update the combobox input value when an option is selected\n   */\n  public updateSelectedValue(selectedText: string): void {\n    if (this._searchInputElement) {\n      // Extract just the text content if it contains HTML\n      let cleanText = selectedText;\n\n      // If the text might contain HTML (when description is present)\n      if (selectedText.includes('<') || selectedText.includes('>')) {\n        // Create a temporary element to extract just the text\n        const tempDiv = document.createElement('div');\n        tempDiv.innerHTML = selectedText;\n\n        // Find and use only the option-title text if available\n        const titleElement = tempDiv.querySelector('.option-title');\n        if (titleElement) {\n          cleanText = titleElement.textContent || selectedText;\n        } else {\n          // Fallback to all text content if option-title not found\n          cleanText = tempDiv.textContent || selectedText;\n        }\n      }\n\n      // Set the input value directly for immediate feedback\n      this._searchInputElement.value = cleanText;\n\n      // Show the clear button if there's a value\n      this._toggleClearButtonVisibility(cleanText);\n\n      // Trigger an input event to ensure any input-based listeners are notified\n      const inputEvent = new Event('input', { bubbles: true });\n      this._searchInputElement.dispatchEvent(inputEvent);\n\n      console.log('Combobox value updated to:', cleanText);\n    }\n  }\n\n  /**\n   * Reset the input value to match the current selection\n   * This can be called to sync the input with the current state\n   */\n  public resetInputValueToSelection(): void {\n    const selectedOptions = this._select.getSelectedOptions();\n    if (selectedOptions.length > 0) {\n      const selectedOption = Array.from(this._select.getOptionsElement())\n        .find(opt => opt.dataset.value === selectedOptions[0]) as HTMLElement;\n\n      if (selectedOption) {\n        // Find the option-title element to get just the title text\n        const titleElement = selectedOption.querySelector('.option-title');\n        let selectedText = '';\n\n        if (titleElement) {\n          // If it has a structured content with a title element\n          selectedText = titleElement.textContent?.trim() || '';\n        } else {\n          // Fallback to the whole text content\n          selectedText = selectedOption.textContent?.trim() || '';\n        }\n\n        this.updateSelectedValue(selectedText);\n      }\n    } else {\n      // No selection, clear the input\n      if (this._searchInputElement) {\n        this._searchInputElement.value = '';\n        this._toggleClearButtonVisibility('');\n      }\n    }\n  }\n\n  /**\n   * Destroy the combobox component and clean up event listeners\n   */\n  public destroy(): void {\n    this._removeEventListeners();\n  }\n}","export const DefaultConfig: KTSelectConfigInterface = {\n\t// General Display\n\tplaceholder: 'Select an option', // Default placeholder text when no option is selected\n\tdropdownZindex: null, // Initial z-index value for the dropdown\n\n\t// Data Handling\n\titems: [], // Static list of options\n\tisLoading: false, // Indicates if options are being loaded asynchronously\n\tonFetch: null, // Callback function to fetch options asynchronously\n\n\t// Remote Data Configuration\n\tremote: false, // Enable/disable remote data fetching\n\tdataUrl: null, // URL to fetch options from\n\tapiDataProperty: null, // Property in the response object that contains the options\n\tremoteErrorMessage: 'Failed to load data', // Error message to display if remote data fetch fails\n\n\t// Field Mapping\n\tdataValueField: null, // Property in the option object that contains the value (default: 'id')\n\tdataFieldText: null, // Property in the option object that contains the text (default: 'title')\n\tdataFieldDescription: null, // Property in the option object that contains the description\n\tdataFieldIcon: null, // Property in the option object that contains the icon\n\tdataFieldIconWidth: null, // Property in the option object that contains the icon width\n\tdataFieldIconHeight: null, // Property in the option object that contains the icon height\n\n\t// Search Configuration\n\tsearchParam: '', // Query parameter for API search requests\n\tsearchDebounce: 300, // Debounce delay for search (in ms)\n\n\t// Pagination Configuration\n\tpagination: false, // Enable/disable pagination for remote data\n\tpaginationLimit: 10, // Items per page\n\tpaginationPageParam: 'page', // Parameter name for page number\n\tpaginationLimitParam: 'limit', // Parameter name for items per page\n\tpaginationTotalParam: 'total', // Parameter name for total items\n\n\t// Selection Behavior\n\tmultiple: false, // Enable/disable multi-select\n\tmaxSelections: null, // Maximum number of selections allowed in multi-select mode (null for unlimited)\n\tcloseOnSelect: true, // Close the dropdown after selecting an option (single-select only)\n\tdisabled: false, // Disable the select component\n\tisRequired: false, // Make selection required\n\tmode: null, // Select mode: 'tags' or 'combobox'\n\n\t// Search Functionality\n\tenableSearch: false, // Enable/disable search functionality within the dropdown\n\tsearchPlaceholder: 'Search...', // Placeholder text for the search input\n\tsearchAutofocus: true, // Autofocus on search input when dropdown opens\n\tsearchMinLength: 0, // Minimum characters required to trigger search\n\tsearchMaxItems: 50, // Maximum number of search results to display\n\tsearchNotFoundText: 'No results found', // Text to display when no search results are found\n\tsearchHighlight: true, // Highlight matching search terms within the options\n\n\t// Multi-Select Display\n\tselectAllText: 'Select all', // Text for the \"Select All\" option (if implemented)\n\tclearAllText: 'Clear all', // Text for the \"Clear All\" option (if implemented)\n\tshowSelectedCount: true, // Show the number of selected options in multi-select mode\n\trenderSelected: null, // Custom function to render the selected value(s) in the display area\n\n\t// Accessibility & Usability\n\tlabel: 'Select an option', // Label for the select component (for screen readers)\n\theight: 250, // Maximum height of the dropdown menu in pixels (if exceeded, a scrollbar will appear)\n\n\t// DOM Selectors\n\tdisplaySelector: 'data-kt-select-display',\n\tdropdownContentSelector: 'data-kt-select-dropdown-content',\n\tsearchSelector: 'data-kt-select-search',\n\tvalueSelector: 'data-kt-select-value',\n\toptionSelector: 'data-kt-select-option',\n};\n\nexport interface KTSelectConfigInterface {\n\t// General Display\n\tplaceholder?: string;\n\tdropdownZindex?: number | null;\n\n\t// Selection Behavior\n\tmultiple?: boolean;\n\tmaxSelections?: number | null;\n\tcloseOnSelect?: boolean;\n\tdisabled?: boolean;\n\tisRequired?: boolean;\n\tmode?: 'tags' | 'combobox' | null;\n\n\t// Search Functionality\n\tenableSearch?: boolean;\n\tsearchPlaceholder?: string;\n\tsearchAutofocus?: boolean;\n\tsearchMinLength?: number;\n\tsearchMaxItems?: number;\n\tsearchNotFoundText?: string;\n\tsearchHighlight?: boolean;\n\tsearchDebounce?: number;\n\tsearchParam?: string;\n\n\t// Multi-Select Display\n\tselectAllText?: string;\n\tclearAllText?: string;\n\tshowSelectedCount?: boolean;\n\trenderSelected?: (selectedOptions: any[]) => string; // Assuming any[] for now, adjust based on your option data structure\n\n\t// Accessibility & Usability\n\tlabel?: string;\n\theight: number;\n\n\t// Data Handling\n\titems?: KTSelectOption[];\n\tisLoading?: boolean;\n\tonFetch?: (query?: string) => Promise<KTSelectOption[]>;\n\n\t// Remote Data Configuration\n\tremote?: boolean;\n\tdataUrl?: string;\n\tapiDataProperty?: string;\n\tremoteErrorMessage?: string;\n\n\t// Field Mapping\n\tdataValueField?: string;\n\tdataFieldText?: string;\n\tdataFieldDescription?: string;\n\tdataFieldIcon?: string;\n\tdataFieldIconWidth?: string;\n\tdataFieldIconHeight?: string;\n\n\t// Pagination Configuration\n\tpagination?: boolean;\n\tpaginationLimit?: number;\n\tpaginationPageParam?: string;\n\tpaginationLimitParam?: string;\n\tpaginationTotalParam?: string;\n\n\t// DOM Selectors\n\tdisplaySelector?: string;\n\tdropdownContentSelector?: string;\n\tsearchSelector?: string;\n\tvalueSelector?: string;\n\toptionSelector?: string;\n}\n\nexport interface KTSelectOption {\n\tid: string;\n\ttitle: string;\n\ticon?: string;\n\tdescription?: string;\n\tselected?: boolean;\n}\n\nexport class KTSelectState {\n\tprivate _config: KTSelectConfigInterface;\n\tprivate _selectedOptions: string[] = [];\n\n\tconstructor(config?: KTSelectConfigInterface) {\n\t\tthis._config = this._initDefaultConfig(config);\n\t}\n\n\tprivate _initDefaultConfig(config: KTSelectConfigInterface): KTSelectConfigInterface {\n\t\treturn {\n\t\t\t...DefaultConfig, ...config,\n\t\t};\n\t}\n\n\tpublic setItems(items?: any[], query?: string): Promise<void> {\n\t\treturn new Promise<void>((resolve, reject) => {\n\t\t\tif (items) {\n\t\t\t\tthis._config.items = items;\n\t\t\t\tresolve();\n\t\t\t} else if (this._config.dataUrl) {\n\t\t\t\tthis._fetchRemoteData(query)\n\t\t\t\t\t.then(resolve) // Resolve after _fetchRemoteData completes\n\t\t\t\t\t.catch(reject);\n\t\t\t} else if (this._config.onFetch) {\n\t\t\t\tthis._config.isLoading = true;\n\t\t\t\tthis._config.onFetch(query)\n\t\t\t\t\t.then(items => {\n\t\t\t\t\t\tthis._config.items = items;\n\t\t\t\t\t\tresolve(); // Resolve after onFetch completes\n\t\t\t\t\t})\n\t\t\t\t\t.catch(error => {\n\t\t\t\t\t\tconsole.error(\"Error fetching data:\", error);\n\t\t\t\t\t\treject(error); // Reject on error\n\t\t\t\t\t})\n\t\t\t\t\t.finally(() => {\n\t\t\t\t\t\tthis._config.isLoading = false;\n\t\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tresolve();\n\t\t\t}\n\t\t});\n\t}\n\n\tprivate _fetchRemoteData(query?: string): Promise<void> {\n\t\tthis._config.isLoading = true; // Show loading indicator\n\n\t\tlet url = this._config.dataUrl!;\n\t\tif (query) {\n\t\t\turl += `?${this._config.searchParam}=${encodeURIComponent(query)}`;\n\t\t}\n\n\t\treturn fetch(url)\n\t\t\t.then(response => response.json())\n\t\t\t.then(data => {\n\t\t\t\tif (this._config.apiDataProperty) {\n\t\t\t\t\t// Extract the data property from the response\n\t\t\t\t\tif (this._config.apiDataProperty in data) {\n\t\t\t\t\t\tdata = data[this._config.apiDataProperty];\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.error(\"Error fetching data:\", `Property '${this._config.apiDataProperty}' not found in response`);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis._config.items = data;\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tconsole.error(\"Error fetching data:\", error);\n\t\t\t\t// Handle error (e.g., display an error message)\n\t\t\t})\n\t\t\t.finally(() => {\n\t\t\t\tthis._config.isLoading = false; // Hide loading indicator\n\t\t\t});\n\t}\n\n\tpublic getItems(): KTSelectOption[] {\n\t\treturn this._config.items || [];\n\t}\n\n\tpublic setItemsFromOptions(options: HTMLOptionElement[]): void {\n\t\tthis._config.items = options.map(option => ({\n\t\t\tid: option.value,\n\t\t\ttitle: option.textContent || '',\n\t\t\t// Add other properties from option element if needed\n\t\t}));\n\t}\n\n\tpublic getConfig(): KTSelectConfigInterface {\n\t\treturn this._config;\n\t}\n\n\tpublic setSelectedOptions(value: string | string[]): void {\n\t\tif (this._config.multiple && typeof value === 'string' && !this._selectedOptions.includes(value)) {\n\t\t\tthis._selectedOptions.push(value);\n\t\t} else if (!this._config.multiple) {\n\t\t\t// For single select, replace the previous selection with the new one\n\t\t\tthis._selectedOptions = typeof value === 'string' ? [value] : [value[0]];\n\t\t} else if (this._config.multiple && Array.isArray(value)) {\n\t\t\t// For multiple select with array input, use the provided array\n\t\t\tthis._selectedOptions = [...value];\n\t\t}\n\t}\n\n\tpublic toggleSelectedOptions(value: string): void {\n\t\tif (!this._config.multiple) {\n\t\t\t// For non-multiple, always set the new value\n\t\t\tthis._selectedOptions = [value];\n\t\t\treturn;\n\t\t}\n\n\t\t// For multiple selection, toggle the value\n\t\tconst index = this._selectedOptions.indexOf(value);\n\t\tif (index > -1) {\n\t\t\tthis._selectedOptions.splice(index, 1);\n\t\t} else {\n\t\t\tthis._selectedOptions.push(value);\n\t\t}\n\t}\n\n\tpublic getSelectedOptions(): string[] {\n\t\treturn this._selectedOptions;\n\t}\n\n\tpublic isSelected(value: string): boolean {\n\t\treturn this._selectedOptions.includes(value);\n\t}\n\n\tpublic modifyConfig(config: Partial<KTSelectConfigInterface>): void {\n\t\tthis._config = { ...this._config, ...config };\n\t}\n\n}\n\nexport const SelectOptionDefaultConfig: KTSelectOptionConfigInterface = {\n\tdescription: '',\n\ticon: null,\n}\n\nexport interface KTSelectOptionConfigInterface {\n\tdescription: string;\n\ticon: string;\n}","export { KTSelect } from './select';\nexport { KTSelectRemote } from './remote';\nexport { KTSelectCombobox } from './combobox';\nexport { KTSelectSearch } from './search';\nexport { KTSelectTags } from './tags';\nexport { filterOptions, FocusManager, EventManager } from './utils';","import KTComponent from \"../component\";\nimport { KTSelectConfigInterface, KTSelectOptionConfigInterface } from \"./config\";\nimport { defaultTemplates, Templates } from \"./templates\";\n\nexport class KTSelectOption extends KTComponent {\n\tprotected override readonly _name: string = 'select-option';\n\tprotected override readonly _config: KTSelectOptionConfigInterface;\n\tprivate _globalConfig: KTSelectConfigInterface;\n\n\tconstructor(element: HTMLElement, config?: KTSelectConfigInterface) {\n\t\tsuper();\n\n\t\t// Always initialize a new option instance\n\t\tthis._init(element);\n\t\tthis._buildConfig();\n\t\tthis._globalConfig = config;\n\n\t\t// Don't store in KTData to avoid Singleton pattern issues\n\t\t// Each option should be a unique instance\n\t\t(element as any).instance = this;\n\t}\n\n\tpublic getHTMLOptionElement(): HTMLOptionElement {\n\t\treturn this._element as HTMLOptionElement;\n\t}\n\n\tpublic render(): HTMLElement {\n\t\tconst optionElement = this.getHTMLOptionElement();\n\t\tconst theme = Templates.getTheme();\n\n\t\t// Use the global config if available, or create a minimal valid config\n\t\tconst config = this._globalConfig || { height: 250 };\n\n\t\t// Create a new option element every time\n\t\treturn defaultTemplates.option(optionElement, config, theme);\n\t}\n}","import { KTSelectConfigInterface, KTSelectOption as KTSelectOptionData } from './config';\n\n/**\n * KTSelectRemote class\n * Handles fetching remote data for the KTSelect component\n */\nexport class KTSelectRemote {\n    private _config: KTSelectConfigInterface;\n    private _isLoading: boolean = false;\n    private _hasError: boolean = false;\n    private _errorMessage: string = '';\n    private _currentPage: number = 1;\n    private _totalPages: number = 1;\n    private _lastQuery: string = '';\n    private _element: HTMLElement | null = null;\n\n    /**\n     * Constructor\n     * @param config KTSelect configuration\n     * @param element The select element\n     */\n    constructor(config: KTSelectConfigInterface, element?: HTMLElement) {\n        this._config = config;\n        this._element = element || null;\n    }\n\n    /**\n     * Fetch data from remote URL\n     * @param query Optional search query\n     * @param page Page number for pagination\n     * @returns Promise with fetched items\n     */\n    public fetchData(query?: string, page: number = 1): Promise<KTSelectOptionData[]> {\n        this._isLoading = true;\n        this._hasError = false;\n        this._errorMessage = '';\n        this._lastQuery = query || '';\n        this._currentPage = page;\n\n        let url = this._buildUrl(query, page);\n\n        console.log('Fetching remote data from:', url);\n\n        // Dispatch search start event\n        this._dispatchEvent('remoteSearchStart');\n\n        return fetch(url)\n            .then((response: Response): Promise<any> => {\n                if (!response.ok) {\n                    throw new Error(`HTTP error! Status: ${response.status}`);\n                }\n                return response.json();\n            })\n            .then((data: any): KTSelectOptionData[] => {\n                // Process the data\n                return this._processData(data);\n            })\n            .catch((error: Error): KTSelectOptionData[] => {\n                console.error('Error fetching remote data:', error);\n                this._hasError = true;\n                this._errorMessage = this._config.remoteErrorMessage || 'Failed to load data';\n                return [];\n            })\n            .finally((): void => {\n                this._isLoading = false;\n                // Dispatch search end event\n                this._dispatchEvent('remoteSearchEnd');\n            });\n    }\n\n    /**\n     * Dispatch custom events to notify about search state changes\n     * @param eventName Name of the event to dispatch\n     */\n    private _dispatchEvent(eventName: string): void {\n        if (!this._element) return;\n\n        const event = new CustomEvent(`ktselect.${eventName}`, {\n            bubbles: true,\n            detail: {\n                query: this._lastQuery,\n                isLoading: this._isLoading,\n                hasError: this._hasError,\n                errorMessage: this._errorMessage\n            }\n        });\n\n        this._element.dispatchEvent(event);\n    }\n\n    /**\n     * Build the URL for the API request\n     * @param query Search query\n     * @param page Page number\n     * @returns Fully formed URL\n     */\n    private _buildUrl(query?: string, page: number = 1): string {\n        let url = this._config.dataUrl;\n\n        if (!url) {\n            console.error(\"No URL specified for remote data\");\n            return '';\n        }\n\n        // Add parameters\n        const params = new URLSearchParams();\n\n        // Add search parameter if provided\n        if (query && this._config.searchParam) {\n            params.append(this._config.searchParam, query);\n        }\n\n        // Add pagination parameters if enabled\n        if (this._config.pagination) {\n            const limitParam = this._config.paginationLimitParam || 'limit';\n            const pageParam = this._config.paginationPageParam || 'page';\n            const limit = this._config.paginationLimit || 10;\n\n            params.append(limitParam, limit.toString());\n            params.append(pageParam, page.toString());\n        }\n\n        // Append parameters to URL if there are any\n        const paramsString = params.toString();\n        if (paramsString) {\n            url += (url.includes('?') ? '&' : '?') + paramsString;\n        }\n\n        return url;\n    }\n\n    /**\n     * Process the API response data\n     * @param data API response data\n     * @returns Array of KTSelectOptionData\n     */\n    private _processData(data: any): KTSelectOptionData[] {\n        try {\n            console.log('Processing API response:', data);\n\n            let processedData = data;\n\n            // Extract data from the API property if specified\n            if (this._config.apiDataProperty && data[this._config.apiDataProperty]) {\n                console.log(`Extracting data from property: ${this._config.apiDataProperty}`);\n\n                // If pagination metadata is available, extract it\n                if (this._config.pagination) {\n                    if (data.total_pages) {\n                        this._totalPages = data.total_pages;\n                        console.log(`Total pages found: ${this._totalPages}`);\n                    }\n                    if (data.total) {\n                        this._totalPages = Math.ceil(data.total / (this._config.paginationLimit || 10));\n                        console.log(`Calculated total pages: ${this._totalPages} from total: ${data.total}`);\n                    }\n                }\n\n                processedData = data[this._config.apiDataProperty];\n            }\n\n            // Ensure data is an array\n            if (!Array.isArray(processedData)) {\n                console.warn('Remote data is not an array:', processedData);\n                return [];\n            }\n\n            console.log(`Mapping ${processedData.length} items to KTSelectOptionData format`);\n\n            // Map data to KTSelectOptionData format\n            const mappedData = processedData.map((item: any): KTSelectOptionData => {\n                const mappedItem = this._mapItemToOption(item);\n                console.log(`Mapped item: ${item.id || 'unknown'} => ${mappedItem.id}:${mappedItem.title}`);\n                return mappedItem;\n            });\n\n            console.log(`Returned ${mappedData.length} mapped items`);\n            return mappedData;\n        } catch (error) {\n            console.error('Error processing remote data:', error);\n            this._hasError = true;\n            this._errorMessage = 'Error processing data';\n            return [];\n        }\n    }\n\n    /**\n     * Map a data item to KTSelectOptionData format\n     * @param item Data item from API\n     * @returns KTSelectOptionData object\n     */\n    private _mapItemToOption(item: any): KTSelectOptionData {\n        // Get the field mapping from config with fallbacks for common field names\n        const valueField = this._config.dataValueField || 'id';\n        const labelField = this._config.dataFieldText || 'title';\n        const descriptionField = this._config.dataFieldDescription || 'description';\n        const iconField = this._config.dataFieldIcon || 'icon';\n\n        console.log(`Mapping fields: value=${valueField}, label=${labelField}, description=${descriptionField}`);\n        console.log('Item data:', JSON.stringify(item).substring(0, 200) + '...'); // Trimmed for readability\n\n        // Extract values using dot notation if needed\n        const getValue = (obj: any, path: string): any => {\n            if (!path) return null;\n\n            // Handle dot notation to access nested properties\n            const result = path.split('.').reduce((prev: any, curr: string): any => {\n                return prev && prev[curr] !== undefined ? prev[curr] : null;\n            }, obj);\n\n            console.log(`Extracting [${path}] => ${result !== null ? JSON.stringify(result) : 'null'}`);\n            return result;\n        };\n\n        // Try to get a usable ID, with fallbacks\n        let id = getValue(item, valueField);\n        id = id !== null ? String(id) : (item.id ? String(item.id) : '');\n        console.log(`ID field [${valueField}]:`, id);\n\n        // Try to get a usable title, with fallbacks\n        let title = getValue(item, labelField);\n        title = title !== null ? String(title) : '';\n        console.log(`Title/label field [${labelField}]:`, title);\n\n        // If title is still empty, try common field names\n        if (!title) {\n            // Try common field names if the configured one doesn't work\n            if (item.name) title = String(item.name);\n            else if (item.title) title = String(item.title);\n            else if (item.label) title = String(item.label);\n            else if (item.text) title = String(item.text);\n            console.log('After fallback checks, title:', title);\n        }\n\n        // Get description - make sure we don't pass null, undefined, or \"null\" string values\n        let description = getValue(item, descriptionField);\n        if (description === null || description === undefined || String(description) === 'null' || String(description) === 'undefined') {\n            description = null;\n        } else {\n            description = String(description);\n        }\n\n        // Try to get an icon - make sure we don't pass null, undefined, or \"null\" string values\n        let icon = getValue(item, iconField);\n        if (icon === null || icon === undefined || String(icon) === 'null' || String(icon) === 'undefined') {\n            icon = null;\n        } else {\n            icon = String(icon);\n        }\n\n        // Create the option object with non-empty values\n        const result = {\n            id: id || '',\n            title: title || 'Unnamed option',\n            description: description,\n            icon: icon\n        };\n\n        console.log('Final mapped item:', result);\n        return result;\n    }\n\n    /**\n     * Load the next page of results\n     * @returns Promise with fetched items\n     */\n    public loadNextPage(): Promise<KTSelectOptionData[]> {\n        if (this._currentPage < this._totalPages) {\n            return this.fetchData(this._lastQuery, this._currentPage + 1);\n        }\n        return Promise.resolve([]);\n    }\n\n    /**\n     * Check if there are more pages available\n     * @returns Boolean indicating if more pages exist\n     */\n    public hasMorePages(): boolean {\n        return this._currentPage < this._totalPages;\n    }\n\n    /**\n     * Get loading state\n     * @returns Boolean indicating if data is loading\n     */\n    public isLoading(): boolean {\n        return this._isLoading;\n    }\n\n    /**\n     * Get error state\n     * @returns Boolean indicating if there was an error\n     */\n    public hasError(): boolean {\n        return this._hasError;\n    }\n\n    /**\n     * Get error message\n     * @returns Error message\n     */\n    public getErrorMessage(): string {\n        return this._errorMessage;\n    }\n\n    /**\n     * Reset the remote data state\n     */\n    public reset(): void {\n        this._isLoading = false;\n        this._hasError = false;\n        this._errorMessage = '';\n        this._currentPage = 1;\n        this._totalPages = 1;\n        this._lastQuery = '';\n    }\n\n    /**\n     * Set the select element for event dispatching\n     * @param element The select element\n     */\n    public setElement(element: HTMLElement): void {\n        this._element = element;\n    }\n}","import { KTSelect } from \"./select\";\nimport { defaultTemplates, Templates } from \"./templates\";\nimport {\n\tdebounce,\n\thandleDropdownKeyNavigation,\n\tfilterOptions,\n\tFocusManager,\n\tEventManager\n} from \"./utils\";\n\nexport class KTSelectSearch {\n\tprivate _select: KTSelect;\n\tprivate _searchInput: HTMLInputElement;\n\tprivate _noResultsElement: HTMLElement | null = null;\n\tprivate _originalOptionContents = new Map<string, string>();\n\tprivate _boundKeyNavHandler: (event: KeyboardEvent) => void;\n\tprivate _eventManager: EventManager;\n\tprivate _focusManager: FocusManager;\n\n\t// Public handler for search input (made public for event binding)\n\tpublic handleSearchInput: (...args: any[]) => void;\n\n\tconstructor(select: KTSelect) {\n\t\tthis._select = select;\n\t\tthis._searchInput = select.getSearchInput();\n\t\tthis._eventManager = new EventManager();\n\n\t\t// Initialize focus manager after dropdown element is available\n\t\tthis._focusManager = new FocusManager(this._select.getDropdownElement());\n\n\t\t// Create bound handler references to allow proper cleanup\n\t\tthis._boundKeyNavHandler = this._handleKeyboardNavigation.bind(this);\n\n\t\t// Bind the search input handler with context\n\t\tthis.handleSearchInput = this._handleSearchInput.bind(this);\n\n\t\t// Cache original option contents for later restoration\n\t\tthis._cacheOriginalOptionContents();\n\t}\n\n\tinit() {\n\t\tif (this._select.getConfig().enableSearch) {\n\t\t\tthis._searchInput = this._select.getSearchInput();\n\n\t\t\tif (this._searchInput) {\n\t\t\t\tconsole.log('Initializing search module with input:', this._searchInput);\n\n\t\t\t\t// First remove any existing listeners to prevent duplicates\n\t\t\t\tthis._removeEventListeners();\n\n\t\t\t\t// Add the event listener\n\t\t\t\tthis._eventManager.addListener(\n\t\t\t\t\tthis._searchInput,\n\t\t\t\t\t'input',\n\t\t\t\t\tthis.handleSearchInput\n\t\t\t\t);\n\n\t\t\t\t// Add blur event listener to ensure highlights are cleared when focus is lost\n\t\t\t\tthis._eventManager.addListener(\n\t\t\t\t\tthis._searchInput,\n\t\t\t\t\t'blur',\n\t\t\t\t\t() => {\n\t\t\t\t\t\tif (!this._searchInput.value) {\n\t\t\t\t\t\t\tthis._resetAllOptions();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t);\n\n\t\t\t\t// Listen for remote search events to coordinate with remote search functionality\n\t\t\t\tif (this._select.getConfig().remote && this._select.getConfig().searchParam) {\n\t\t\t\t\tthis._select.getElement().addEventListener('ktselect.remoteSearchStart', () => {\n\t\t\t\t\t\t// Reset focused option when remote search starts\n\t\t\t\t\t\tthis._focusManager.resetFocus();\n\t\t\t\t\t});\n\n\t\t\t\t\tthis._select.getElement().addEventListener('ktselect.remoteSearchEnd', () => {\n\t\t\t\t\t\t// After remote search completes, refresh our option cache\n\t\t\t\t\t\tthis.refreshOptionCache();\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\t// Add keyboard navigation for search results\n\t\t\t\t// This is stopping event propagation to prevent conflicts\n\t\t\t\tthis._eventManager.addListener(\n\t\t\t\t\tthis._searchInput,\n\t\t\t\t\t'keydown',\n\t\t\t\t\tthis._boundKeyNavHandler\n\t\t\t\t);\n\n\t\t\t\t// Listen for dropdown close to reset options if search is empty\n\t\t\t\tthis._select.getElement().addEventListener('dropdown.close', () => {\n\t\t\t\t\tthis._focusManager.resetFocus();\n\t\t\t\t\tif (!this._searchInput.value) {\n\t\t\t\t\t\tthis._resetAllOptions();\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t// Clear highlights when an option is selected\n\t\t\t\tthis._select.getElement().addEventListener('ktselect.change', () => {\n\t\t\t\t\tthis.clearSearchHighlights();\n\n\t\t\t\t\t// Close dropdown if configured to do so\n\t\t\t\t\tif (this._select.getConfig().closeOnSelect && !this._select.getConfig().multiple) {\n\t\t\t\t\t\tthis._select.closeDropdown();\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t// Autofocus on search input\n\t\t\t\tif (this._select.getConfig().searchAutofocus) {\n\t\t\t\t\tthis._select.getElement().addEventListener('dropdown.show', () => {\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t// Add slight delay to ensure the dropdown and search input are visible\n\t\t\t\t\t\t\tthis._searchInput?.focus();\n\t\t\t\t\t\t}, 50);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Remove event listeners to prevent memory leaks or duplicates\n\t */\n\tprivate _removeEventListeners(): void {\n\t\tif (this._searchInput) {\n\t\t\tthis._eventManager.removeAllListeners(this._searchInput);\n\t\t}\n\t}\n\n\t/**\n\t * Handle keyboard navigation for search results\n\t */\n\tprivate _handleKeyboardNavigation(event: KeyboardEvent) {\n\t\t// Stop propagation to prevent multiple handlers from firing\n\t\tevent.stopPropagation();\n\n\t\tconsole.log('Search module keydown:', event.key);\n\n\t\tconst visibleOptions = this._focusManager.getVisibleOptions();\n\t\tif (visibleOptions.length === 0) return;\n\n\t\t// Use the shared keyboard navigation handler with custom callbacks\n\t\thandleDropdownKeyNavigation(\n\t\t\tevent,\n\t\t\tthis._select,\n\t\t\t{\n\t\t\t\tmultiple: this._select.getConfig().multiple,\n\t\t\t\tcloseOnSelect: this._select.getConfig().closeOnSelect\n\t\t\t},\n\t\t\t{\n\t\t\t\tonArrowDown: () => this._focusManager.focusNext(),\n\t\t\t\tonArrowUp: () => this._focusManager.focusPrevious(),\n\t\t\t\tonEnter: () => this._selectFocusedOption(),\n\t\t\t\tonClose: () => {\n\t\t\t\t\tif (event.key === 'Escape') {\n\t\t\t\t\t\tthis.clearSearchHighlights();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\t}\n\n\t/**\n\t * Select the currently focused option\n\t */\n\tprivate _selectFocusedOption() {\n\t\tconst focusedOption = this._focusManager.getFocusedOption();\n\n\t\tif (focusedOption) {\n\t\t\tconst optionValue = focusedOption.getAttribute('data-value');\n\n\t\t\tif (optionValue) {\n\t\t\t\t// Trigger the selection in the main select component\n\t\t\t\tthis._select['_selectOption'](optionValue);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Store original HTML content of all options for later restoration\n\t * This prevents losing formatting when clearing search\n\t */\n\tprivate _cacheOriginalOptionContents() {\n\t\t// Wait for options to be initialized\n\t\tsetTimeout(() => {\n\t\t\tconst options = Array.from(this._select.getOptionsElement());\n\t\t\toptions.forEach(option => {\n\t\t\t\tconst value = option.getAttribute('data-value');\n\t\t\t\tif (value) {\n\t\t\t\t\tthis._originalOptionContents.set(value, option.innerHTML);\n\t\t\t\t}\n\t\t\t});\n\t\t}, 0);\n\t}\n\n\tprivate _handleSearchInput(event: Event) {\n\t\tconst query = (event.target as HTMLInputElement).value.toLowerCase();\n\t\tconst config = this._select.getConfig();\n\n\t\t// Reset focused option when search changes\n\t\tthis._focusManager.resetFocus();\n\n\t\t// For remote search, we don't filter locally\n\t\t// The KTSelect component will handle the remote search\n\t\tif (config.remote && config.searchParam) {\n\t\t\t// If query is too short, reset all options to visible state\n\t\t\tif (query.length < config.searchMinLength) {\n\t\t\t\tthis._resetAllOptions();\n\t\t\t\tthis._clearNoResultsMessage();\n\t\t\t}\n\t\t\t// Otherwise, let KTSelect handle remote search\n\t\t\treturn;\n\t\t}\n\n\t\t// For local search\n\t\tif (query.length >= config.searchMinLength) {\n\t\t\tthis._filterOptions(query);\n\t\t} else {\n\t\t\tthis._resetAllOptions();\n\t\t\tthis._clearNoResultsMessage();\n\t\t}\n\t}\n\n\tprivate _filterOptions(query: string) {\n\t\tconst options = Array.from(this._select.getOptionsElement()) as HTMLElement[];\n\t\tconst config = this._select.getConfig();\n\t\tconst dropdownElement = this._select.getDropdownElement();\n\n\t\t// Cache original option HTML if not already cached\n\t\tif (this._originalOptionContents.size === 0) {\n\t\t\tthis._cacheOriginalOptionContents();\n\t\t}\n\n\t\t// Use the shared filterOptions utility\n\t\tfilterOptions(\n\t\t\toptions,\n\t\t\tquery,\n\t\t\tconfig,\n\t\t\tdropdownElement,\n\t\t\t(visibleCount) => this._handleNoResults(visibleCount)\n\t\t);\n\n\t\t// Apply specialized text highlighting if needed\n\t\tif (config.searchHighlight && query.trim() !== '') {\n\t\t\tthis._applyHighlightToDisplay(query);\n\t\t}\n\t}\n\n\t/**\n\t * Apply highlighting to the display element for multi-select\n\t */\n\tprivate _applyHighlightToDisplay(query: string) {\n\t\t// Implementation for display highlighting\n\t}\n\n\t/**\n\t * Reset all options to their original state\n\t */\n\tprivate _resetAllOptions() {\n\t\t// Show all options and reset their HTML content\n\t\tconst options = Array.from(this._select.getOptionsElement());\n\t\toptions.forEach(option => {\n\t\t\t(option as HTMLElement).style.display = 'block';\n\n\t\t\t// Restore from cache if available (fastest approach)\n\t\t\tconst value = option.getAttribute('data-value');\n\t\t\tif (value && this._originalOptionContents.has(value)) {\n\t\t\t\t(option as HTMLElement).innerHTML = this._originalOptionContents.get(value);\n\t\t\t}\n\t\t});\n\t}\n\n\t/**\n\t * Handle the case when no results are found\n\t */\n\tprivate _handleNoResults(visibleOptionsCount: number) {\n\t\tif (visibleOptionsCount === 0) {\n\t\t\tthis._showNoResultsMessage();\n\t\t} else {\n\t\t\tthis._clearNoResultsMessage();\n\t\t}\n\t}\n\n\tprivate _showNoResultsMessage() {\n\t\tif (!this._noResultsElement) {\n\t\t\tconst config = this._select.getConfig();\n\t\t\tconst theme = Templates.getTheme();\n\t\t\tthis._noResultsElement = defaultTemplates.noResults(config, theme);\n\n\t\t\tconst optionsContainer = this._select.getDropdownElement().querySelector('[data-kt-select-options-container]');\n\t\t\tif (optionsContainer) {\n\t\t\t\toptionsContainer.appendChild(this._noResultsElement);\n\t\t\t} else {\n\t\t\t\tthis._select.getDropdownElement().appendChild(this._noResultsElement);\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate _clearNoResultsMessage() {\n\t\tif (this._noResultsElement) {\n\t\t\tthis._noResultsElement.remove();\n\t\t\tthis._noResultsElement = null;\n\t\t}\n\t}\n\n\t/**\n\t * Public method to explicitly clear all search highlights\n\t * Can be called when needed from outside\n\t */\n\tpublic clearSearchHighlights() {\n\t\tif (this._searchInput) {\n\t\t\tthis._searchInput.value = '';\n\t\t}\n\t\tthis._resetAllOptions();\n\t\tthis._clearNoResultsMessage();\n\n\t\t// Also clear highlights from the display element\n\t\tthis._clearDisplayHighlights();\n\t}\n\n\t/**\n\t * Clear any highlights from the display element (selected values)\n\t */\n\tprivate _clearDisplayHighlights() {\n\t\t// Implementation for clearing display highlights\n\t}\n\n\t/**\n\t * Refresh option cache after remote data is loaded\n\t * This ensures that search highlighting works correctly with new options\n\t */\n\tpublic refreshOptionCache(): void {\n\t\t// Clear existing cache\n\t\tthis._originalOptionContents.clear();\n\n\t\t// Re-cache all options\n\t\tconst options = Array.from(this._select.getOptionsElement());\n\t\toptions.forEach(option => {\n\t\t\tconst value = option.getAttribute('data-value');\n\t\t\tif (value) {\n\t\t\t\tthis._originalOptionContents.set(value, option.innerHTML);\n\t\t\t}\n\t\t});\n\t}\n\n\t/**\n\t * Destroy the search module and clean up\n\t */\n\tpublic destroy(): void {\n\t\tthis._removeEventListeners();\n\t\tthis._originalOptionContents.clear();\n\t}\n}","import KTData from '../../helpers/data';\nimport KTDom from '../../helpers/dom';\nimport KTComponent from '../component';\nimport { KTSelectConfigInterface, KTSelectState, KTSelectOption as KTSelectOptionData } from './config';\nimport { KTSelectOption } from './option';\nimport { KTSelectRemote } from './remote';\nimport { KTSelectSearch } from './search';\nimport { defaultTemplates, Templates } from './templates';\nimport { KTSelectCombobox } from './combobox';\nimport {\n\thandleDropdownKeyNavigation,\n\tfilterOptions,\n\tFocusManager,\n\tEventManager\n} from './utils';\nimport { KTSelectTags } from './tags';\n\nexport class KTSelect extends KTComponent {\n\t// Core properties\n\tprotected override readonly _name: string = 'select';\n\tprotected override readonly _config: KTSelectConfigInterface;\n\tprotected override _defaultConfig: KTSelectConfigInterface;\n\n\t// DOM elements\n\tprivate _wrapperElement: HTMLElement;\n\tprivate _displayElement: HTMLElement;\n\tprivate _dropdownContentElement: HTMLElement;\n\tprivate _searchInputElement: HTMLInputElement | null;\n\tprivate _valueDisplayElement: HTMLElement;\n\tprivate _options: NodeListOf<HTMLElement>;\n\n\t// State\n\tprivate _dropdownIsOpen: boolean = false;\n\tprivate _state: KTSelectState;\n\tprivate _searchModule: KTSelectSearch;\n\tprivate _remoteModule: KTSelectRemote;\n\tprivate _comboboxModule: KTSelectCombobox | null = null;\n\tprivate _tagsModule: KTSelectTags | null = null;\n\tprivate _focusedOptionIndex: number | null;\n\tprivate _loadMoreIndicator: HTMLElement | null = null;\n\tprivate _focusManager: FocusManager;\n\tprivate _eventManager: EventManager;\n\n\t/**\n\t * Constructor: Initializes the select component\n\t */\n\tconstructor(element: HTMLElement, config?: KTSelectConfigInterface) {\n\t\tsuper();\n\n\t\tif (KTData.has(element, this._name)) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._init(element);\n\t\tthis._buildConfig(config);\n\n\t\tthis._state = new KTSelectState(this._config);\n\t\tthis._config = this._state.getConfig();\n\n\t\t(element as any).instance = this;\n\n\t\t// Initialize event manager\n\t\tthis._eventManager = new EventManager();\n\n\t\t// Initialize remote module if remote data is enabled\n\t\tif (this._config.remote) {\n\t\t\tthis._remoteModule = new KTSelectRemote(this._config, this._element);\n\t\t\tthis._initializeRemoteData();\n\t\t} else {\n\t\tthis._state\n\t\t\t.setItems()\n\t\t\t.then(() => {\n\t\t\t\tconsole.log('Setting up component after remote data is loaded');\n\t\t\t\tthis._setupComponent();\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tconsole.error('Error setting items:', error);\n\t\t\t\t// Handle the error, e.g., display an error message to the user\n\t\t\t});\n\t\t}\n\t}\n\n\t/**\n\t * Initialize remote data fetching\n\t */\n\tprivate _initializeRemoteData() {\n\t\tif (!this._remoteModule || !this._config.remote) return;\n\n\t\tconsole.log('Initializing remote data with URL:', this._config.dataUrl);\n\n\t\t// Show loading state\n\t\tthis._renderLoadingState();\n\n\t\t// Fetch remote data\n\t\tthis._remoteModule.fetchData()\n\t\t\t.then(items => {\n\t\t\t\tconsole.log('Remote data fetched:', items);\n\n\t\t\t\t// Remove placeholder/loading options before setting new items\n\t\t\t\tthis._clearExistingOptions();\n\n\t\t\t\t// Update state with fetched items\n\t\t\t\tthis._state.setItems(items)\n\t\t\t\t\t.then(() => {\n\t\t\t\t\t\t// Generate options from the fetched data\n\t\t\t\t\t\tthis._generateOptionsHtml(this._element);\n\n\t\t\t\t\t\tconsole.log('Generating options HTML from remote data');\n\t\t\t\t\t\tthis._setupComponent();\n\t\t\t\t\t\tthis._renderLoadedState();\n\n\t\t\t\t\t\t// Add pagination \"Load More\" button if needed\n\t\t\t\t\t\tif (this._config.pagination && this._remoteModule.hasMorePages()) {\n\t\t\t\t\t\t\tthis._addLoadMoreButton();\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.catch(error => {\n\t\t\t\t\t\tconsole.error('Error setting items:', error);\n\t\t\t\t\t\tthis._renderErrorState(error.message || 'Failed to load data');\n\t\t\t\t\t});\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tconsole.error('Error fetching remote data:', error);\n\t\t\t\tthis._renderErrorState(this._remoteModule.getErrorMessage() || 'Failed to load data');\n\t\t\t});\n\t}\n\n\t/**\n\t * Clear existing options from the select element\n\t */\n\tprivate _clearExistingOptions() {\n\t\t// Keep only the empty/placeholder option and remove the rest\n\t\tconst options = Array.from(this._element.querySelectorAll('option:not([value=\"\"])'));\n\t\toptions.forEach(option => option.remove());\n\n\t\t// Ensure we have at least an empty option\n\t\tif (this._element.querySelectorAll('option').length === 0) {\n\t\t\tconst emptyOption = document.createElement('option');\n\t\t\temptyOption.value = '';\n\t\t\temptyOption.textContent = this._config.placeholder || 'Select...';\n\t\t\tthis._element.appendChild(emptyOption);\n\t\t}\n\t}\n\n\t/**\n\t * Render loading state in dropdown\n\t */\n\tprivate _renderLoadingState() {\n\t\t// Create temporary loading option if the select is empty\n\t\tif (this._element.querySelectorAll('option').length <= 1) {\n\t\t\tconst loadingOption = document.createElement('option');\n\t\t\tloadingOption.value = '';\n\t\t\tloadingOption.textContent = 'Loading...';\n\t\t\tloadingOption.disabled = true;\n\t\t\tloadingOption.selected = true;\n\t\t\tthis._element.appendChild(loadingOption);\n\t\t}\n\t}\n\n\t/**\n\t * Render loaded state\n\t */\n\tprivate _renderLoadedState() {\n\t\t// Remove any loading options\n\t\tconst loadingOptions = this._element.querySelectorAll('option[disabled]:not([value])');\n\t\tloadingOptions.forEach(option => {\n\t\t\tif (option.textContent === 'Loading...') {\n\t\t\t\toption.remove();\n\t\t\t}\n\t\t});\n\t}\n\n\t/**\n\t * Render error state\n\t * @param message Error message\n\t */\n\tprivate _renderErrorState(message: string) {\n\t\t// Create error option if the select is empty\n\t\tif (this._element.querySelectorAll('option').length <= 1) {\n\t\t\t// Remove any loading options first\n\t\t\tconst loadingOptions = this._element.querySelectorAll('option[disabled]:not([value])');\n\t\t\tloadingOptions.forEach(option => option.remove());\n\n\t\t\t// Add error option\n\t\t\tconst errorOption = document.createElement('option');\n\t\t\terrorOption.value = '';\n\t\t\terrorOption.textContent = message;\n\t\t\terrorOption.disabled = true;\n\t\t\terrorOption.selected = true;\n\t\t\tthis._element.appendChild(errorOption);\n\t\t}\n\n\t\t// If dropdown is already created, show error message there\n\t\tif (this._dropdownContentElement) {\n\t\t\t// Remove any existing options\n\t\t\tconst optionsContainer = this._dropdownContentElement.querySelector('[data-kt-select-options-container]');\n\t\t\tif (optionsContainer) {\n\t\t\t\toptionsContainer.innerHTML = `<div class=\"p-4 text-red-500\">${message}</div>`;\n\t\t\t}\n\t\t}\n\n\t\t// Complete component setup even if there's an error\n\t\tif (!this._wrapperElement) {\n\t\t\tconsole.log('Setting up component after error');\n\t\t\tthis._setupComponent();\n\t\t}\n\t}\n\n\t/**\n\t * Add \"Load More\" button for pagination\n\t */\n\tprivate _addLoadMoreButton() {\n\t\tif (!this._dropdownContentElement || !this._config.pagination) return;\n\n\t\t// Remove existing button if any\n\t\tif (this._loadMoreIndicator) {\n\t\t\tthis._loadMoreIndicator.remove();\n\t\t\tthis._loadMoreIndicator = null;\n\t\t}\n\n\t\t// Create load more button\n\t\tthis._loadMoreIndicator = document.createElement('div');\n\t\tthis._loadMoreIndicator.className = 'py-2 px-4 text-center text-gray-600 cursor-pointer hover:bg-gray-100';\n\t\tthis._loadMoreIndicator.textContent = 'Load more...';\n\t\tthis._loadMoreIndicator.setAttribute('data-kt-select-load-more', '');\n\n\t\t// Add to dropdown\n\t\tconst optionsContainer = this._dropdownContentElement.querySelector('[data-kt-select-options-container]');\n\t\tif (optionsContainer) {\n\t\t\toptionsContainer.appendChild(this._loadMoreIndicator);\n\t\t} else {\n\t\t\tthis._dropdownContentElement.appendChild(this._loadMoreIndicator);\n\t\t}\n\n\t\t// Add event listener\n\t\tthis._loadMoreIndicator.addEventListener('click', this._handleLoadMore.bind(this));\n\t}\n\n\t/**\n\t * Handle load more button click\n\t */\n\tprivate _handleLoadMore() {\n\t\tif (!this._remoteModule || !this._config.pagination) return;\n\n\t\t// Show loading state\n\t\tif (this._loadMoreIndicator) {\n\t\t\tthis._loadMoreIndicator.textContent = 'Loading...';\n\t\t\tthis._loadMoreIndicator.classList.add('opacity-50');\n\t\t\tthis._loadMoreIndicator.classList.remove('cursor-pointer', 'hover:bg-gray-100');\n\t\t}\n\n\t\t// Fetch next page\n\t\tthis._remoteModule.loadNextPage()\n\t\t\t.then(newItems => {\n\t\t\t\t// Get existing items\n\t\t\t\tconst existingItems = this._state.getItems();\n\n\t\t\t\t// Combine new items with existing items\n\t\t\t\tthis._state.setItems([...existingItems, ...newItems])\n\t\t\t\t\t.then(() => {\n\t\t\t\t\t\t// Update options in the dropdown\n\t\t\t\t\t\tthis._updateOptionsInDropdown(newItems);\n\n\t\t\t\t\t\t// Check if there are more pages\n\t\t\t\t\t\tif (this._remoteModule.hasMorePages()) {\n\t\t\t\t\t\t\t// Reset load more button\n\t\t\t\t\t\t\tif (this._loadMoreIndicator) {\n\t\t\t\t\t\t\t\tthis._loadMoreIndicator.textContent = 'Load more...';\n\t\t\t\t\t\t\t\tthis._loadMoreIndicator.classList.remove('opacity-50');\n\t\t\t\t\t\t\t\tthis._loadMoreIndicator.classList.add('cursor-pointer', 'hover:bg-gray-100');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// Remove load more button if no more pages\n\t\t\t\t\t\t\tif (this._loadMoreIndicator) {\n\t\t\t\t\t\t\t\tthis._loadMoreIndicator.remove();\n\t\t\t\t\t\t\t\tthis._loadMoreIndicator = null;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.catch(error => {\n\t\t\t\t\t\tconsole.error('Error updating items:', error);\n\n\t\t\t\t\t\t// Reset load more button\n\t\t\t\t\t\tif (this._loadMoreIndicator) {\n\t\t\t\t\t\t\tthis._loadMoreIndicator.textContent = 'Error loading more items';\n\t\t\t\t\t\t\tthis._loadMoreIndicator.classList.remove('opacity-50');\n\t\t\t\t\t\t\tthis._loadMoreIndicator.classList.add('cursor-pointer', 'hover:bg-gray-100');\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tconsole.error('Error loading more items:', error);\n\n\t\t\t\t// Reset load more button\n\t\t\t\tif (this._loadMoreIndicator) {\n\t\t\t\t\tthis._loadMoreIndicator.textContent = 'Error loading more items';\n\t\t\t\t\tthis._loadMoreIndicator.classList.remove('opacity-50');\n\t\t\t\t\tthis._loadMoreIndicator.classList.add('cursor-pointer', 'hover:bg-gray-100');\n\t\t\t\t}\n\t\t\t});\n\t}\n\n\t/**\n\t * Update options in the dropdown\n\t * @param newItems New items to add to the dropdown\n\t */\n\tprivate _updateOptionsInDropdown(newItems: KTSelectOptionData[]) {\n\t\tif (!this._dropdownContentElement || !newItems.length) return;\n\n\t\tconst optionsContainer = this._dropdownContentElement.querySelector('[data-kt-select-options-container]');\n\t\tif (!optionsContainer) return;\n\n\t\t// Get the load more button\n\t\tconst loadMoreButton = optionsContainer.querySelector('[data-kt-select-load-more]');\n\n\t\t// Process each new item\n\t\tnewItems.forEach(item => {\n\t\t\t// Create option for the original select\n\t\t\tconst selectOption = document.createElement('option');\n\t\t\tselectOption.value = item.id || '';\n\t\t\tselectOption.textContent = item.title || 'Unnamed option';\n\n\t\t\t// Add description and icon attributes if available and valid\n\t\t\tif (item.description && item.description !== 'null' && item.description !== 'undefined') {\n\t\t\t\tselectOption.setAttribute('data-kt-select-option-description', item.description);\n\t\t\t}\n\t\t\tif (item.icon && item.icon !== 'null' && item.icon !== 'undefined') {\n\t\t\t\tselectOption.setAttribute('data-kt-select-option-icon', item.icon);\n\t\t\t}\n\n\t\t\t// Add the option to the original select element\n\t\t\tthis._element.appendChild(selectOption);\n\n\t\t\t// Create option element for the dropdown using the KTSelectOption class\n\t\t\t// This ensures consistent option rendering\n\t\t\tconst ktOption = new KTSelectOption(selectOption, this._config);\n\t\t\tconst renderedOption = ktOption.render();\n\n\t\t\t// Add to dropdown container\n\t\t\tif (loadMoreButton) {\n\t\t\t\t// Insert before the load more button\n\t\t\t\toptionsContainer.insertBefore(renderedOption, loadMoreButton);\n\t\t\t} else {\n\t\t\t\t// Append to the end\n\t\t\t\toptionsContainer.appendChild(renderedOption);\n\t\t\t}\n\t\t});\n\n\t\t// Update options NodeList to include the new options\n\t\tthis._options = this._wrapperElement.querySelectorAll(\n\t\t\t`[data-kt-select-option]`\n\t\t) as NodeListOf<HTMLElement>;\n\n\t\tconsole.log(`Added ${newItems.length} more options to dropdown`);\n\t}\n\n\t/**\n\t * ========================================================================\n\t * INITIALIZATION METHODS\n\t * ========================================================================\n\t */\n\n\t/**\n\t * Main setup method called after data is loaded\n\t */\n\tprivate _setupComponent() {\n\t\tthis._initializeOptionsHtml();\n\t\tthis._createHtmlStructure();\n\t\tthis._setupElementReferences();\n\n\t\t// Initialize focus manager after dropdown element is created\n\t\tthis._focusManager = new FocusManager(this._dropdownContentElement);\n\n\t\t// Initialize combobox module if in combobox mode\n\t\tif (this._config.mode === 'combobox') {\n\t\t\tthis._comboboxModule = new KTSelectCombobox(this);\n\t\t\tconsole.log('Combobox module initialized');\n\t\t}\n\n\t\t// Initialize tags module if in tags mode\n\t\tif (this._config.mode === 'tags') {\n\t\t\tthis._tagsModule = new KTSelectTags(this);\n\t\t\tconsole.log('Tags module initialized');\n\t\t}\n\n\t\t// Only attach event listeners after combobox is initialized\n\t\tthis._attachEventListeners();\n\n\t\tthis._initializeSearchModule();\n\t\tthis._updateDisplayAndAriaAttributes();\n\t\tthis._applyInitialDisabledState();\n\t\tthis._preSelectOptions(this._element);\n\t\tthis._initZIndex();\n\t\tthis._addInitializationFlag();\n\t\tthis._addKeyboardNavigationStyles();\n\t}\n\n\t/**\n\t * Initialize options HTML from data\n\t */\n\tprivate _initializeOptionsHtml() {\n\t\tthis._generateOptionsHtml(this._element);\n\t}\n\n\t/**\n\t * Creates the HTML structure for the select component\n\t */\n\tprivate _createHtmlStructure() {\n\t\tconst options = Array.from(this._element.querySelectorAll('option'));\n\t\tconsole.log('Options found:', options.length, options.map(opt => opt.textContent));\n\n\t\tconst theme = Templates.getTheme();\n\n\t\t// Create wrapper and display elements\n\t\tconst wrapperElement = defaultTemplates.main(this._config, theme);\n\t\tconst displayElement = defaultTemplates.display(this._config, theme);\n\n\t\t// Add the display element to the wrapper\n\t\twrapperElement.appendChild(displayElement);\n\n\t\t// Create an empty dropdown first (without options)\n\t\tconst dropdownElement = document.createElement('div');\n\t\tdropdownElement.setAttribute('data-kt-select-dropdown-content', '');\n\t\tdropdownElement.className = `${theme.dropdown} hidden`;\n\n\t\tif (this._config.dropdownZindex) {\n\t\t\tdropdownElement.style.zIndex = this._config.dropdownZindex.toString();\n\t\t}\n\n\t\t// Add search input if needed\n\t\tconst isCombobox = this._config.mode === 'combobox';\n\t\tconst hasSearch = this._config.enableSearch && !isCombobox;\n\n\t\tif (hasSearch) {\n\t\t\tconst searchElement = defaultTemplates.search(this._config, theme);\n\t\t\tdropdownElement.appendChild(searchElement);\n\t\t}\n\n\t\t// Create options container\n\t\tconst optionsContainer = document.createElement('ul');\n\t\toptionsContainer.setAttribute('role', 'listbox');\n\t\toptionsContainer.setAttribute('aria-label', this._config.label || 'Options');\n\t\toptionsContainer.setAttribute('data-kt-select-options-container', '');\n\t\toptionsContainer.style.maxHeight = `${this._config.height}px`;\n\t\toptionsContainer.style.overflowY = 'auto';\n\n\t\t// Add each option directly to the container\n\t\toptions.forEach(optionElement => {\n\t\t\t// Skip empty placeholder options (only if BOTH value AND text are empty)\n\t\t\t// This allows options with empty value but visible text to display in dropdown\n\t\t\tif (optionElement.value === '' && optionElement.textContent.trim() === '') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Create new KTSelectOption instance for each option\n\t\t\tconst selectOption = new KTSelectOption(optionElement, this._config);\n\t\t\tconst renderedOption = selectOption.render();\n\n\t\t\t// Append directly to options container\n\t\t\toptionsContainer.appendChild(renderedOption);\n\t\t});\n\n\t\t// Add options container to dropdown\n\t\tdropdownElement.appendChild(optionsContainer);\n\n\t\t// Add dropdown to wrapper\n\t\twrapperElement.appendChild(dropdownElement);\n\n\t\t// Insert after the original element\n\t\tthis._element.after(wrapperElement);\n\t\tthis._element.style.display = 'none';\n\n\t\t// Add CSS for keyboard navigation\n\t\tthis._addKeyboardNavigationStyles();\n\t}\n\n\t/**\n\t * Add CSS styles for keyboard navigation\n\t */\n\tprivate _addKeyboardNavigationStyles() {\n\t\t// Check if styles already exist\n\t\tif (document.getElementById('kt-select-keyboard-styles')) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Create style element\n\t\tconst style = document.createElement('style');\n\t\tstyle.id = 'kt-select-keyboard-styles';\n\t\t// TODO: Styles will be moved to the component's CSS file\n\t\tstyle.textContent = `\n\t\t\t[data-kt-select-option].hovered,\n\t\t\t[data-kt-select-option].option-focused {\n\t\t\t\tbackground-color: #f3f4f6;\n\t\t\t\tcursor: pointer;\n\t\t\t}\n\t\t\t.dark [data-kt-select-option].hovered,\n\t\t\t.dark [data-kt-select-option].option-focused {\n\t\t\t\tbackground-color: #374151;\n\t\t\t}\n\t\t\t[data-kt-select-option].option-focused {\n\t\t\t\toutline: 2px solid #e5e7eb;\n\t\t\t}\n\t\t\t.dark [data-kt-select-option].option-focused {\n\t\t\t\toutline: 2px solid #4b5563;\n\t\t\t}\n\n\t\t\t/* Style for selected option */\n\t\t\t[data-kt-select-option].selected {\n\t\t\t\tbackground-color: #e5e7eb;\n\t\t\t\tfont-weight: 500;\n\t\t\t}\n\t\t\t.dark [data-kt-select-option].selected {\n\t\t\t\tbackground-color: #4b5563;\n\t\t\t}\n\n\t\t\t/* Combined styles for both focused and selected */\n\t\t\t[data-kt-select-option].option-focused.selected {\n\t\t\t\tbackground-color: #dbeafe;\n\t\t\t\toutline: 2px solid #bfdbfe;\n\t\t\t}\n\t\t\t.dark [data-kt-select-option].option-focused.selected {\n\t\t\t\tbackground-color: #1e40af;\n\t\t\t\toutline: 2px solid #3b82f6;\n\t\t\t}\n\t\t`;\n\t\tdocument.head.appendChild(style);\n\t}\n\n\t/**\n\t * Setup all element references after DOM is created\n\t */\n\tprivate _setupElementReferences() {\n\t\tthis._wrapperElement = this._element.nextElementSibling as HTMLElement;\n\n\t\t// Get display element\n\t\tthis._displayElement = this._wrapperElement.querySelector(\n\t\t\t`[data-kt-select-display]`\n\t\t) as HTMLElement;\n\n\t\t// Get dropdown content element - this is critical for dropdown functionality\n\t\tthis._dropdownContentElement = this._wrapperElement.querySelector(\n\t\t\t`[data-kt-select-dropdown-content]`\n\t\t) as HTMLElement;\n\n\t\tif (!this._dropdownContentElement) {\n\t\t\tconsole.error('Dropdown content element not found', this._wrapperElement);\n\t\t}\n\n\t\t// Get search input element - this is used for the search functionality\n\t\t// First check if it's in dropdown, then check if it's in display (for combobox)\n\t\tthis._searchInputElement = this._dropdownContentElement.querySelector(\n\t\t\t`[data-kt-select-search]`\n\t\t) as HTMLInputElement;\n\n\t\t// If not found in dropdown, check if it's the display element itself (for combobox)\n\t\tif (!this._searchInputElement && this._config.mode === 'combobox') {\n\t\t\tthis._searchInputElement = this._displayElement as HTMLInputElement;\n\t\t}\n\n\t\tconsole.log('Search input found:', this._searchInputElement ? 'Yes' : 'No',\n\t\t\t'Mode:', this._config.mode,\n\t\t\t'EnableSearch:', this._config.enableSearch);\n\n\t\tthis._valueDisplayElement = this._wrapperElement.querySelector(\n\t\t\t`[data-kt-select-value]`\n\t\t) as HTMLElement;\n\n\t\tthis._options = this._wrapperElement.querySelectorAll(\n\t\t\t`[data-kt-select-option]`\n\t\t) as NodeListOf<HTMLElement>;\n\t}\n\n\t/**\n\t * Attach all event listeners to elements\n\t */\n\tprivate _attachEventListeners() {\n\t\t// Document level event listeners\n\t\tdocument.addEventListener('click', this._handleDocumentClick.bind(this));\n\t\tdocument.addEventListener('keydown', this._handleEscKey.bind(this));\n\n\t\t// Dropdown option click events\n\t\tthis._eventManager.addListener(\n\t\t\tthis._dropdownContentElement,\n\t\t\t'click',\n\t\t\tthis._handleDropdownOptionClick.bind(this)\n\t\t);\n\n\t\t// Only attach click handler to display element\n\t\tthis._eventManager.addListener(\n\t\t\tthis._displayElement,\n\t\t\t'click',\n\t\t\tthis._handleDropdownClick.bind(this)\n\t\t);\n\n\t\t// Only attach keyboard navigation to display element if NOT in combobox mode\n\t\t// This prevents conflicts with the combobox module's keyboard handler\n\t\tif (this._config.mode !== 'combobox') {\n\t\t\tconsole.log('Attaching keyboard navigation to display element (non-combobox mode)');\n\t\t\tthis._eventManager.addListener(\n\t\t\t\tthis._displayElement,\n\t\t\t\t'keydown',\n\t\t\t\tthis._handleDropdownKeyDown.bind(this)\n\t\t\t);\n\t\t}\n\t}\n\n\t/**\n\t * Initialize search module if search is enabled\n\t */\n\tprivate _initializeSearchModule() {\n\t\tif (this._config.enableSearch) {\n\t\t\tthis._searchModule = new KTSelectSearch(this);\n\t\t\tthis._searchModule.init();\n\n\t\t\t// If remote search is enabled, add event listener for search input\n\t\t\tif (this._config.remote && this._config.searchParam && this._searchInputElement) {\n\t\t\t\tthis._searchInputElement.addEventListener('input', this._handleRemoteSearch.bind(this));\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Apply ARIA attributes and update display\n\t */\n\tprivate _updateDisplayAndAriaAttributes() {\n\t\tthis.updateSelectedOptionDisplay();\n\t\tthis._setAriaAttributes();\n\t}\n\n\t/**\n\t * Apply initial disabled state if configured\n\t */\n\tprivate _applyInitialDisabledState() {\n\t\tif (this._config.disabled) {\n\t\t\tthis.getElement().classList.add('disabled');\n\t\t\tthis.getElement().setAttribute('disabled', 'disabled');\n\t\t\tthis._wrapperElement.classList.add('disabled');\n\t\t}\n\t}\n\n\t/**\n\t * Add initialization flag to mark component as initialized\n\t */\n\tprivate _addInitializationFlag() {\n\t\tthis._wrapperElement.classList.add('select-initialized');\n\t}\n\n\t/**\n\t * Generate options HTML from data items\n\t */\n\tprivate _generateOptionsHtml(element: HTMLElement) {\n\t\tconst items = this._state.getItems() || [];\n\n\t\tconsole.log(`Generating options HTML from ${items.length} items`);\n\n\t\t// Only modify options if we have items to replace them with\n\t\tif (items && items.length > 0) {\n\t\t\t// Clear existing options except the first empty one\n\t\t\tconst options = element.querySelectorAll('option:not(:first-child)');\n\t\t\toptions.forEach(option => option.remove());\n\n\t\t\t// Generate options from data\n\t\t\titems.forEach(item => {\n\t\t\t\tconst optionElement = document.createElement('option');\n\n\t\t\t\t// Get value - use item.id directly if available, otherwise try dataValueField\n\t\t\t\tlet value = '';\n\t\t\t\tif (item.id !== undefined) {\n\t\t\t\t\tvalue = String(item.id);\n\t\t\t\t} else if (this._config.dataValueField) {\n\t\t\t\t\tconst extractedValue = this._getValueByKey(item, this._config.dataValueField);\n\t\t\t\t\tvalue = extractedValue !== null ? String(extractedValue) : '';\n\t\t\t\t}\n\n\t\t\t\t// Get label - use item.title directly if available, otherwise try dataFieldText\n\t\t\t\tlet label = '';\n\t\t\t\tif (item.title !== undefined) {\n\t\t\t\t\tlabel = String(item.title);\n\t\t\t\t} else if (this._config.dataFieldText) {\n\t\t\t\t\tconst extractedLabel = this._getValueByKey(item, this._config.dataFieldText);\n\t\t\t\t\tlabel = extractedLabel !== null ? String(extractedLabel) : 'Unnamed option';\n\t\t\t\t}\n\n\t\t\t\t// Get description - skip if null, undefined, or \"null\" string\n\t\t\t\tlet description = null;\n\t\t\t\tif (item.description !== undefined && item.description !== null &&\n\t\t\t\t\tString(item.description) !== 'null' && String(item.description) !== 'undefined') {\n\t\t\t\t\tdescription = String(item.description);\n\t\t\t\t} else if (this._config.dataFieldDescription) {\n\t\t\t\t\tconst extractedDesc = this._getValueByKey(item, this._config.dataFieldDescription);\n\t\t\t\t\tif (extractedDesc !== null && extractedDesc !== undefined &&\n\t\t\t\t\t\tString(extractedDesc) !== 'null' && String(extractedDesc) !== 'undefined') {\n\t\t\t\t\t\tdescription = String(extractedDesc);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Get icon - skip if null, undefined, or \"null\" string\n\t\t\t\tlet icon = null;\n\t\t\t\tif (item.icon !== undefined && item.icon !== null &&\n\t\t\t\t\tString(item.icon) !== 'null' && String(item.icon) !== 'undefined') {\n\t\t\t\t\ticon = String(item.icon);\n\t\t\t\t} else if (this._config.dataFieldIcon) {\n\t\t\t\t\tconst extractedIcon = this._getValueByKey(item, this._config.dataFieldIcon);\n\t\t\t\t\tif (extractedIcon !== null && extractedIcon !== undefined &&\n\t\t\t\t\t\tString(extractedIcon) !== 'null' && String(extractedIcon) !== 'undefined') {\n\t\t\t\t\t\ticon = String(extractedIcon);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Log the extracted values for debugging\n\t\t\t\tconsole.log(`Option: value=${value}, label=${label}, desc=${description ? description : 'none'}, icon=${icon ? icon : 'none'}`);\n\n\t\t\t\t// Set option attributes\n\t\t\t\toptionElement.value = value;\n\t\t\t\toptionElement.textContent = label || 'Unnamed option';\n\n\t\t\t\tif (description) {\n\t\t\t\t\toptionElement.setAttribute(\n\t\t\t\t\t\t'data-kt-select-option-description',\n\t\t\t\t\t\tdescription\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\tif (icon) {\n\t\t\t\t\toptionElement.setAttribute(\n\t\t\t\t\t\t'data-kt-select-option-icon',\n\t\t\t\t\t\ticon\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\tif (item.selected) {\n\t\t\t\t\toptionElement.setAttribute('selected', 'selected');\n\t\t\t\t}\n\n\t\t\t\telement.appendChild(optionElement);\n\t\t\t});\n\n\t\t\tconsole.log(`Added ${items.length} options to select element`);\n\t\t} else {\n\t\t\tconsole.log('No items to generate options from');\n\t\t}\n\t}\n\n\t/**\n\t * Extract nested property value from object using dot notation\n\t */\n\tprivate _getValueByKey(obj: any, key: string): any {\n\t\tif (!key || !obj) return null;\n\n\t\t// Use reduce to walk through the object by splitting the key on dots\n\t\tconst result = key\n\t\t\t.split('.')\n\t\t\t.reduce((o, k) => (o && o[k] !== undefined ? o[k] : null), obj);\n\n\t\tconsole.log(`Extracting [${key}] from object => ${result !== null ? JSON.stringify(result) : 'null'}`);\n\t\treturn result;\n\t}\n\n\t/**\n\t * Pre-select options that have the selected attribute\n\t */\n\tprivate _preSelectOptions(element: HTMLElement) {\n\t\t// Handle options with selected attribute\n\t\tArray.from(element.querySelectorAll('option[selected]')).forEach(\n\t\t\t(option) => {\n\t\t\t\tconst value = (option as HTMLOptionElement).value;\n\t\t\t\tthis._selectOption(value);\n\t\t\t}\n\t\t);\n\n\t\t// Handle data-kt-select-pre-selected attribute for React compatibility\n\t\tconst preSelectedValues = element.getAttribute('data-kt-select-pre-selected');\n\t\tif (preSelectedValues) {\n\t\t\tconst values = preSelectedValues.split(',').map(v => v.trim());\n\t\t\tvalues.forEach(value => {\n\t\t\t\tif (value) {\n\t\t\t\t\tthis._selectOption(value);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\t/**\n\t * Set appropriate z-index for dropdown\n\t */\n\tprivate _initZIndex() {\n\t\tlet zindex: number = this._config.dropdownZindex as number;\n\t\tif (\n\t\t\tparseInt(KTDom.getCssProp(this._dropdownContentElement, 'z-index')) >\n\t\t\tzindex\n\t\t) {\n\t\t\tzindex = parseInt(\n\t\t\t\tKTDom.getCssProp(this._dropdownContentElement, 'z-index')\n\t\t\t);\n\t\t}\n\t\tif (KTDom.getHighestZindex(this._wrapperElement) > zindex) {\n\t\t\tzindex = KTDom.getHighestZindex(this._wrapperElement) + 1;\n\t\t}\n\t\tthis._dropdownContentElement.style.zIndex = String(zindex);\n\t}\n\n\t/**\n\t * ========================================================================\n\t * DROPDOWN MANAGEMENT\n\t * ========================================================================\n\t */\n\n\t/**\n\t * Toggle dropdown visibility\n\t */\n\tpublic toggleDropdown() {\n\t\tthis._dropdownIsOpen ? this.closeDropdown() : this.openDropdown();\n\t}\n\n\t/**\n\t * Open the dropdown\n\t */\n\tpublic openDropdown() {\n\t\tif (this._config.disabled || this._dropdownIsOpen) return;\n\n\t\tconsole.log('Opening dropdown', this._dropdownContentElement);\n\t\tthis._dropdownContentElement.classList.remove('hidden');\n\t\tthis._dropdownIsOpen = true;\n\t\tthis._setAriaAttributes();\n\n\t\t// Make sure all options are visible when opening the dropdown\n\t\tthis.showAllOptions();\n\n\t\t// Reset search input if exists\n\t\tif (this._searchInputElement && this._config.mode !== 'combobox') {\n\t\t\tthis._searchInputElement.value = '';\n\t\t\t// If we have a search module, clear any search filtering\n\t\t\tif (this._searchModule) {\n\t\t\t\tthis._searchModule.clearSearchHighlights();\n\t\t\t}\n\t\t}\n\n\t\t// For combobox mode, ensure the input value matches the current selection\n\t\tif (this._config.mode === 'combobox' && this._comboboxModule) {\n\t\t\tthis._comboboxModule.resetInputValueToSelection();\n\t\t}\n\n\t\t// Focus on the first selected option if any, otherwise reset focus\n\t\tthis._focusedOptionIndex = null;\n\t\tthis._focusSelectedOption();\n\n\t\tthis._dispatchEvent('dropdown.show');\n\t\tthis._fireEvent('dropdown.show');\n\t}\n\n\t/**\n\t * Focus on the first selected option if any exists in the dropdown\n\t */\n\tprivate _focusSelectedOption() {\n\t\t// Get selected options\n\t\tconst selectedOptions = this.getSelectedOptions();\n\t\tif (selectedOptions.length === 0) return;\n\n\t\t// Get the first selected option element\n\t\tconst firstSelectedValue = selectedOptions[0];\n\n\t\t// Use the FocusManager to focus on the option\n\t\tthis._focusManager.focusOptionByValue(firstSelectedValue);\n\t}\n\n\t/**\n\t * Close the dropdown\n\t */\n\tpublic closeDropdown() {\n\t\tif (!this._dropdownIsOpen) return;\n\n\t\tconsole.log('Closing dropdown', this._dropdownContentElement);\n\t\tthis._dropdownContentElement.classList.add('hidden');\n\t\tthis._dropdownIsOpen = false;\n\t\tthis._setAriaAttributes();\n\n\t\tthis._dispatchEvent('dropdown.close');\n\t\tthis._fireEvent('dropdown.close');\n\t}\n\n\t/**\n\t * Update the dropdown's position to ensure it's visible\n\t */\n\tpublic updateDropdownPosition() {\n\t\t// Implementation pending\n\t}\n\n\t/**\n\t * ========================================================================\n\t * SELECTION MANAGEMENT\n\t * ========================================================================\n\t */\n\n\t/**\n\t * Handle option selection\n\t */\n\tprivate _selectOption(value: string) {\n\t\tif (this._config.multiple) {\n\t\t\tif (\n\t\t\t\tthis._config.maxSelections !== null &&\n\t\t\t\tthis._state.getSelectedOptions().length >= this._config.maxSelections &&\n\t\t\t\t!this._state.isSelected(value) // Only prevent if the option isn't already selected\n\t\t\t) {\n\t\t\t\treturn; // Prevent further selections\n\t\t\t}\n\t\t\tthis._state.toggleSelectedOptions(value);\n\t\t} else {\n\t\t\tthis._state.setSelectedOptions(value);\n\t\t}\n\n\t\tthis.updateSelectedOptionDisplay();\n\t\tthis._updateSelectedOptionClass(); // Update the selected class after selection\n\n\t\t// Dispatch change event\n\t\tthis._dispatchEvent('change');\n\n\t\t// Add a custom event that bubbles up to the original element for test integration\n\t\tconst changeEvent = new CustomEvent('ktselect.change', {\n\t\t\tbubbles: true,\n\t\t\tdetail: {\n\t\t\t\tvalue: this.getSelectedOptions()\n\t\t\t}\n\t\t});\n\t\tthis.getElement().dispatchEvent(changeEvent);\n\n\t\tthis._fireEvent('change');\n\t}\n\n\t/**\n\t * Update selected option display value\n\t */\n\tpublic updateSelectedOptionDisplay() {\n\t\tconst selectedOptions = this.getSelectedOptions();\n\n\t\tif (this._config.renderSelected) {\n\t\t\t// Use the custom renderSelected function if provided\n\t\t\tthis._updateValueDisplay(this._config.renderSelected(selectedOptions));\n\t\t} else {\n\t\t\tif (selectedOptions.length === 0) {\n\t\t\t\tif (this._config.mode !== 'combobox') {\n\t\t\t\t\tthis._updateValueDisplay(this._config.placeholder); // Use innerHTML for placeholder\n\t\t\t\t}\n\t\t\t} else if (this._config.multiple) {\n\t\t\t\tif (this._config.mode === 'tags') {\n\t\t\t\t\t// Use the tags module to render selected options as tags\n\t\t\t\t\tif (this._tagsModule) {\n\t\t\t\t\t\tthis._tagsModule.updateTagsDisplay(selectedOptions);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// Fallback if tags module not initialized for some reason\n\t\t\t\t\t\tthis._updateValueDisplay(selectedOptions.join(', '));\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// Render as comma-separated values\n\t\t\t\t\tconst displayText = selectedOptions\n\t\t\t\t\t\t.map((option) => this._getOptionInnerHtml(option) || '')\n\t\t\t\t\t\t.join(', ');\n\t\t\t\t\tthis._updateValueDisplay(displayText);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tconst selectedOption = selectedOptions[0];\n\t\t\t\tif (selectedOption) {\n\t\t\t\t\tconst selectedText = this._getOptionInnerHtml(selectedOption);\n\t\t\t\t\tthis._updateValueDisplay(selectedText);\n\n\t\t\t\t\t// Update combobox input value if in combobox mode\n\t\t\t\t\tif (this._config.mode === 'combobox' && this._comboboxModule) {\n\t\t\t\t\t\tthis._comboboxModule.updateSelectedValue(selectedText);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthis._updateValueDisplay(this._config.placeholder);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Update any debug display boxes if they exist\n\t\tthis._updateDebugDisplays();\n\t}\n\n\t/**\n\t * Update the value display element\n\t */\n\tprivate _updateValueDisplay(value: string) {\n\t\tif (this._config.mode === 'combobox') {\n\t\t\t// For combobox, we only update the hidden value element, not the input\n\t\t\t// The combobox module will handle updating the input value\n\t\t\tif (!this._comboboxModule) {\n\t\t\t\t(this._valueDisplayElement as HTMLInputElement).value = value;\n\t\t\t}\n\t\t} else {\n\t\t\tthis._valueDisplayElement.innerHTML = value;\n\t\t}\n\t}\n\n\t/**\n\t * Update debug displays if present\n\t */\n\tprivate _updateDebugDisplays() {\n\t\t// Check if we're in a test environment with debug boxes\n\t\tconst selectId = this.getElement().id;\n\t\tif (selectId) {\n\t\t\tconst debugElement = document.getElementById(`${selectId}-value`);\n\t\t\tif (debugElement) {\n\t\t\t\tconst selectedOptions = this.getSelectedOptions();\n\n\t\t\t\t// Format display based on selection mode\n\t\t\t\tif (this._config.multiple) {\n\t\t\t\t\t// For multiple selection, show comma-separated list\n\t\t\t\t\tdebugElement.textContent = selectedOptions.length > 0 ?\n\t\t\t\t\t\tselectedOptions.join(', ') : 'None';\n\t\t\t\t} else {\n\t\t\t\t\t// For single selection, show just the one value\n\t\t\t\t\tdebugElement.textContent = selectedOptions.length > 0 ?\n\t\t\t\t\t\tselectedOptions[0] : 'None';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Get option inner HTML content by option value\n\t */\n\tprivate _getOptionInnerHtml(optionValue: string) {\n\t\tconst option = Array.from(this._options).find(\n\t\t\t(opt) => opt.dataset.value === optionValue\n\t\t);\n\t\tif (this._config.mode == 'combobox') {\n\t\t\treturn option.textContent;\n\t\t}\n\t\treturn option.innerHTML; // Get the entire HTML content of the option\n\t}\n\n\t/**\n\t * Update CSS classes for selected options\n\t */\n\tprivate _updateSelectedOptionClass() {\n\t\tconst selectedOptions = this._state.getSelectedOptions();\n\n\t\t// Remove 'selected' class from all options\n\t\tthis._options.forEach((option) => {\n\t\t\toption.classList.remove('selected');\n\t\t});\n\n\t\t// Add 'selected' class to the selected options\n\t\tselectedOptions.forEach((value) => {\n\t\t\tconst option = Array.from(this._options).find(\n\t\t\t\t(opt) => opt.dataset.value === value\n\t\t\t);\n\t\t\tif (option) {\n\t\t\t\toption.classList.add('selected');\n\t\t\t}\n\t\t});\n\t}\n\n\t/**\n\t * Clear all selected options\n\t */\n\tpublic clearSelection() {\n\t\t// Clear the current selection\n\t\tthis._state.setSelectedOptions([]);\n\t\tthis.updateSelectedOptionDisplay();\n\t\tthis._updateSelectedOptionClass();\n\n\t\t// For combobox, also clear the input value\n\t\tif (this._config.mode === 'combobox') {\n\t\t\tif (this._searchInputElement) {\n\t\t\t\tthis._searchInputElement.value = '';\n\t\t\t}\n\n\t\t\t// If combobox has a clear button, hide it\n\t\t\tif (this._comboboxModule) {\n\t\t\t\t// The combobox module will handle hiding the clear button\n\t\t\t\tthis._comboboxModule.resetInputValueToSelection();\n\t\t\t}\n\t\t}\n\n\t\t// Dispatch change event\n\t\tthis._dispatchEvent('change');\n\t\tthis._fireEvent('change');\n\t}\n\n\t/**\n\t * Set selected options programmatically\n\t */\n\tpublic setSelectedOptions(options: HTMLOptionElement[]) {\n\t\tconst values = Array.from(options).map((option) => option.value);\n\t\tthis._state.setSelectedOptions(values);\n\t}\n\n\t/**\n\t * ========================================================================\n\t * KEYBOARD NAVIGATION\n\t * ========================================================================\n\t */\n\n\t/**\n\t * Handle dropdown key down events for keyboard navigation\n\t * Only used for standard (non-combobox) dropdowns\n\t */\n\tprivate _handleDropdownKeyDown(event: KeyboardEvent) {\n\t\t// Log event for debugging\n\t\tconsole.log('Standard dropdown keydown:', event.key);\n\n\t\t// Use the shared handler\n\t\thandleDropdownKeyNavigation(\n\t\t\tevent,\n\t\t\tthis,\n\t\t\t{\n\t\t\t\tmultiple: this._config.multiple,\n\t\t\t\tcloseOnSelect: this._config.closeOnSelect\n\t\t\t}\n\t\t);\n\t}\n\n\t/**\n\t * Focus next option in dropdown\n\t */\n\tprivate _focusNextOption(): Element | null {\n\t\treturn this._focusManager.focusNext();\n\t}\n\n\t/**\n\t * Focus previous option in dropdown\n\t */\n\tprivate _focusPreviousOption(): Element | null {\n\t\treturn this._focusManager.focusPrevious();\n\t}\n\n\t/**\n\t * Apply hover/focus state to focused option\n\t */\n\tprivate _hoverFocusedOption(option: Element) {\n\t\tthis._focusManager.applyFocus(option as HTMLElement);\n\t}\n\n\t/**\n\t * Scroll option into view when navigating\n\t */\n\tprivate _scrollOptionIntoView(option: Element) {\n\t\tthis._focusManager.scrollIntoView(option as HTMLElement);\n\t}\n\n\t/**\n\t * Select the currently focused option\n\t */\n\tpublic selectFocusedOption() {\n\t\tconst focusedOption = this._focusManager.getFocusedOption();\n\n\t\tif (focusedOption) {\n\t\t\tconst selectedValue = focusedOption.dataset.value;\n\n\t\t\t// Extract just the title text, not including description\n\t\t\tlet selectedText = '';\n\t\t\tconst titleElement = focusedOption.querySelector('.option-title');\n\t\t\tif (titleElement) {\n\t\t\t\t// If it has a structured content with title element\n\t\t\t\tselectedText = titleElement.textContent?.trim() || '';\n\t\t\t} else {\n\t\t\t\t// Fallback to the whole text content\n\t\t\t\tselectedText = focusedOption.textContent?.trim() || '';\n\t\t\t}\n\n\t\t\t// First trigger the selection to ensure state is updated properly\n\t\t\tif (selectedValue) {\n\t\t\t\tthis._selectOption(selectedValue);\n\t\t\t}\n\n\t\t\t// For combobox mode, update input value AFTER selection to ensure consistency\n\t\t\tif (this._config.mode === 'combobox' && this._comboboxModule) {\n\t\t\t\tthis._comboboxModule.updateSelectedValue(selectedText);\n\t\t\t\t// Also directly update the input value for immediate visual feedback\n\t\t\t\tif (this._searchInputElement) {\n\t\t\t\t\tthis._searchInputElement.value = selectedText;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * ========================================================================\n\t * COMBOBOX SPECIFIC METHODS\n\t * ========================================================================\n\t */\n\n\t/**\n\t * Handle combobox input events\n\t */\n\tprivate _handleComboboxInput(event: Event) {\n\t\tif (this._comboboxModule) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst inputElement = event.target as HTMLInputElement;\n\t\tconst query = inputElement.value.toLowerCase();\n\n\t\t// If dropdown isn't open, open it when user starts typing\n\t\tif (!this._dropdownIsOpen) {\n\t\t\tthis.openDropdown();\n\t\t}\n\n\t\t// Filter options based on input\n\t\tthis._filterOptionsForCombobox(query);\n\t}\n\n\t/**\n\t * Filter options for combobox based on input query\n\t * Uses the shared filterOptions function\n\t */\n\tprivate _filterOptionsForCombobox(query: string) {\n\t\tconst options = Array.from(\n\t\t\tthis._dropdownContentElement.querySelectorAll('[data-kt-select-option]')\n\t\t) as HTMLElement[];\n\n\t\tfilterOptions(\n\t\t\toptions,\n\t\t\tquery,\n\t\t\tthis._config,\n\t\t\tthis._dropdownContentElement\n\t\t);\n\t}\n\n\t/**\n\t * ========================================================================\n\t * EVENT HANDLERS\n\t * ========================================================================\n\t */\n\n\t/**\n\t * Handle display element click\n\t */\n\tprivate _handleDropdownClick(event: Event) {\n\t\tconsole.log('Display element clicked', event.target);\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation(); // Prevent event bubbling\n\t\tthis.toggleDropdown();\n\t}\n\n\t/**\n\t * Handle dropdown option click\n\t */\n\tprivate _handleDropdownOptionClick(event: Event) {\n\t\tconst clickedElement = event.target as HTMLElement;\n\n\t\t// Check if the clicked element is an option\n\t\tconst optionElement = clickedElement.matches('[data-kt-select-option]')\n\t\t\t? clickedElement\n\t\t\t: (clickedElement.closest('[data-kt-select-option]') as HTMLElement);\n\t\tif (optionElement) {\n\t\t\tthis._handleOptionClick(optionElement);\n\t\t}\n\t}\n\n\t/**\n\t * Handle option click\n\t */\n\tprivate _handleOptionClick(clickedOption: HTMLElement) {\n\t\tif (!clickedOption.dataset.value || clickedOption.ariaDisabled === 'true')\n\t\t\treturn;\n\n\t\tconst selectedValue = clickedOption.dataset.value;\n\n\t\t// Extract just the title text, not including description\n\t\tlet selectedText = '';\n\t\tconst titleElement = clickedOption.querySelector('.option-title');\n\t\tif (titleElement) {\n\t\t\t// If it has a structured content with title element\n\t\t\tselectedText = titleElement.textContent?.trim() || '';\n\t\t} else {\n\t\t\t// Fallback to the whole text content\n\t\t\tselectedText = clickedOption.textContent?.trim() || '';\n\t\t}\n\n\t\t// First update the selection state\n\t\tthis._selectOption(selectedValue);\n\n\t\t// For combobox mode, update input value AFTER selection to ensure consistency\n\t\tif (this._config.mode === 'combobox' && this._comboboxModule) {\n\t\t\tthis._comboboxModule.updateSelectedValue(selectedText);\n\n\t\t\t// Also directly update the input value for immediate visual feedback\n\t\t\tif (this._searchInputElement) {\n\t\t\t\tthis._searchInputElement.value = selectedText;\n\t\t\t}\n\t\t}\n\n\t\tif (this._config.closeOnSelect && !this._config.multiple) {\n\t\t\tthis.closeDropdown();\n\t\t}\n\t}\n\n\t/**\n\t * Handle document click for closing dropdown\n\t */\n\tprivate _handleDocumentClick(event: MouseEvent) {\n\t\tconst targetElement = event.target as HTMLElement;\n\t\t// Check if the click is outside the dropdown and the display element\n\t\tif (!this._wrapperElement.contains(targetElement)) {\n\t\t\tthis.closeDropdown();\n\t\t}\n\t}\n\n\t/**\n\t * Handle escape key press\n\t */\n\tprivate _handleEscKey(event: KeyboardEvent) {\n\t\tif (event.key === 'Escape' && this._dropdownIsOpen) {\n\t\t\tthis.closeDropdown();\n\t\t}\n\t}\n\n\t/**\n\t * ========================================================================\n\t * ACCESSIBILITY METHODS\n\t * ========================================================================\n\t */\n\n\t/**\n\t * Set ARIA attributes for accessibility\n\t */\n\tprivate _setAriaAttributes() {\n\t\tthis._displayElement.setAttribute(\n\t\t\t'aria-expanded',\n\t\t\tthis._dropdownIsOpen.toString()\n\t\t);\n\t}\n\n\t/**\n\t * Handle focus events\n\t */\n\tprivate _handleFocus() {\n\t\t// Implementation pending\n\t}\n\n\t/**\n\t * Handle blur events\n\t */\n\tprivate _handleBlur() {\n\t\t// Implementation pending\n\t}\n\n\t/**\n\t * ========================================================================\n\t * PUBLIC API\n\t * ========================================================================\n\t */\n\n\t/**\n\t * Get the search input element\n\t */\n\tpublic getSearchInput(): HTMLInputElement {\n\t\treturn this._searchInputElement;\n\t}\n\n\t/**\n\t * Get selected options\n\t */\n\tpublic getSelectedOptions() {\n\t\treturn this._state.getSelectedOptions();\n\t}\n\n\t/**\n\t * Get configuration\n\t */\n\tpublic getConfig(): KTSelectConfigInterface {\n\t\treturn this._config;\n\t}\n\n\t/**\n\t * Get option elements\n\t */\n\tpublic getOptionsElement(): NodeListOf<HTMLElement> {\n\t\treturn this._options;\n\t}\n\n\t/**\n\t * Get dropdown element\n\t */\n\tpublic getDropdownElement() {\n\t\treturn this._dropdownContentElement;\n\t}\n\n\t/**\n\t * Get value display element\n\t */\n\tpublic getValueDisplayElement() {\n\t\treturn this._valueDisplayElement;\n\t}\n\n\t/**\n\t * Show all options in the dropdown\n\t */\n\tpublic showAllOptions() {\n\t\tconst options = Array.from(this.getOptionsElement());\n\t\toptions.forEach(option => {\n\t\t\toption.style.display = 'block';\n\t\t});\n\t}\n\n\t/**\n\t * Toggle multi-select functionality\n\t */\n\tpublic enableMultiSelect() {\n\t\tthis._state.modifyConfig({ multiple: true });\n\t}\n\n\t/**\n\t * Disable multi-select functionality\n\t */\n\tpublic disableMultiSelect() {\n\t\tthis._state.modifyConfig({ multiple: false });\n\t}\n\n\t/**\n\t * Toggle selection of an option\n\t * Used for tags mode to enable removing tags\n\t */\n\tpublic toggleSelection(value: string): void {\n\t\tthis._selectOption(value);\n\t}\n\n\t/**\n\t * Clean up all resources when the component is destroyed\n\t * This overrides the parent dispose method\n\t */\n\tpublic override dispose(): void {\n\t\t// Clean up event listeners\n\t\tthis._eventManager.removeAllListeners(null);\n\n\t\t// Destroy modules\n\t\tif (this._comboboxModule) {\n\t\t\tthis._comboboxModule.destroy();\n\t\t}\n\n\t\tif (this._tagsModule) {\n\t\t\tthis._tagsModule.destroy();\n\t\t}\n\n\t\tif (this._searchModule) {\n\t\t\tthis._searchModule.destroy();\n\t\t}\n\n\t\t// Remove DOM elements\n\t\tif (this._wrapperElement && this._wrapperElement.parentNode) {\n\t\t\tthis._wrapperElement.parentNode.removeChild(this._wrapperElement);\n\t\t}\n\n\t\t// Call parent dispose to clean up data\n\t\tsuper.dispose();\n\t}\n\n\t/**\n\t * ========================================================================\n\t * STATIC METHODS\n\t * ========================================================================\n\t */\n\n\tprivate static readonly _instances = new Map<HTMLElement, KTSelect>();\n\n\t/**\n\t * Create instances of KTSelect for all matching elements\n\t */\n\tpublic static createInstances(): void {\n\t\tconst elements = document.querySelectorAll<HTMLElement>('[data-kt-select]');\n\n\t\telements.forEach((element) => {\n\t\t\tif (\n\t\t\t\telement.hasAttribute('data-kt-select') &&\n\t\t\t\t!element.classList.contains('select-initialized')\n\t\t\t) {\n\t\t\t\tconst instance = new KTSelect(element);\n\t\t\t\tthis._instances.set(element, instance);\n\t\t\t}\n\t\t});\n\t}\n\n\t/**\n\t * Initialize all KTSelect instances\n\t */\n\tpublic static init(): void {\n\t\tKTSelect.createInstances();\n\t}\n\n\t/**\n\t * Handle remote search\n\t * @param event Input event\n\t */\n\tprivate _handleRemoteSearch(event: Event) {\n\t\tif (!this._remoteModule || !this._config.remote || !this._config.searchParam) return;\n\n\t\tconst query = (event.target as HTMLInputElement).value;\n\n\t\t// Check if the query is long enough\n\t\tif (query.length < (this._config.searchMinLength || 0)) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Debounce the search\n\t\tif (this._searchDebounceTimeout) {\n\t\t\tclearTimeout(this._searchDebounceTimeout);\n\t\t}\n\n\t\tthis._searchDebounceTimeout = window.setTimeout(() => {\n\t\t\t// Show loading state\n\t\t\tthis._renderSearchLoadingState();\n\n\t\t\t// Fetch remote data with search query\n\t\t\tthis._remoteModule.fetchData(query)\n\t\t\t\t.then(items => {\n\t\t\t\t\t// Update state with fetched items\n\t\t\t\t\tthis._state.setItems(items)\n\t\t\t\t\t\t.then(() => {\n\t\t\t\t\t\t\t// Update options in the dropdown\n\t\t\t\t\t\t\tthis._updateSearchResults(items);\n\n\t\t\t\t\t\t\t// Refresh the search module's option cache if search is enabled\n\t\t\t\t\t\t\tif (this._searchModule && this._config.enableSearch) {\n\t\t\t\t\t\t\t\tthis._searchModule.refreshOptionCache();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch(error => {\n\t\t\t\t\t\t\tconsole.error('Error updating search results:', error);\n\t\t\t\t\t\t\tthis._renderSearchErrorState(error.message || 'Failed to load search results');\n\t\t\t\t\t\t});\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\tconsole.error('Error fetching search results:', error);\n\t\t\t\t\tthis._renderSearchErrorState(this._remoteModule.getErrorMessage() || 'Failed to load search results');\n\t\t\t\t});\n\t\t}, this._config.searchDebounce || 300);\n\t}\n\n\t// Search debounce timeout\n\tprivate _searchDebounceTimeout: number | null = null;\n\n\t/**\n\t * Render loading state for search\n\t */\n\tprivate _renderSearchLoadingState() {\n\t\tif (!this._dropdownContentElement) return;\n\n\t\tconst optionsContainer = this._dropdownContentElement.querySelector('[data-kt-select-options-container]');\n\t\tif (!optionsContainer) return;\n\n\t\t// Save current options HTML\n\t\tif (!this._originalOptionsHtml) {\n\t\t\tthis._originalOptionsHtml = optionsContainer.innerHTML;\n\t\t}\n\n\t\t// Show loading message\n\t\toptionsContainer.innerHTML = '<div class=\"p-4 text-gray-500\">Searching...</div>';\n\t}\n\n\t// Store original options HTML for restoring after search\n\tprivate _originalOptionsHtml: string | null = null;\n\n\t/**\n\t * Render error state for search\n\t * @param message Error message\n\t */\n\tprivate _renderSearchErrorState(message: string) {\n\t\tif (!this._dropdownContentElement) return;\n\n\t\tconst optionsContainer = this._dropdownContentElement.querySelector('[data-kt-select-options-container]');\n\t\tif (!optionsContainer) return;\n\n\t\t// Show error message\n\t\toptionsContainer.innerHTML = `<div class=\"p-4 text-red-500\">${message}</div>`;\n\t}\n\n\t/**\n\t * Update search results in the dropdown\n\t * @param items Search result items\n\t */\n\tprivate _updateSearchResults(items: KTSelectOptionData[]) {\n\t\tif (!this._dropdownContentElement) return;\n\n\t\tconst optionsContainer = this._dropdownContentElement.querySelector('[data-kt-select-options-container]');\n\t\tif (!optionsContainer) return;\n\n\t\t// Clear current options\n\t\toptionsContainer.innerHTML = '';\n\n\t\tif (items.length === 0) {\n\t\t\t// Show no results message\n\t\t\toptionsContainer.innerHTML = `<div class=\"p-4 text-gray-500\">${this._config.searchNotFoundText || 'No results found'}</div>`;\n\t\t\treturn;\n\t\t}\n\n\t\t// Process each item individually to create options\n\t\titems.forEach(item => {\n\t\t\t// Create option for the original select\n\t\t\tconst selectOption = document.createElement('option');\n\t\t\tselectOption.value = item.id;\n\t\t\tselectOption.textContent = item.title;\n\t\t\tif (item.description) {\n\t\t\t\tselectOption.setAttribute('data-kt-select-option-description', item.description);\n\t\t\t}\n\t\t\tif (item.icon) {\n\t\t\t\tselectOption.setAttribute('data-kt-select-option-icon', item.icon);\n\t\t\t}\n\n\t\t\t// Create option element for the dropdown\n\t\t\tconst ktOption = new KTSelectOption(selectOption, this._config);\n\t\t\tconst renderedOption = ktOption.render();\n\n\t\t\t// Add to dropdown container\n\t\t\toptionsContainer.appendChild(renderedOption);\n\t\t});\n\n\t\t// Add pagination \"Load More\" button if needed\n\t\tif (this._config.pagination && this._remoteModule.hasMorePages()) {\n\t\t\tthis._addLoadMoreButton();\n\t\t}\n\n\t\t// Update options NodeList\n\t\tthis._options = this._wrapperElement.querySelectorAll(\n\t\t\t`[data-kt-select-option]`\n\t\t) as NodeListOf<HTMLElement>;\n\t}\n\n\t/**\n\t * Filter options by query\n\t */\n\tpublic filterOptions(query: string): void {\n\t\tthis._filterOptionsForCombobox(query);\n\t}\n\n\t/**\n\t * Check if dropdown is open\n\t */\n\tpublic isDropdownOpen(): boolean {\n\t\treturn this._dropdownIsOpen;\n\t}\n}\n","import { KTSelectConfigInterface } from './config';\nimport { KTSelect } from './select';\nimport { defaultTemplates, Templates } from './templates';\nimport { EventManager } from './utils';\n\n/**\n * KTSelectTags - Handles tags-specific functionality for KTSelect\n */\nexport class KTSelectTags {\n  private _select: KTSelect;\n  private _config: KTSelectConfigInterface;\n  private _valueDisplayElement: HTMLElement;\n  private _eventManager: EventManager;\n\n  /**\n   * Constructor: Initializes the tags component\n   */\n  constructor(select: KTSelect) {\n    this._select = select;\n    this._config = select.getConfig();\n    this._valueDisplayElement = select.getValueDisplayElement();\n    this._eventManager = new EventManager();\n\n    console.log('KTSelectTags initialized');\n  }\n\n  /**\n   * Update selected tags display\n   * Renders selected options as tags in the display element\n   */\n  public updateTagsDisplay(selectedOptions: string[]): void {\n    // Clear existing content\n    this._valueDisplayElement.innerHTML = '';\n\n    // If no options selected, show placeholder\n    if (selectedOptions.length === 0) {\n      this._valueDisplayElement.textContent = this._config.placeholder || '';\n      return;\n    }\n\n    // Create and append a tag element for each selected option\n    selectedOptions.forEach((optionValue) => {\n      const tagElement = this._createTagElement(optionValue);\n      this._valueDisplayElement.appendChild(tagElement);\n    });\n  }\n\n  /**\n   * Create tag element for a selected option\n   */\n  private _createTagElement(optionValue: string): HTMLElement {\n    const optionLabel = this._getOptionLabel(optionValue);\n    const theme = Templates.getTheme();\n\n    // Create a mock option object to pass to the tag template\n    const mockOption = {\n      id: optionValue,\n      title: optionLabel,\n      selected: true\n    };\n\n    // Use the tag template\n    const tag = defaultTemplates.tag(mockOption, this._config, theme);\n\n    // Add event listener to the close button\n    const closeButton = tag.querySelector(\n      `[data-kt-select-remove-button]`\n    ) as HTMLElement;\n\n    if (closeButton) {\n      this._eventManager.addListener(\n        closeButton,\n        'click',\n        (event: Event) => {\n          event.stopPropagation();\n          this._removeTag(optionValue);\n        }\n      );\n    }\n\n    return tag;\n  }\n\n  /**\n   * Get the label/text for an option by its value\n   */\n  private _getOptionLabel(optionValue: string): string {\n    // First look for an option element in the dropdown with matching value\n    const optionElements = this._select.getOptionsElement();\n    for (const option of Array.from(optionElements)) {\n      if (option.dataset.value === optionValue) {\n        return option.textContent?.trim() || optionValue;\n      }\n    }\n\n    // If not found in dropdown, look in original select element\n    const originalOptions = this._select.getElement().querySelectorAll('option');\n    for (const option of Array.from(originalOptions)) {\n      if (option.value === optionValue) {\n        return option.textContent?.trim() || optionValue;\n      }\n    }\n\n    // If still not found, return the value itself\n    return optionValue;\n  }\n\n  /**\n   * Remove a tag and its selection\n   */\n  private _removeTag(optionValue: string): void {\n    // Delegate to the select component to handle state changes\n    this._select.toggleSelection(optionValue);\n  }\n\n  /**\n   * Clean up resources used by this module\n   */\n  public destroy(): void {\n    this._eventManager.removeAllListeners(null);\n  }\n}","import { KTSelectConfigInterface, KTSelectOption } from \"./config\";\n\n/**\n * Theme configuration for KTSelect component\n * Controls visual appearance through CSS variables, allowing easy customization\n */\nexport interface KTSelectTheme {\n\t// Base container\n\twrapper: string;\n\t// Display (trigger) element\n\tdisplay: string;\n\tdisplayActive: string;\n\tdisplayDisabled: string;\n\t// Dropdown\n\tdropdown: string;\n\tdropdownOpen: string;\n\t// Option elements\n\toption: string;\n\toptionSelected: string;\n\toptionDisabled: string;\n\toptionHighlighted: string;\n\t// Option group\n\toptionGroup: string;\n\toptionGroupHeader: string;\n\t// Search input\n\tsearch: string;\n\tsearchWrapper: string;\n\tsearchHighlight: string;\n\t// Multi-select\n\ttag: string;\n\ttagRemove: string;\n\t// States\n\tloading: string;\n\tnoResults: string;\n}\n\n/**\n * Default theme using Tailwind-compatible classes\n */\nexport const defaultTheme: KTSelectTheme = {\n\t// Base container\n\twrapper: \"relative\",\n\t// Display (trigger) element\n\tdisplay: \"flex items-center justify-between px-3 py-2 border border-gray-300 rounded-md cursor-pointer focus:outline-none focus:ring-2 focus:ring-blue-200 focus:border-blue-400\",\n\tdisplayActive: \"border-blue-400 ring-2 ring-blue-200\",\n\tdisplayDisabled: \"bg-gray-100 opacity-70 cursor-not-allowed\",\n\t// Dropdown\n\tdropdown: \"absolute z-10 mt-1 w-full bg-white border border-gray-300 rounded-md shadow-lg max-h-60 overflow-auto\",\n\tdropdownOpen: \"block\",\n\t// Option elements\n\toption: \"px-3 py-2 cursor-pointer hover:bg-gray-100 flex items-center\",\n\toptionSelected: \"bg-blue-50 font-medium\",\n\toptionDisabled: \"opacity-50 cursor-not-allowed\",\n\toptionHighlighted: \"bg-gray-100\",\n\t// Option group\n\toptionGroup: \"py-1\",\n\toptionGroupHeader: \"px-3 py-1 text-xs font-semibold text-gray-500 uppercase\",\n\t// Search input\n\tsearchWrapper: \"px-3 py-2 border-b border-gray-200\",\n\tsearch: \"w-full border-none focus:outline-none text-sm\",\n\tsearchHighlight: \"bg-yellow-100 font-medium\",\n\t// Multi-select\n\ttag: \"inline-flex items-center bg-blue-50 border border-blue-100 rounded px-2 py-1 text-sm mr-1 mb-1\",\n\ttagRemove: \"ml-1 text-blue-400 hover:text-blue-600 cursor-pointer\",\n\t// States\n\tloading: \"px-3 py-2 text-gray-500 italic\",\n\tnoResults: \"px-3 py-2 text-gray-500\"\n};\n\n/**\n * Template interface for KTSelect component\n * Each method returns an HTML string or HTMLElement\n */\nexport interface KTSelectTemplateInterface {\n\t// Main components\n\tmain: (config: KTSelectConfigInterface, theme: KTSelectTheme) => HTMLElement;\n\tdisplay: (config: KTSelectConfigInterface, theme: KTSelectTheme) => HTMLElement;\n\tdropdown: (config: KTSelectConfigInterface, theme: KTSelectTheme, optionsHtml: string) => HTMLElement;\n\n\t// Option rendering\n\toption: (option: KTSelectOption | HTMLOptionElement, config: KTSelectConfigInterface, theme: KTSelectTheme) => HTMLElement;\n\toptionGroup: (label: string, optionsHtml: string, config: KTSelectConfigInterface, theme: KTSelectTheme) => HTMLElement;\n\n\t// Search and empty states\n\tsearch: (config: KTSelectConfigInterface, theme: KTSelectTheme) => HTMLElement;\n\tnoResults: (config: KTSelectConfigInterface, theme: KTSelectTheme) => HTMLElement;\n\tloading: (config: KTSelectConfigInterface, theme: KTSelectTheme) => HTMLElement;\n\n\t// Multi-select\n\ttag: (option: KTSelectOption, config: KTSelectConfigInterface, theme: KTSelectTheme) => HTMLElement;\n\tselectedDisplay: (selectedOptions: KTSelectOption[], config: KTSelectConfigInterface, theme: KTSelectTheme) => string;\n\n\t// Utility\n\thighlightSearchTerm: (element: HTMLElement, query: string, theme: KTSelectTheme) => HTMLElement;\n}\n\n/**\n * Default templates for KTSelect component\n */\nexport const defaultTemplates: KTSelectTemplateInterface = {\n\t/**\n\t * Renders the main container for the select component\n\t */\n\tmain: (config: KTSelectConfigInterface, theme: KTSelectTheme): HTMLElement => {\n\t\treturn _html`<div data-kt-select-wrapper class=\"${theme.wrapper}\" data-kt-select-mode=\"${config.mode || 'default'}\"></div>`;\n\t},\n\n\t/**\n\t * Renders the display element (trigger) for the select\n\t */\n\tdisplay: (config: KTSelectConfigInterface, theme: KTSelectTheme): HTMLElement => {\n\t\tconst isCombobox = config.mode === 'combobox';\n\n\t\tif (isCombobox) {\n\t\t\treturn _html`\n\t\t\t\t<div class=\"relative flex items-center w-full\">\n\t\t\t\t\t<input\n\t\t\t\t\t\tdata-kt-select-search\n\t\t\t\t\t\tdata-kt-select-display\n\t\t\t\t\t\tdata-kt-select-value\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tclass=\"${theme.display}\"\n\t\t\t\t\t\tplaceholder=\"${config.placeholder || 'Select...'}\"\n\t\t\t\t\t\trole=\"searchbox\"\n\t\t\t\t\t\taria-label=\"${config.label || config.placeholder || 'Select...'}\"\n\t\t\t\t\t\t${config.disabled ? 'disabled' : ''}\n\t\t\t\t\t/>\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tdata-kt-select-clear-button\n\t\t\t\t\t\tclass=\"absolute right-3 hidden text-gray-400 hover:text-gray-600\"\n\t\t\t\t\t\taria-label=\"Clear selection\">\n\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\n\t\t\t\t\t\t\t<line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\"></line>\n\t\t\t\t\t\t\t<line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\"></line>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t`;\n\t\t}\n\n\t\treturn _html`\n\t\t\t<div\n\t\t\t\tdata-kt-select-display\n\t\t\t\tclass=\"${theme.display}\"\n\t\t\t\ttabindex=\"${config.disabled ? '-1' : '0'}\"\n\t\t\t\trole=\"button\"\n\t\t\t\taria-haspopup=\"listbox\"\n\t\t\t\taria-expanded=\"false\"\n\t\t\t\taria-label=\"${config.label || config.placeholder || 'Select...'}\"\n\t\t\t\t${config.disabled ? 'aria-disabled=\"true\"' : ''}\n\t\t\t>\n\t\t\t\t<span data-kt-select-value>${config.placeholder || 'Select...'}</span>\n\t\t\t\t<span data-kt-select-arrow class=\"ml-2\">\n\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\n\t\t\t\t\t\t<polyline points=\"6 9 12 15 18 9\"></polyline>\n\t\t\t\t\t</svg>\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t`;\n\t},\n\n\t/**\n\t * Renders the dropdown content container\n\t */\n\tdropdown: (config: KTSelectConfigInterface, theme: KTSelectTheme, optionsHtml: string): HTMLElement => {\n\t\tconst isCombobox = config.mode === 'combobox';\n\t\tconst hasSearch = config.enableSearch && !isCombobox;\n\n\t\t// First create the dropdown element\n\t\tconst dropdownElement = document.createElement('div');\n\t\tdropdownElement.setAttribute('data-kt-select-dropdown-content', '');\n\t\tdropdownElement.className = `${theme.dropdown} hidden`;\n\n\t\tif (config.dropdownZindex) {\n\t\t\tdropdownElement.style.zIndex = config.dropdownZindex.toString();\n\t\t}\n\n\t\t// Add search input at the top if needed\n\t\tif (hasSearch) {\n\t\t\t// Add the search input directly as the first child\n\t\t\tconst searchElement = defaultTemplates.search(config, theme);\n\t\t\tdropdownElement.appendChild(searchElement);\n\t\t}\n\n\t\t// Add options container\n\t\tconst optionsContainer = document.createElement('ul');\n\t\toptionsContainer.setAttribute('role', 'listbox');\n\t\toptionsContainer.setAttribute('aria-label', config.label || 'Options');\n\t\toptionsContainer.setAttribute('data-kt-select-options-container', '');\n\t\toptionsContainer.style.maxHeight = `${config.height}px`;\n\t\toptionsContainer.style.overflowY = 'auto';\n\t\toptionsContainer.innerHTML = optionsHtml;\n\n\t\t// Add options container as the second child (or first if no search)\n\t\tdropdownElement.appendChild(optionsContainer);\n\n\t\treturn dropdownElement;\n\t},\n\n\t/**\n\t * Renders a single option\n\t */\n\toption: (option: KTSelectOption | HTMLOptionElement, config: KTSelectConfigInterface, theme: KTSelectTheme): HTMLElement => {\n\t\t// Handle both direct KTSelectOption objects and HTMLOptionElements\n\t\tconst isHtmlOption = option instanceof HTMLOptionElement;\n\n\t\tconst value = isHtmlOption ? option.value : (option as KTSelectOption).id;\n\t\tconst text = isHtmlOption ? option.text : (option as KTSelectOption).title;\n\t\tconst disabled = isHtmlOption ? option.disabled : (option as any).disabled === true;\n\t\tconst selected = isHtmlOption ? option.selected : !!(option as KTSelectOption).selected;\n\n\t\t// Get additional data attributes from option\n\t\tconst description = isHtmlOption\n\t\t\t? option.getAttribute('data-kt-select-option-description')\n\t\t\t: (option as KTSelectOption).description;\n\n\t\tconst icon = isHtmlOption\n\t\t\t? option.getAttribute('data-kt-select-option-icon')\n\t\t\t: (option as KTSelectOption).icon;\n\n\t\t// Process icon with width and height if available\n\t\tlet iconHtml = '';\n\t\tif (icon && icon !== 'null' && icon !== 'undefined') {\n\t\t\t// Check if it's an image URL\n\t\t\tif (icon.includes('http') || icon.includes('.')) {\n\t\t\t\tconst imgElement = document.createElement('img');\n\t\t\t\timgElement.src = icon;\n\t\t\t\timgElement.alt = \"Icon\";\n\n\t\t\t\t// Apply default dimensions\n\t\t\t\timgElement.style.width = '24px';\n\t\t\t\timgElement.style.height = '24px';\n\n\t\t\t\t// Override with config values if available\n\t\t\t\tif (config.dataFieldIconWidth) {\n\t\t\t\t\timgElement.style.width = config.dataFieldIconWidth;\n\t\t\t\t}\n\t\t\t\tif (config.dataFieldIconHeight) {\n\t\t\t\t\timgElement.style.height = config.dataFieldIconHeight;\n\t\t\t\t}\n\n\t\t\t\ticonHtml = `<span class=\"option-icon mr-2\">${imgElement.outerHTML}</span>`;\n\t\t\t} else {\n\t\t\t\t// It's HTML content\n\t\t\t\ticonHtml = `<span class=\"option-icon mr-2\">${icon}</span>`;\n\t\t\t}\n\t\t}\n\n\t\t// Build option element with proper accessibility attributes\n\t\treturn _html`\n\t\t\t<li\n\t\t\t\tdata-kt-select-option\n\t\t\t\tdata-value=\"${value}\"\n\t\t\t\tclass=\"${theme.option} ${selected ? theme.optionSelected : ''} ${disabled ? theme.optionDisabled : ''}\"\n\t\t\t\trole=\"option\"\n\t\t\t\t${selected ? 'aria-selected=\"true\"' : 'aria-selected=\"false\"'}\n\t\t\t\t${disabled ? 'aria-disabled=\"true\"' : ''}\n\t\t\t>\n\t\t\t\t${iconHtml ? iconHtml : ''}\n\t\t\t\t<div class=\"option-content\">\n\t\t\t\t\t<div class=\"option-title\">${text}</div>\n\t\t\t\t\t${description && description !== 'null' && description !== 'undefined' ? `<div class=\"option-description text-sm text-gray-500\">${description}</div>` : ''}\n\t\t\t\t</div>\n\t\t\t</li>\n\t\t`;\n\t},\n\n\t/**\n\t * Renders an option group with header\n\t */\n\toptionGroup: (label: string, optionsHtml: string, config: KTSelectConfigInterface, theme: KTSelectTheme): HTMLElement => {\n\t\treturn _html`\n\t\t\t<li role=\"group\" aria-label=\"${label}\" class=\"${theme.optionGroup}\">\n\t\t\t\t<div class=\"${theme.optionGroupHeader}\">${label}</div>\n\t\t\t\t<ul>${optionsHtml}</ul>\n\t\t\t</li>\n\t\t`;\n\t},\n\n\t/**\n\t * Renders the search input\n\t */\n\tsearch: (config: KTSelectConfigInterface, theme: KTSelectTheme): HTMLElement => {\n\t\treturn _html`\n\t\t\t<div class=\"${theme.searchWrapper}\">\n\t\t\t\t<input\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tdata-kt-select-search\n\t\t\t\t\tplaceholder=\"${config.searchPlaceholder || 'Search...'}\"\n\t\t\t\t\tclass=\"${theme.search}\"\n\t\t\t\t\trole=\"searchbox\"\n\t\t\t\t\taria-label=\"${config.searchPlaceholder || 'Search...'}\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t`;\n\t},\n\n\t/**\n\t * Renders the no results message\n\t */\n\tnoResults: (config: KTSelectConfigInterface, theme: KTSelectTheme): HTMLElement => {\n\t\treturn _html`\n\t\t\t<li class=\"${theme.noResults}\" role=\"status\">\n\t\t\t\t${config.searchNotFoundText || 'No results found'}\n\t\t\t</li>\n\t\t`;\n\t},\n\n\t/**\n\t * Renders the loading state\n\t */\n\tloading: (config: KTSelectConfigInterface, theme: KTSelectTheme): HTMLElement => {\n\t\treturn _html`\n\t\t\t<li class=\"${theme.loading}\" role=\"status\" aria-live=\"polite\">\n\t\t\t\tLoading options...\n\t\t\t</li>\n\t\t`;\n\t},\n\n\t/**\n\t * Renders a tag for multi-select\n\t */\n\ttag: (option: KTSelectOption, config: KTSelectConfigInterface, theme: KTSelectTheme): HTMLElement => {\n\t\t// Escape HTML characters for aria-label to prevent HTML injection\n\t\tconst escapeHTML = (str: string) => {\n\t\t\treturn str.replace(/[&<>\"']/g, (match) => {\n\t\t\t\tconst escapeMap: Record<string, string> = {\n\t\t\t\t\t'&': '&amp;',\n\t\t\t\t\t'<': '&lt;',\n\t\t\t\t\t'>': '&gt;',\n\t\t\t\t\t'\"': '&quot;',\n\t\t\t\t\t\"'\": '&#39;'\n\t\t\t\t};\n\t\t\t\treturn escapeMap[match];\n\t\t\t});\n\t\t};\n\n\t\t// Ensure we have plain text for the aria-label\n\t\tconst safeTitle = escapeHTML(option.title);\n\n\t\treturn _html`\n\t\t\t<div data-kt-select-tag class=\"${theme.tag}\">\n\t\t\t\t<span>${option.title}</span>\n\t\t\t\t<span\n\t\t\t\t\tdata-kt-select-remove-button\n\t\t\t\t\tdata-value=\"${option.id}\"\n\t\t\t\t\tclass=\"${theme.tagRemove}\"\n\t\t\t\t\trole=\"button\"\n\t\t\t\t\taria-label=\"Remove ${safeTitle}\"\n\t\t\t\t\ttabindex=\"0\"\n\t\t\t\t>\n\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"12\" height=\"12\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\n\t\t\t\t\t\t<line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\"></line>\n\t\t\t\t\t\t<line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\"></line>\n\t\t\t\t\t</svg>\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t`;\n\t},\n\n\t/**\n\t * Formats the display of selected values\n\t */\n\tselectedDisplay: (selectedOptions: KTSelectOption[], config: KTSelectConfigInterface, theme: KTSelectTheme): string => {\n\t\tif (!selectedOptions || selectedOptions.length === 0) {\n\t\t\treturn config.placeholder || 'Select...';\n\t\t}\n\n\t\tif (config.multiple) {\n\t\t\tif (config.renderSelected && typeof config.renderSelected === 'function') {\n\t\t\t\treturn config.renderSelected(selectedOptions);\n\t\t\t}\n\n\t\t\tif (config.showSelectedCount) {\n\t\t\t\tconst count = selectedOptions.length;\n\t\t\t\treturn `${count} ${count === 1 ? 'item' : 'items'} selected`;\n\t\t\t}\n\n\t\t\treturn selectedOptions.map(option => option.title).join(', ');\n\t\t} else {\n\t\t\treturn selectedOptions[0].title;\n\t\t}\n\t},\n\n\t/**\n\t * Highlights search term in an option\n\t */\n\thighlightSearchTerm: (element: HTMLElement, query: string, theme: KTSelectTheme): HTMLElement => {\n\t\tif (!query || query.trim() === '') {\n\t\t\treturn element;\n\t\t}\n\n\t\tconst regex = new RegExp(`(${query.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&')})`, 'gi');\n\n\t\tfunction highlightTextNodes(node: Node) {\n\t\t\tif (node.nodeType === Node.TEXT_NODE) {\n\t\t\t\tconst text = node.nodeValue || '';\n\t\t\t\tif (text.trim() === '') return;\n\n\t\t\t\tconst highlightedText = text.replace(regex, `<span class=\"${theme.searchHighlight}\">$1</span>`);\n\n\t\t\t\tif (highlightedText !== text) {\n\t\t\t\t\tconst tempElement = document.createElement('span');\n\t\t\t\t\ttempElement.innerHTML = highlightedText;\n\t\t\t\t\tnode.parentNode?.replaceChild(tempElement, node);\n\t\t\t\t}\n\t\t\t} else if (node.nodeType === Node.ELEMENT_NODE) {\n\t\t\t\t// Skip elements that already have highlighting\n\t\t\t\tif (node.nodeName === 'SPAN' && (node as HTMLElement).classList.contains(theme.searchHighlight.split(' ')[0])) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// Recursively traverse child nodes\n\t\t\t\tArray.from(node.childNodes).forEach(highlightTextNodes);\n\t\t\t}\n\t\t}\n\n\t\t// Create a clone to avoid modifying the original element\n\t\tconst clonedElement = element.cloneNode(true) as HTMLElement;\n\n\t\t// Process only the text content part of the option\n\t\tconst textContainer = clonedElement.querySelector('.option-title') || clonedElement;\n\t\tArray.from(textContainer.childNodes).forEach(highlightTextNodes);\n\n\t\treturn clonedElement;\n\t}\n};\n\n/**\n * Template registry to store and manage custom templates\n */\nexport class TemplateRegistry {\n\tprivate static _instance: TemplateRegistry;\n\tprivate _templates: Map<string, KTSelectTemplateInterface> = new Map();\n\tprivate _themes: Map<string, KTSelectTheme> = new Map();\n\n\tprivate constructor() {\n\t\t// Initialize with default templates\n\t\tthis._templates.set('default', defaultTemplates);\n\t\tthis._themes.set('default', defaultTheme);\n\t}\n\n\tpublic static getInstance(): TemplateRegistry {\n\t\tif (!TemplateRegistry._instance) {\n\t\t\tTemplateRegistry._instance = new TemplateRegistry();\n\t\t}\n\t\treturn TemplateRegistry._instance;\n\t}\n\n\t/**\n\t * Register a complete template set\n\t */\n\tpublic registerTemplates(name: string, templates: Partial<KTSelectTemplateInterface>): void {\n\t\tconst existing = this.getTemplates('default');\n\t\tthis._templates.set(name, { ...existing, ...templates });\n\t}\n\n\t/**\n\t * Register a single template method\n\t */\n\tpublic registerTemplate(templateSet: string, templateName: keyof KTSelectTemplateInterface, template: any): void {\n\t\tconst templates = this.getTemplates(templateSet);\n\t\tthis._templates.set(templateSet, { ...templates, [templateName]: template });\n\t}\n\n\t/**\n\t * Register a theme\n\t */\n\tpublic registerTheme(name: string, theme: Partial<KTSelectTheme>): void {\n\t\tconst existing = this.getTheme('default');\n\t\tthis._themes.set(name, { ...existing, ...theme });\n\t}\n\n\t/**\n\t * Get a complete template set\n\t */\n\tpublic getTemplates(name: string = 'default'): KTSelectTemplateInterface {\n\t\treturn this._templates.get(name) || defaultTemplates;\n\t}\n\n\t/**\n\t * Get a theme\n\t */\n\tpublic getTheme(name: string = 'default'): KTSelectTheme {\n\t\treturn this._themes.get(name) || defaultTheme;\n\t}\n}\n\n/**\n * Helper function to create HTML elements from template strings\n */\nexport function _html(strings: TemplateStringsArray, ...values: any[]): HTMLElement {\n\tconst template = document.createElement('template');\n\ttemplate.innerHTML = strings.reduce((acc, str, i) => acc + str + (values[i] || ''), '').trim();\n\treturn template.content.firstElementChild as HTMLElement;\n}\n\n// Export the templates registry for ease of use\nexport const Templates = TemplateRegistry.getInstance();","// utils.ts\n\nimport { KTSelect } from './select';\nimport { defaultTemplates, Templates } from './templates';\nimport { KTSelectConfigInterface } from './config';\n\n/**\n * Format a number as a currency string\n */\nexport function formatCurrency(value: number): string {\n\treturn new Intl.NumberFormat('en-US', {\n\t\tstyle: 'currency',\n\t\tcurrency: 'USD'\n\t}).format(value);\n}\n\n/**\n * Filter options based on a search query\n */\nexport function filterOptions(\n\toptions: HTMLElement[],\n\tquery: string,\n\tconfig: KTSelectConfigInterface,\n\tdropdownElement: HTMLElement,\n\tonVisibleCount?: (count: number) => void\n): number {\n\tlet visibleOptionsCount = 0;\n\tconst theme = Templates.getTheme();\n\n\t// Clear existing \"no results\" messages\n\tconst noResultsElement = dropdownElement.querySelector('[data-kt-select-no-results]');\n\tif (noResultsElement) {\n\t\tnoResultsElement.remove();\n\t}\n\n\t// Filter options based on query\n\tfor (const option of options) {\n\t\tconst optionText = option.textContent?.toLowerCase() || '';\n\t\tconst isMatch = optionText.includes(query);\n\n\t\tif (isMatch || query.trim() === '') {\n\t\t\toption.style.display = 'block';\n\t\t\tvisibleOptionsCount++;\n\n\t\t\t// Apply highlighting if needed - but preserve the option structure\n\t\t\tif (isMatch && config.searchHighlight && query.trim() !== '') {\n\t\t\t\t// Clone option elements that contain icons or descriptions\n\t\t\t\tconst hasIcon = option.querySelector('.option-icon') !== null;\n\t\t\t\tconst hasDescription = option.querySelector('.option-description') !== null;\n\n\t\t\t\tif (hasIcon || hasDescription) {\n\t\t\t\t\t// Only highlight the text part without changing structure\n\t\t\t\t\tconst titleElement = option.querySelector('.option-title') as HTMLElement;\n\t\t\t\t\tif (titleElement) {\n\t\t\t\t\t\tconst originalText = titleElement.textContent || '';\n\t\t\t\t\t\thighlightTextInElement(titleElement, query, theme.searchHighlight);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// Simple option with just text - standard highlighting\n\t\t\t\t\thighlightMatchingText(option, query, theme);\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\toption.style.display = 'none';\n\t\t}\n\n\t\t// Early exit if maxItems limit is reached\n\t\tif (config.searchMaxItems && visibleOptionsCount >= config.searchMaxItems) {\n\t\t\tbreak;\n\t\t}\n\t}\n\n\t// Handle \"no results\" state\n\tif (visibleOptionsCount === 0 && query.trim() !== '') {\n\t\tconst noResultsElement = defaultTemplates.noResults(config, theme);\n\t\tnoResultsElement.setAttribute('data-kt-select-no-results', '');\n\n\t\tconst optionsContainer = dropdownElement.querySelector('[data-kt-select-options-container]');\n\t\tif (optionsContainer) {\n\t\t\toptionsContainer.appendChild(noResultsElement);\n\t\t} else {\n\t\t\tdropdownElement.appendChild(noResultsElement);\n\t\t}\n\t}\n\n\t// Call the callback with the visible count if provided\n\tif (onVisibleCount) {\n\t\tonVisibleCount(visibleOptionsCount);\n\t}\n\n\treturn visibleOptionsCount;\n}\n\n/**\n * Highlight text only within a specific element, preserving other elements\n */\nexport function highlightTextInElement(element: HTMLElement, query: string, highlightClass: string): void {\n\tif (!element || !query || query.trim() === '') return;\n\n\tconst originalText = element.textContent || '';\n\tconst queryLower = query.toLowerCase();\n\tconst textLower = originalText.toLowerCase();\n\n\tlet html = '';\n\tlet lastIndex = 0;\n\n\t// Find all occurrences of the query in the text\n\tlet startIndex = textLower.indexOf(queryLower);\n\twhile (startIndex !== -1) {\n\t\t// Add text before the match\n\t\thtml += originalText.substring(lastIndex, startIndex);\n\n\t\t// Add the highlighted match\n\t\tconst matchEnd = startIndex + query.length;\n\t\tconst matchedText = originalText.substring(startIndex, matchEnd);\n\t\thtml += `<span class=\"${highlightClass}\">${matchedText}</span>`;\n\n\t\t// Move to the next position\n\t\tlastIndex = matchEnd;\n\t\tstartIndex = textLower.indexOf(queryLower, lastIndex);\n\t}\n\n\t// Add any remaining text after the last match\n\tif (lastIndex < originalText.length) {\n\t\thtml += originalText.substring(lastIndex);\n\t}\n\n\t// Update the element\n\telement.innerHTML = html;\n}\n\n/**\n * Highlight matching text within an option element\n */\nexport function highlightMatchingText(element: HTMLElement, query: string, theme: any): void {\n\tif (!element || !query || query.trim() === '') return;\n\n\tconst optionText = element.textContent || '';\n\tconst searchHighlightClass = theme.searchHighlight;\n\n\t// Use the more targeted function\n\thighlightTextInElement(element, query, searchHighlightClass);\n}\n\n/**\n * Focus manager for keyboard navigation\n * Consolidates redundant focus management logic into shared functions\n */\nexport class FocusManager {\n\tprivate _element: HTMLElement;\n\tprivate _optionsSelector: string;\n\tprivate _focusedOptionIndex: number | null = null;\n\tprivate _focusClass: string = 'option-focused';\n\tprivate _hoverClass: string = 'hovered';\n\n\tconstructor(element: HTMLElement, optionsSelector: string = '[data-kt-select-option]') {\n\t\tthis._element = element;\n\t\tthis._optionsSelector = optionsSelector;\n\t}\n\n\t/**\n\t * Get all visible options\n\t */\n\tpublic getVisibleOptions(): HTMLElement[] {\n\t\treturn Array.from(\n\t\t\tthis._element.querySelectorAll(this._optionsSelector)\n\t\t).filter(option => (option as HTMLElement).style.display !== 'none') as HTMLElement[];\n\t}\n\n\t/**\n\t * Focus the next visible option\n\t */\n\tpublic focusNext(): HTMLElement | null {\n\t\tconst options = this.getVisibleOptions();\n\t\tif (options.length === 0) return null;\n\n\t\tthis.resetFocus();\n\n\t\tif (this._focusedOptionIndex === null) {\n\t\t\tthis._focusedOptionIndex = 0;\n\t\t} else {\n\t\t\tthis._focusedOptionIndex = (this._focusedOptionIndex + 1) % options.length;\n\t\t}\n\n\t\tconst option = options[this._focusedOptionIndex];\n\t\tthis.applyFocus(option);\n\t\tthis.scrollIntoView(option);\n\n\t\treturn option;\n\t}\n\n\t/**\n\t * Focus the previous visible option\n\t */\n\tpublic focusPrevious(): HTMLElement | null {\n\t\tconst options = this.getVisibleOptions();\n\t\tif (options.length === 0) return null;\n\n\t\tthis.resetFocus();\n\n\t\tif (this._focusedOptionIndex === null) {\n\t\t\tthis._focusedOptionIndex = options.length - 1;\n\t\t} else {\n\t\t\tthis._focusedOptionIndex = (this._focusedOptionIndex - 1 + options.length) % options.length;\n\t\t}\n\n\t\tconst option = options[this._focusedOptionIndex];\n\t\tthis.applyFocus(option);\n\t\tthis.scrollIntoView(option);\n\n\t\treturn option;\n\t}\n\n\t/**\n\t * Apply focus to a specific option\n\t */\n\tpublic applyFocus(option: HTMLElement): void {\n\t\tif (!option) return;\n\n\t\t// Remove focus from all options\n\t\tthis.resetFocus();\n\n\t\t// Add focus to this option\n\t\toption.classList.add(this._focusClass);\n\t\toption.classList.add(this._hoverClass);\n\t}\n\n\t/**\n\t * Reset focus on all options\n\t */\n\tpublic resetFocus(): void {\n\t\tconst focusedOptions = this._element.querySelectorAll(\n\t\t\t`${this._optionsSelector}.${this._focusClass}, ${this._optionsSelector}.${this._hoverClass}`\n\t\t);\n\n\t\tfocusedOptions.forEach(option => {\n\t\t\toption.classList.remove(this._focusClass);\n\t\t\toption.classList.remove(this._hoverClass);\n\t\t});\n\n\t\t// Reset index if visible options have changed\n\t\tconst visibleOptions = this.getVisibleOptions();\n\t\tif (this._focusedOptionIndex !== null && this._focusedOptionIndex >= visibleOptions.length) {\n\t\t\tthis._focusedOptionIndex = null;\n\t\t}\n\t}\n\n\t/**\n\t * Ensure the focused option is visible in the scrollable container\n\t */\n\tpublic scrollIntoView(option: HTMLElement): void {\n\t\tif (!option) return;\n\n\t\tconst container = this._element.querySelector('[data-kt-select-options-container]');\n\t\tif (!container) return;\n\n\t\tconst optionRect = option.getBoundingClientRect();\n\t\tconst containerRect = container.getBoundingClientRect();\n\n\t\t// Check if option is below the visible area\n\t\tif (optionRect.bottom > containerRect.bottom) {\n\t\t\toption.scrollIntoView({ block: 'end', behavior: 'smooth' });\n\t\t}\n\t\t// Check if option is above the visible area\n\t\telse if (optionRect.top < containerRect.top) {\n\t\t\toption.scrollIntoView({ block: 'start', behavior: 'smooth' });\n\t\t}\n\t}\n\n\t/**\n\t * Focus a specific option by its value\n\t */\n\tpublic focusOptionByValue(value: string): boolean {\n\t\tconst options = this.getVisibleOptions();\n\t\tconst index = options.findIndex(option => option.dataset.value === value);\n\n\t\tif (index >= 0) {\n\t\t\tthis._focusedOptionIndex = index;\n\t\t\tthis.applyFocus(options[index]);\n\t\t\tthis.scrollIntoView(options[index]);\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/**\n\t * Get the currently focused option\n\t */\n\tpublic getFocusedOption(): HTMLElement | null {\n\t\tconst options = this.getVisibleOptions();\n\n\t\tif (this._focusedOptionIndex !== null && this._focusedOptionIndex < options.length) {\n\t\t\treturn options[this._focusedOptionIndex];\n\t\t}\n\n\t\treturn null;\n\t}\n\n\t/**\n\t * Get the index of the currently focused option\n\t */\n\tpublic getFocusedIndex(): number | null {\n\t\treturn this._focusedOptionIndex;\n\t}\n\n\t/**\n\t * Set the focused option index directly\n\t */\n\tpublic setFocusedIndex(index: number | null): void {\n\t\tthis._focusedOptionIndex = index;\n\t}\n}\n\n/**\n * Shared keyboard navigation handler for dropdown options\n * Can be used by both combobox and search modules\n */\nexport function handleDropdownKeyNavigation(\n\tevent: KeyboardEvent,\n\tselect: KTSelect,\n\tconfig: {\n\t\tmultiple?: boolean,\n\t\tcloseOnSelect?: boolean\n\t},\n\tcallbacks?: {\n\t\tonArrowUp?: () => void,\n\t\tonArrowDown?: () => void,\n\t\tonEnter?: () => void,\n\t\tonClose?: () => void\n\t}\n): void {\n\ttry {\n\t\t// Get the dropdown state\n\t\tconst isDropdownOpen = (select as any)._dropdownIsOpen;\n\n\t\t// Log the event to help debug\n\t\tconst origin = 'handleDropdownKeyNavigation';\n\t\tconsole.log(`[${origin}] Key: ${event.key}, Dropdown open: ${isDropdownOpen}`);\n\n\t\t// Handle basic keyboard navigation\n\t\tswitch (event.key) {\n\t\t\tcase 'ArrowDown':\n\t\t\t\tif (!isDropdownOpen) {\n\t\t\t\t\tconsole.log(`[${origin}] Opening dropdown on ArrowDown`);\n\t\t\t\t\tselect.openDropdown();\n\n\t\t\t\t\t// Focus the first option after opening\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t(select as any)._focusNextOption();\n\t\t\t\t\t}, 50);\n\t\t\t\t} else if (callbacks?.onArrowDown) {\n\t\t\t\t\tconsole.log(`[${origin}] Using custom onArrowDown callback`);\n\t\t\t\t\tcallbacks.onArrowDown();\n\t\t\t\t} else {\n\t\t\t\t\tconsole.log(`[${origin}] Using default _focusNextOption`);\n\t\t\t\t\tconst focusedOption = (select as any)._focusNextOption();\n\n\t\t\t\t\t// Ensure we have a focused option\n\t\t\t\t\tif (focusedOption) {\n\t\t\t\t\t\tconsole.log(`[${origin}] Focused next option:`, focusedOption);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tevent.preventDefault();\n\t\t\t\tbreak;\n\n\t\t\tcase 'ArrowUp':\n\t\t\t\tif (!isDropdownOpen) {\n\t\t\t\t\tconsole.log(`[${origin}] Opening dropdown on ArrowUp`);\n\t\t\t\t\tselect.openDropdown();\n\n\t\t\t\t\t// Focus the last option after opening\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t(select as any)._focusPreviousOption();\n\t\t\t\t\t}, 50);\n\t\t\t\t} else if (callbacks?.onArrowUp) {\n\t\t\t\t\tconsole.log(`[${origin}] Using custom onArrowUp callback`);\n\t\t\t\t\tcallbacks.onArrowUp();\n\t\t\t\t} else {\n\t\t\t\t\tconsole.log(`[${origin}] Using default _focusPreviousOption`);\n\t\t\t\t\tconst focusedOption = (select as any)._focusPreviousOption();\n\n\t\t\t\t\t// Ensure we have a focused option\n\t\t\t\t\tif (focusedOption) {\n\t\t\t\t\t\tconsole.log(`[${origin}] Focused previous option:`, focusedOption);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tevent.preventDefault();\n\t\t\t\tbreak;\n\n\t\t\tcase 'Enter':\n\t\t\t\t// Prevent form submission\n\t\t\t\tevent.preventDefault();\n\n\t\t\t\tif (isDropdownOpen) {\n\t\t\t\t\tconsole.log(`[${origin}] Enter pressed with dropdown open`);\n\n\t\t\t\t\t// For combobox mode, ensure we update the input value directly\n\t\t\t\t\tconst isCombobox = select.getConfig().mode === 'combobox';\n\t\t\t\t\tconst comboboxModule = (select as any)._comboboxModule;\n\n\t\t\t\t\tif (callbacks?.onEnter) {\n\t\t\t\t\t\tconsole.log(`[${origin}] Using custom onEnter callback`);\n\t\t\t\t\t\tcallbacks.onEnter();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.log(`[${origin}] Using default selectFocusedOption`);\n\t\t\t\t\t\t// Make sure there is a focused option before trying to select it\n\t\t\t\t\t\tif ((select as any)._focusManager && (select as any)._focusManager.getFocusedOption()) {\n\t\t\t\t\t\t\tselect.selectFocusedOption();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// If no option is focused, try to focus the first one\n\t\t\t\t\t\t\tconst focusedOption = (select as any)._focusNextOption();\n\t\t\t\t\t\t\t// Only select if an option was successfully focused\n\t\t\t\t\t\t\tif (focusedOption) {\n\t\t\t\t\t\t\t\tselect.selectFocusedOption();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Close dropdown after selection if not multiple and closeOnSelect is true\n\t\t\t\t\tif (!config.multiple && config.closeOnSelect !== false) {\n\t\t\t\t\t\tconsole.log(`[${origin}] Closing dropdown after selection`);\n\t\t\t\t\t\tselect.closeDropdown();\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// If dropdown is closed, open it on Enter\n\t\t\t\t\tconsole.log(`[${origin}] Opening dropdown on Enter`);\n\t\t\t\t\tselect.openDropdown();\n\n\t\t\t\t\t// Focus the first option after opening\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t(select as any)._focusNextOption();\n\t\t\t\t\t}, 50);\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase 'Tab':\n\t\t\t\t// Only handle tab if dropdown is open\n\t\t\t\tif (isDropdownOpen) {\n\t\t\t\t\tconsole.log(`[${origin}] Closing dropdown on Tab`);\n\t\t\t\t\tselect.closeDropdown();\n\t\t\t\t\tif (callbacks?.onClose) {\n\t\t\t\t\t\tcallbacks.onClose();\n\t\t\t\t\t}\n\t\t\t\t\t// Don't prevent default tab behavior - let it move focus naturally\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase 'Escape':\n\t\t\t\t// Only handle escape if dropdown is open\n\t\t\t\tif (isDropdownOpen) {\n\t\t\t\t\tconsole.log(`[${origin}] Closing dropdown on Escape`);\n\t\t\t\t\tselect.closeDropdown();\n\t\t\t\t\tif (callbacks?.onClose) {\n\t\t\t\t\t\tcallbacks.onClose();\n\t\t\t\t\t}\n\t\t\t\t\tevent.preventDefault(); // Prevent other escape handlers\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase ' ': // Space key\n\t\t\t\t// If dropdown is closed, space should open it (but not if in combobox mode)\n\t\t\t\tif (!isDropdownOpen && !(select.getConfig().mode === 'combobox')) {\n\t\t\t\t\tconsole.log(`[${origin}] Opening dropdown on Space`);\n\t\t\t\t\tselect.openDropdown();\n\n\t\t\t\t\t// Focus the first option after opening\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t(select as any)._focusNextOption();\n\t\t\t\t\t}, 50);\n\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t}\n\t} catch (error) {\n\t\tconsole.error('Error in keyboard navigation handler:', error);\n\t}\n}\n\n/**\n * Centralized event listener management\n */\nexport class EventManager {\n\tprivate _boundHandlers: Map<string, Map<EventListenerOrEventListenerObject, EventListenerOrEventListenerObject>> = new Map();\n\n\t/**\n\t * Add an event listener with a bound context\n\t */\n\tpublic addListener(\n\t\telement: HTMLElement,\n\t\tevent: string,\n\t\thandler: EventListenerOrEventListenerObject,\n\t\tcontext?: any\n\t): void {\n\t\tif (!element) return;\n\n\t\t// Create a bound version of the handler if context provided\n\t\tconst boundHandler: EventListenerOrEventListenerObject = context && typeof handler === 'function'\n\t\t\t? handler.bind(context)\n\t\t\t: handler;\n\n\t\t// Store the relationship between original and bound handler\n\t\tif (!this._boundHandlers.has(event)) {\n\t\t\tthis._boundHandlers.set(event, new Map());\n\t\t}\n\n\t\tconst eventMap = this._boundHandlers.get(event)!;\n\t\teventMap.set(handler, boundHandler);\n\n\t\t// Add the event listener\n\t\telement.addEventListener(event, boundHandler);\n\t}\n\n\t/**\n\t * Remove an event listener\n\t */\n\tpublic removeListener(\n\t\telement: HTMLElement,\n\t\tevent: string,\n\t\thandler: EventListenerOrEventListenerObject\n\t): void {\n\t\tif (!element) return;\n\n\t\tconst eventMap = this._boundHandlers.get(event);\n\t\tif (!eventMap) return;\n\n\t\t// Get the bound version of the handler\n\t\tconst boundHandler = eventMap.get(handler);\n\t\tif (!boundHandler) return;\n\n\t\t// Remove the event listener\n\t\telement.removeEventListener(event, boundHandler);\n\n\t\t// Clean up the map\n\t\teventMap.delete(handler);\n\t\tif (eventMap.size === 0) {\n\t\t\tthis._boundHandlers.delete(event);\n\t\t}\n\t}\n\n\t/**\n\t * Remove all event listeners\n\t */\n\tpublic removeAllListeners(element: HTMLElement): void {\n\t\tif (!element) return;\n\n\t\t// Go through each event type\n\t\tthis._boundHandlers.forEach((eventMap, event) => {\n\t\t\t// For each event type, go through each handler\n\t\t\teventMap.forEach((boundHandler, originalHandler) => {\n\t\t\t\telement.removeEventListener(event, boundHandler);\n\t\t\t});\n\t\t});\n\n\t\t// Clear the maps\n\t\tthis._boundHandlers.clear();\n\t}\n}\n\n/**\n * Debounce function to limit how often a function can be called\n */\nexport function debounce(func: (...args: any[]) => void, delay: number): (...args: any[]) => void {\n\tlet timeout: ReturnType<typeof setTimeout>;\n\n\treturn function(...args: any[]) {\n\t\tclearTimeout(timeout);\n\t\ttimeout = setTimeout(() => func(...args), delay);\n\t};\n}","export { KTStepper } from './stepper';\nexport type { KTStepperConfigInterface, KTStepperInterface } from './types';\n","/* eslint-disable max-len */\n/* eslint-disable require-jsdoc */\n\nimport KTData from '../../helpers/data';\nimport KTDom from '../../helpers/dom';\nimport KTComponent from '../component';\nimport { KTStepperInterface, KTStepperConfigInterface } from './types';\n\nexport class KTStepper extends KTComponent implements KTStepperInterface {\n\tprotected override _name: string = 'stepper';\n\tprotected override _defaultConfig: KTStepperConfigInterface = {\n\t\thiddenClass: 'hidden',\n\t\tactiveStep: 1,\n\t};\n\tprotected override _config: KTStepperConfigInterface = this._defaultConfig;\n\tprotected _activeStep: number = 0;\n\tprotected _nextElement: HTMLElement | null = null;\n\tprotected _backElement: HTMLElement | null = null;\n\n\tconstructor(\n\t\telement: HTMLElement,\n\t\tconfig: KTStepperConfigInterface | null = null\n\t) {\n\t\tsuper();\n\n\t\tif (KTData.has(element as HTMLElement, this._name)) return;\n\n\t\tthis._init(element);\n\t\tthis._buildConfig(config);\n\n\t\tif (!this._element) return;\n\t\tthis._nextElement = this._element.querySelector('[data-kt-stepper-next]');\n\t\tthis._backElement = this._element.querySelector('[data-kt-stepper-back]');\n\n\t\tthis._activeStep = 1;\n\t\tif (this._getOption('activeStep') !== this._activeStep) {\n\t\t\tthis._go(this._getOption('activeStep') as number);\n\t\t}\n\n\t\tthis._update();\n\t\tthis._handlers();\n\t}\n\n\tprotected _handlers(): void {\n\t\tif (!this._nextElement) {\n\t\t\tconsole.error('data-kt-stepper-next not found');\n\t\t\treturn;\n\t\t}\n\n\t\tif (this._nextElement) {\n\t\t\tthis._nextElement.addEventListener('click', (event: Event) => {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tthis._goNext();\n\t\t\t});\n\t\t}\n\n\t\tif (this._backElement) {\n\t\t\tthis._backElement.addEventListener('click', (event: Event) => {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tthis._goBack();\n\t\t\t});\n\t\t}\n\t}\n\n\tprotected _update(): void {\n\t\tif (!this._element) return;\n\t\tlet state = '';\n\n\t\tif (this._activeStep === this._getTotalSteps()) {\n\t\t\tstate = 'last';\n\t\t} else if (this._activeStep === 1) {\n\t\t\tstate = 'first';\n\t\t} else {\n\t\t\tstate = 'between';\n\t\t}\n\n\t\tthis._element.classList.remove('first');\n\t\tthis._element.classList.remove('last');\n\t\tthis._element.classList.remove('between');\n\t\tthis._element.classList.add(state);\n\n\t\tthis._getItemElements().forEach((element, index) => {\n\t\t\tconst contentElement = KTDom.getElement(\n\t\t\t\telement.getAttribute('data-kt-stepper-item')\n\t\t\t);\n\t\t\tif (!contentElement) return;\n\n\t\t\telement.classList.remove('active');\n\t\t\telement.classList.remove('completed');\n\t\t\telement.classList.remove('pending');\n\n\t\t\tconst numberElement = element.querySelector('[data-kt-stepper-number]');\n\t\t\tif (numberElement) numberElement.innerHTML = String(index + 1);\n\n\t\t\tif (index + 1 == this._activeStep) {\n\t\t\t\telement.classList.add('active');\n\t\t\t\tcontentElement.classList.remove(\n\t\t\t\t\tthis._getOption('hiddenClass') as string\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tcontentElement.classList.add(this._getOption('hiddenClass') as string);\n\t\t\t\tif (index + 1 < this._activeStep) {\n\t\t\t\t\telement.classList.add('completed');\n\t\t\t\t} else {\n\t\t\t\t\telement.classList.add('pending');\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tprotected _getItemElements(): Array<HTMLElement> {\n\t\tconst elements: Array<HTMLElement> = [];\n\n\t\tthis._element\n\t\t\t.querySelectorAll('[data-kt-stepper-item]')\n\t\t\t.forEach((element) => {\n\t\t\t\tif (KTDom.isVisible(element as HTMLElement)) {\n\t\t\t\t\telements.push(element as HTMLElement);\n\t\t\t\t}\n\t\t\t});\n\n\t\treturn elements;\n\t}\n\n\tprotected _go(step: number): void {\n\t\tif (step === this._activeStep || step > this._getTotalSteps() || step < 0)\n\t\t\treturn;\n\n\t\tconst payload = { step: step, cancel: false };\n\t\tthis._fireEvent('change', payload);\n\t\tthis._dispatchEvent('change', payload);\n\t\tif (payload.cancel === true) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._activeStep = step;\n\t\tthis._update();\n\n\t\tthis._fireEvent('changed');\n\t\tthis._dispatchEvent('changed');\n\t}\n\n\tprotected _goTo(itemElement: HTMLElement): void {\n\t\tconst step = this._getStep(itemElement);\n\t\tthis._go(step);\n\t}\n\n\tprotected _getStep(itemElement: HTMLElement): number {\n\t\tlet step = -1;\n\n\t\tthis._getItemElements().forEach((element, index) => {\n\t\t\tif (element === itemElement) {\n\t\t\t\tstep = index + 1;\n\t\t\t\treturn;\n\t\t\t}\n\t\t});\n\n\t\treturn step;\n\t}\n\n\tprotected _getItemElement(step: number) {\n\t\treturn this._getItemElements()[step - 1];\n\t}\n\n\tprotected _getTotalSteps(): number {\n\t\treturn this._getItemElements().length;\n\t}\n\n\tprotected _goNext(): void {\n\t\tlet step;\n\n\t\tif (this._getTotalSteps() >= this._activeStep + 1) {\n\t\t\tstep = this._activeStep + 1;\n\t\t} else {\n\t\t\tstep = this._getTotalSteps();\n\t\t}\n\n\t\tthis._go(step);\n\t}\n\n\tprotected _goBack(): void {\n\t\tlet step;\n\n\t\tif (this._activeStep - 1 > 1) {\n\t\t\tstep = this._activeStep - 1;\n\t\t} else {\n\t\t\tstep = 1;\n\t\t}\n\n\t\tthis._go(step);\n\t}\n\n\tprotected _goLast(): void {\n\t\tconst step = this._getTotalSteps();\n\t\tthis._go(step);\n\t}\n\n\tprotected _goFirst(): void {\n\t\tconst step = 1;\n\t\tthis._go(step);\n\t}\n\n\tprotected _isLast(): boolean {\n\t\treturn this._getTotalSteps() === this._activeStep + 1;\n\t}\n\n\tprotected _isFirst(): boolean {\n\t\treturn this._activeStep === 1;\n\t}\n\n\tpublic isLast(): boolean {\n\t\treturn this._isLast();\n\t}\n\n\tpublic isFirst(): boolean {\n\t\treturn this._isFirst();\n\t}\n\n\tpublic go(step: number): void {\n\t\tthis._go(step);\n\t}\n\n\tpublic goTo(itemElement: HTMLElement): void {\n\t\tthis.goTo(itemElement);\n\t}\n\n\tpublic goFirst(): void {\n\t\tthis._goFirst();\n\t}\n\n\tpublic goLast(): void {\n\t\tthis._goLast();\n\t}\n\n\tpublic goNext(): void {\n\t\tthis._goNext();\n\t}\n\n\tpublic goBack(): void {\n\t\tthis._goBack();\n\t}\n\n\tpublic update(): void {\n\t\tthis._update();\n\t}\n\n\tpublic getStep(itemElement: HTMLElement): number {\n\t\treturn this._getStep(itemElement);\n\t}\n\n\tpublic getItemElement(step: number): HTMLElement {\n\t\treturn this._getItemElement(step);\n\t}\n\n\tpublic getTotalSteps(): number {\n\t\treturn this._getTotalSteps();\n\t}\n\n\tpublic getItemElements(): Array<HTMLElement> {\n\t\treturn this._getItemElements();\n\t}\n\n\tpublic static getInstance(element: HTMLElement): KTStepper {\n\t\tif (!element) return null;\n\n\t\tif (KTData.has(element, 'stepper')) {\n\t\t\treturn KTData.get(element, 'stepper') as KTStepper;\n\t\t}\n\n\t\tif (element.getAttribute('data-kt-stepper')) {\n\t\t\treturn new KTStepper(element);\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tpublic static getOrCreateInstance(\n\t\telement: HTMLElement,\n\t\tconfig?: KTStepperConfigInterface\n\t): KTStepper | null {\n\t\treturn this.getInstance(element) || new KTStepper(element, config);\n\t}\n\n\tpublic static createInstances(): void {\n\t\tconst elements = document.querySelectorAll('[data-kt-stepper]');\n\n\t\telements.forEach((element) => {\n\t\t\tnew KTStepper(element as HTMLElement);\n\t\t});\n\t}\n\n\tpublic static init(): void {\n\t\tKTStepper.createInstances();\n\t}\n}\n\nif (typeof window !== 'undefined') {\n\twindow.KTStepper = KTStepper;\n}\n","export { KTSticky } from './sticky';\nexport type { KTStickyConfigInterface, KTStickyInterface } from './types';\n","/* eslint-disable max-len */\n/* eslint-disable require-jsdoc */\n\nimport KTData from '../../helpers/data';\nimport KTDom from '../../helpers/dom';\nimport KTUtils from '../../helpers/utils';\nimport KTComponent from '../component';\nimport { KTStickyInterface, KTStickyConfigInterface } from './types';\n\nexport class KTSticky extends KTComponent implements KTStickyInterface {\n\tprotected override _name: string = 'sticky';\n\tprotected override _defaultConfig: KTStickyConfigInterface = {\n\t\ttarget: 'body',\n\t\tname: '',\n\t\tclass: '',\n\t\ttop: '',\n\t\tstart: '',\n\t\tend: '',\n\t\twidth: '',\n\t\tzindex: '',\n\t\toffset: 0,\n\t\treverse: false,\n\t\trelease: '',\n\t\tactivate: '',\n\t};\n\tprotected override _config: KTStickyConfigInterface = this._defaultConfig;\n\tprotected _targetElement: HTMLElement | Document | null = null;\n\n\tprotected _attributeRoot: string;\n\tprotected _eventTriggerState: boolean;\n\tprotected _lastScrollTop: number;\n\tprotected _releaseElement: HTMLElement;\n\tprotected _activateElement: HTMLElement;\n\tprotected _wrapperElement: HTMLElement;\n\n\tconstructor(\n\t\telement: HTMLElement,\n\t\tconfig: KTStickyConfigInterface | null = null\n\t) {\n\t\tsuper();\n\n\t\tif (KTData.has(element as HTMLElement, this._name)) return;\n\n\t\tthis._init(element);\n\t\tthis._buildConfig(config);\n\n\t\tthis._releaseElement = KTDom.getElement(\n\t\t\tthis._getOption('release') as string\n\t\t);\n\t\tthis._activateElement = KTDom.getElement(\n\t\t\tthis._getOption('activate') as string\n\t\t);\n\t\tthis._wrapperElement = this._element.closest('[data-kt-sticky-wrapper]');\n\t\tthis._attributeRoot = `data-kt-sticky-${this._getOption('name')}`;\n\t\tthis._eventTriggerState = true;\n\t\tthis._lastScrollTop = 0;\n\n\t\tconst targetElement =\n\t\t\tthis._getTarget() === 'body'\n\t\t\t\t? document\n\t\t\t\t: KTDom.getElement(this._getTarget());\n\t\tif (!targetElement) return;\n\n\t\tthis._targetElement = targetElement;\n\n\t\tthis._handlers();\n\t\tthis._process();\n\t\tthis._update();\n\t}\n\n\tprivate _getTarget(): string {\n\t\treturn (\n\t\t\t(this._element.getAttribute('data-kt-sticky-target') as string) ||\n\t\t\t(this._getOption('target') as string)\n\t\t);\n\t}\n\n\tprotected _handlers(): void {\n\t\twindow.addEventListener('resize', () => {\n\t\t\tlet timer;\n\n\t\t\tKTUtils.throttle(\n\t\t\t\ttimer,\n\t\t\t\t() => {\n\t\t\t\t\tthis._update();\n\t\t\t\t},\n\t\t\t\t200\n\t\t\t);\n\t\t});\n\n\t\tthis._targetElement.addEventListener('scroll', () => {\n\t\t\tthis._process();\n\t\t});\n\t}\n\n\tprotected _process(): void {\n\t\tconst reverse = this._getOption('reverse');\n\t\tconst offset = this._getOffset();\n\n\t\tif (offset < 0) {\n\t\t\tthis._disable();\n\t\t\treturn;\n\t\t}\n\n\t\tconst st =\n\t\t\tthis._getTarget() === 'body'\n\t\t\t\t? KTDom.getScrollTop()\n\t\t\t\t: (this._targetElement as HTMLElement).scrollTop;\n\t\tconst release =\n\t\t\tthis._releaseElement && KTDom.isPartiallyInViewport(this._releaseElement);\n\n\t\t// Release on reverse scroll mode\n\t\tif (reverse === true) {\n\t\t\t// Forward scroll mode\n\t\t\tif (st > offset && !release) {\n\t\t\t\tif (document.body.hasAttribute(this._attributeRoot) === false) {\n\t\t\t\t\tif (this._enable() === false) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tdocument.body.setAttribute(this._attributeRoot, 'on');\n\t\t\t\t}\n\n\t\t\t\tif (this._eventTriggerState === true) {\n\t\t\t\t\tconst payload = { active: true };\n\t\t\t\t\tthis._fireEvent('change', payload);\n\t\t\t\t\tthis._dispatchEvent('change', payload);\n\t\t\t\t\tthis._eventTriggerState = false;\n\t\t\t\t}\n\t\t\t\t// Back scroll mode\n\t\t\t} else {\n\t\t\t\tif (document.body.hasAttribute(this._attributeRoot) === true) {\n\t\t\t\t\tthis._disable();\n\t\t\t\t\tif (release) {\n\t\t\t\t\t\tthis._element.classList.add('release');\n\t\t\t\t\t}\n\t\t\t\t\tdocument.body.removeAttribute(this._attributeRoot);\n\t\t\t\t}\n\n\t\t\t\tif (this._eventTriggerState === false) {\n\t\t\t\t\tconst payload = { active: false };\n\t\t\t\t\tthis._fireEvent('change', payload);\n\t\t\t\t\tthis._dispatchEvent('change', payload);\n\t\t\t\t\tthis._eventTriggerState = true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis._lastScrollTop = st;\n\t\t\t// Classic scroll mode\n\t\t} else {\n\t\t\t// Forward scroll mode\n\t\t\tif (st > offset && !release) {\n\t\t\t\tif (document.body.hasAttribute(this._attributeRoot) === false) {\n\t\t\t\t\tif (this._enable() === false) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tdocument.body.setAttribute(this._attributeRoot, 'on');\n\t\t\t\t}\n\n\t\t\t\tif (this._eventTriggerState === true) {\n\t\t\t\t\tconst payload = { active: true };\n\t\t\t\t\tthis._fireEvent('change', payload);\n\t\t\t\t\tthis._dispatchEvent('change', payload);\n\t\t\t\t\tthis._eventTriggerState = false;\n\t\t\t\t}\n\t\t\t\t// Back scroll mode\n\t\t\t} else {\n\t\t\t\t// back scroll mode\n\t\t\t\tif (document.body.hasAttribute(this._attributeRoot) === true) {\n\t\t\t\t\tthis._disable();\n\t\t\t\t\tif (release) {\n\t\t\t\t\t\tthis._element.classList.add('release');\n\t\t\t\t\t}\n\t\t\t\t\tdocument.body.removeAttribute(this._attributeRoot);\n\t\t\t\t}\n\n\t\t\t\tif (this._eventTriggerState === false) {\n\t\t\t\t\tconst payload = { active: false };\n\t\t\t\t\tthis._fireEvent('change', payload);\n\t\t\t\t\tthis._dispatchEvent('change', payload);\n\t\t\t\t\tthis._eventTriggerState = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tprotected _getOffset(): number {\n\t\tlet offset = parseInt(this._getOption('offset') as string);\n\t\tconst activateElement = KTDom.getElement(\n\t\t\tthis._getOption('activate') as string\n\t\t);\n\n\t\tif (activateElement) {\n\t\t\toffset = Math.abs(offset - activateElement.offsetTop);\n\t\t}\n\n\t\treturn offset;\n\t}\n\n\tprotected _enable(): boolean {\n\t\tif (!this._element) return false;\n\n\t\tlet width = this._getOption('width') as string;\n\t\tconst top = this._getOption('top') as string;\n\t\tconst start = this._getOption('start') as string;\n\t\tconst end = this._getOption('end') as string;\n\t\tconst height = this._calculateHeight();\n\t\tconst zindex = this._getOption('zindex') as string;\n\t\tconst classList = this._getOption('class') as string;\n\n\t\tif (height + parseInt(top) > KTDom.getViewPort().height) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (width) {\n\t\t\tconst targetElement = document.querySelector(width) as HTMLElement;\n\t\t\tif (targetElement) {\n\t\t\t\twidth = KTDom.getCssProp(targetElement, 'width');\n\t\t\t} else if (width == 'auto') {\n\t\t\t\twidth = KTDom.getCssProp(this._element, 'width');\n\t\t\t}\n\n\t\t\tthis._element.style.width = `${Math.round(parseFloat(width))}px`;\n\t\t}\n\n\t\tif (top) {\n\t\t\tthis._element.style.top = `${top}px`;\n\t\t}\n\n\t\tif (start) {\n\t\t\tif (start === 'auto') {\n\t\t\t\tconst offsetLeft = KTDom.offset(this._element).left;\n\t\t\t\tif (offsetLeft >= 0) {\n\t\t\t\t\tthis._element.style.insetInlineStart = `${offsetLeft}px`;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis._element.style.insetInlineStart = `${start}px`;\n\t\t\t}\n\t\t}\n\n\t\tif (end) {\n\t\t\tif (end === 'auto') {\n\t\t\t\tconst offseRight = KTDom.offset(this._element).right;\n\t\t\t\tif (offseRight >= 0) {\n\t\t\t\t\tthis._element.style.insetInlineEnd = `${offseRight}px`;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis._element.style.insetInlineEnd = `${end}px`;\n\t\t\t}\n\t\t}\n\n\t\tif (zindex) {\n\t\t\tthis._element.style.zIndex = zindex;\n\t\t\tthis._element.style.position = 'fixed';\n\t\t}\n\n\t\tif (classList) {\n\t\t\tKTDom.addClass(this._element, classList);\n\t\t}\n\n\t\tif (this._wrapperElement) {\n\t\t\tthis._wrapperElement.style.height = `${height}px`;\n\t\t}\n\n\t\tthis._element.classList.add('active');\n\t\tthis._element.classList.remove('release');\n\n\t\treturn true;\n\t}\n\n\tprotected _disable(): void {\n\t\tif (!this._element) return;\n\n\t\tthis._element.style.top = '';\n\t\tthis._element.style.width = '';\n\t\tthis._element.style.left = '';\n\t\tthis._element.style.right = '';\n\t\tthis._element.style.zIndex = '';\n\t\tthis._element.style.position = '';\n\n\t\tconst classList = this._getOption('class') as string;\n\n\t\tif (this._wrapperElement) {\n\t\t\tthis._wrapperElement.style.height = '';\n\t\t}\n\n\t\tif (classList) {\n\t\t\tKTDom.removeClass(this._element, classList);\n\t\t}\n\n\t\tthis._element.classList.remove('active');\n\t}\n\n\tprotected _update(): void {\n\t\tif (this._isActive()) {\n\t\t\tthis._disable();\n\t\t\tthis._enable();\n\t\t} else {\n\t\t\tthis._disable();\n\t\t}\n\t}\n\n\tprotected _calculateHeight(): number {\n\t\tif (!this._element) return 0;\n\n\t\tlet height = parseFloat(KTDom.getCssProp(this._element, 'height'));\n\t\theight += parseFloat(KTDom.getCssProp(this._element, 'margin-top'));\n\t\theight += parseFloat(KTDom.getCssProp(this._element, 'margin-bottom'));\n\n\t\tif (KTDom.getCssProp(this._element, 'border-top')) {\n\t\t\theight =\n\t\t\t\theight + parseFloat(KTDom.getCssProp(this._element, 'border-top'));\n\t\t}\n\n\t\tif (KTDom.getCssProp(this._element, 'border-bottom')) {\n\t\t\theight =\n\t\t\t\theight + parseFloat(KTDom.getCssProp(this._element, 'border-bottom'));\n\t\t}\n\n\t\treturn height;\n\t}\n\n\tprotected _isActive(): boolean {\n\t\treturn this._element.classList.contains('active');\n\t}\n\n\tpublic update(): void {\n\t\tthis._update();\n\t}\n\n\tpublic isActive(): boolean {\n\t\treturn this._isActive();\n\t}\n\n\tpublic static getInstance(element: HTMLElement): KTSticky {\n\t\tif (!element) return null;\n\n\t\tif (KTData.has(element, 'sticky')) {\n\t\t\treturn KTData.get(element, 'sticky') as KTSticky;\n\t\t}\n\n\t\tif (element.getAttribute('data-kt-sticky')) {\n\t\t\treturn new KTSticky(element);\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tpublic static getOrCreateInstance(\n\t\telement: HTMLElement,\n\t\tconfig?: KTStickyConfigInterface\n\t): KTSticky {\n\t\treturn this.getInstance(element) || new KTSticky(element, config);\n\t}\n\n\tpublic static createInstances(): void {\n\t\tconst elements = document.querySelectorAll('[data-kt-sticky]');\n\n\t\telements.forEach((element) => {\n\t\t\tnew KTSticky(element as HTMLElement);\n\t\t});\n\t}\n\n\tpublic static init(): void {\n\t\tKTSticky.createInstances();\n\t}\n}\n\nif (typeof window !== 'undefined') {\n\twindow.KTSticky = KTSticky;\n}\n","export { KTTabs } from './tabs';\nexport type { KTTabsConfigInterface, KTTabsInterface } from './types';\n","/* eslint-disable max-len */\n/* eslint-disable require-jsdoc */\n\nimport KTData from '../../helpers/data';\nimport KTDom from '../../helpers/dom';\nimport KTEventHandler from '../../helpers/event-handler';\nimport KTComponent from '../component';\nimport { KTTabsInterface, KTTabsConfigInterface } from './types';\n\ndeclare global {\n\tinterface Window {\n\t\tKT_TABS_INITIALIZED: boolean;\n\t}\n}\n\nexport class KTTabs extends KTComponent implements KTTabsInterface {\n\tprotected override _name: string = 'tabs';\n\tprotected override _defaultConfig: KTTabsConfigInterface = {\n\t\thiddenClass: '',\n\t};\n\tprotected override _config: KTTabsConfigInterface = this._defaultConfig;\n\tprotected _currentTabElement: HTMLElement | null = null;\n\tprotected _currentContentElement: HTMLElement | null = null;\n\tprotected _lastTabElement: HTMLElement | null = null;\n\tprotected _lastContentElement: HTMLElement | null = null;\n\tprotected _tabElements: NodeListOf<HTMLElement> | null = null;\n\tprotected _isTransitioning: boolean = false;\n\n\tconstructor(element: HTMLElement, config?: KTTabsConfigInterface) {\n\t\tsuper();\n\n\t\tif (KTData.has(element as HTMLElement, this._name)) return;\n\n\t\tthis._init(element);\n\t\tthis._buildConfig(config);\n\n\t\tif (!this._element) return;\n\t\tthis._tabElements = this._element.querySelectorAll('[data-kt-tab-toggle]');\n\t\tthis._currentTabElement = this._element.querySelector(\n\t\t\t'.active[data-kt-tab-toggle]'\n\t\t);\n\t\tthis._currentContentElement =\n\t\t\t(this._currentTabElement &&\n\t\t\t\t(KTDom.getElement(\n\t\t\t\t\tthis._currentTabElement.getAttribute('data-kt-tab-toggle')\n\t\t\t\t) ||\n\t\t\t\t\tKTDom.getElement(this._currentTabElement.getAttribute('href')))) ||\n\t\t\tnull;\n\n\t\tthis._handlers();\n\t}\n\n\tprotected _handlers(): void {\n\t\tif (!this._element) return;\n\n\t\tKTEventHandler.on(\n\t\t\tthis._element,\n\t\t\t'[data-kt-tab-toggle]',\n\t\t\t'click',\n\t\t\t(event: Event, target: HTMLElement) => {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tthis._show(target);\n\t\t\t}\n\t\t);\n\t}\n\n\tprotected _show(tabElement: HTMLElement): void {\n\t\tif (this._isShown(tabElement) || this._isTransitioning) return;\n\n\t\tconst payload = { cancel: false };\n\t\tthis._fireEvent('show', payload);\n\t\tthis._dispatchEvent('show', payload);\n\t\tif (payload.cancel === true) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._currentTabElement?.classList.remove('active');\n\t\tthis._currentContentElement?.classList.add(\n\t\t\tthis._getOption('hiddenClass') as string\n\t\t);\n\t\tthis._lastTabElement = this._currentTabElement;\n\t\tthis._getDropdownToggleElement(this._lastTabElement)?.classList.remove(\n\t\t\t'active'\n\t\t);\n\n\t\tthis._lastContentElement = this._currentContentElement;\n\t\tthis._currentTabElement = tabElement;\n\t\tthis._currentContentElement =\n\t\t\tKTDom.getElement(tabElement.getAttribute('data-kt-tab-toggle')) ||\n\t\t\tKTDom.getElement(tabElement.getAttribute('href'));\n\t\tthis._currentTabElement?.classList.add('active');\n\t\tthis._currentContentElement?.classList.remove(\n\t\t\tthis._getOption('hiddenClass') as string\n\t\t);\n\t\tthis._getDropdownToggleElement(this._currentTabElement)?.classList.add(\n\t\t\t'active'\n\t\t);\n\n\t\tthis._currentContentElement.style.opacity = '0';\n\t\tKTDom.reflow(this._currentContentElement);\n\t\tthis._currentContentElement.style.opacity = '1';\n\n\t\tKTDom.transitionEnd(this._currentContentElement, () => {\n\t\t\tthis._isTransitioning = false;\n\t\t\tthis._currentContentElement.style.opacity = '';\n\n\t\t\tthis._fireEvent('shown');\n\t\t\tthis._dispatchEvent('shown');\n\t\t});\n\t}\n\n\tprotected _getDropdownToggleElement(element: HTMLElement): HTMLElement {\n\t\tconst containerElement = element.closest(\n\t\t\t'[data-kt-dropdown-initialized], [data-kt-menu-initialized]'\n\t\t) as HTMLElement;\n\n\t\tif (containerElement) {\n\t\t\treturn containerElement.querySelector(\n\t\t\t\t'[data-kt-dropdown-toggle], [data-kt-menu-toggle]'\n\t\t\t);\n\t\t} else {\n\t\t\treturn null;\n\t\t}\n\t}\n\n\tprotected _isShown(tabElement: HTMLElement): boolean {\n\t\treturn tabElement.classList.contains('active');\n\t}\n\n\tpublic isShown(tabElement: HTMLElement): boolean {\n\t\treturn this._isShown(tabElement);\n\t}\n\n\tpublic show(tabElement: HTMLElement): void {\n\t\treturn this._show(tabElement);\n\t}\n\n\tpublic static keyboardArrow(): void {}\n\n\tpublic static keyboardJump(): void {}\n\n\tpublic static handleAccessibility(): void {}\n\n\tpublic static getInstance(element: HTMLElement): KTTabs {\n\t\tif (!element) return null;\n\n\t\tif (KTData.has(element, 'tabs')) {\n\t\t\treturn KTData.get(element, 'tabs') as KTTabs;\n\t\t}\n\n\t\tif (element.getAttribute('data-kt-tabs')) {\n\t\t\treturn new KTTabs(element);\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tpublic static getOrCreateInstance(\n\t\telement: HTMLElement,\n\t\tconfig?: KTTabsConfigInterface\n\t): KTTabs {\n\t\treturn this.getInstance(element) || new KTTabs(element, config);\n\t}\n\n\tpublic static createInstances(): void {\n\t\tconst elements = document.querySelectorAll('[data-kt-tabs]');\n\n\t\telements.forEach((element) => {\n\t\t\tnew KTTabs(element as HTMLElement);\n\t\t});\n\t}\n\n\tpublic static init(): void {\n\t\tKTTabs.createInstances();\n\n\t\tif (window.KT_TABS_INITIALIZED !== true) {\n\t\t\tKTTabs.handleAccessibility();\n\t\t\twindow.KT_TABS_INITIALIZED = true;\n\t\t}\n\t}\n}\n\nif (typeof window !== 'undefined') {\n\twindow.KTTabs = KTTabs;\n}\n","export { KTThemeSwitch } from './theme-switch';\nexport type { KTThemeSwitchConfigInterface, KTThemeSwitchInterface } from './types';\n","/* eslint-disable max-len */\n/* eslint-disable require-jsdoc */\n\nimport KTData from '../../helpers/data';\nimport KTEventHandler from '../../helpers/event-handler';\nimport KTComponent from '../component';\nimport { KTThemeSwitchInterface, KTThemeSwitchConfigInterface } from './types';\nimport { KTThemeSwitchModeType } from './types';\n\nexport class KTThemeSwitch\n\textends KTComponent\n\timplements KTThemeSwitchInterface\n{\n\tprotected override _name: string = 'theme-swtich';\n\tprotected override _defaultConfig: KTThemeSwitchConfigInterface = {\n\t\tmode: 'light',\n\t};\n\tprotected _mode: KTThemeSwitchModeType | null = null;\n\tprotected _currentMode: KTThemeSwitchModeType | null = null;\n\n\tconstructor(\n\t\telement: HTMLElement | HTMLHtmlElement,\n\t\tconfig: KTThemeSwitchConfigInterface | null = null\n\t) {\n\t\tsuper();\n\n\t\tif (KTData.has(element as HTMLElement | HTMLHtmlElement, this._name))\n\t\t\treturn;\n\n\t\tthis._init(element);\n\t\tthis._buildConfig(config);\n\t\tthis._setMode(\n\t\t\t(localStorage.getItem('kt-theme') ||\n\t\t\t\tthis._getOption('mode')) as KTThemeSwitchModeType\n\t\t);\n\t\tthis._handlers();\n\t}\n\n\tprotected _handlers(): void {\n\t\tif (!this._element) return;\n\n\t\tKTEventHandler.on(\n\t\t\tdocument.body,\n\t\t\t'[data-kt-theme-switch-toggle]',\n\t\t\t'click',\n\t\t\t() => {\n\t\t\t\tthis._toggle();\n\t\t\t}\n\t\t);\n\n\t\tKTEventHandler.on(\n\t\t\tdocument.body,\n\t\t\t'[data-kt-theme-switch-set]',\n\t\t\t'click',\n\t\t\t(event: Event, target: HTMLElement) => {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tconst mode = target.getAttribute(\n\t\t\t\t\t'data-kt-theme-switch-set'\n\t\t\t\t) as KTThemeSwitchModeType;\n\t\t\t\tthis._setMode(mode);\n\t\t\t}\n\t\t);\n\t}\n\n\tprotected _toggle() {\n\t\tconst mode = this._currentMode === 'light' ? 'dark' : 'light';\n\n\t\tthis._setMode(mode);\n\t}\n\n\tprotected _setMode(mode: KTThemeSwitchModeType): void {\n\t\tif (!this._element) return;\n\t\tconst payload = { cancel: false };\n\t\tthis._fireEvent('change', payload);\n\t\tthis._dispatchEvent('change', payload);\n\t\tif (payload.cancel === true) {\n\t\t\treturn;\n\t\t}\n\n\t\tlet currentMode: KTThemeSwitchModeType = mode;\n\t\tif (mode === 'system') {\n\t\t\tcurrentMode = this._getSystemMode();\n\t\t}\n\n\t\tthis._mode = mode;\n\t\tthis._currentMode = currentMode;\n\t\tthis._bindMode();\n\t\tthis._updateState();\n\t\tlocalStorage.setItem('kt-theme', this._mode);\n\t\tthis._element.setAttribute('data-kt-theme-switch-mode', mode);\n\n\t\tthis._fireEvent('changed', {});\n\t\tthis._dispatchEvent('changed', {});\n\t}\n\n\tprotected _getMode(): KTThemeSwitchModeType {\n\t\treturn (\n\t\t\t(localStorage.getItem('kt-theme') as KTThemeSwitchModeType) || this._mode\n\t\t);\n\t}\n\n\tprotected _getSystemMode(): KTThemeSwitchModeType {\n\t\treturn window.matchMedia('(prefers-color-scheme: dark)').matches\n\t\t\t? 'dark'\n\t\t\t: 'light';\n\t}\n\n\tprotected _bindMode(): void {\n\t\tif (!this._currentMode || !this._element) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._element.classList.remove('dark');\n\t\tthis._element.classList.remove('light');\n\t\tthis._element.removeAttribute(this._getOption('attribute') as string);\n\t\tthis._element.classList.add(this._currentMode);\n\t}\n\n\tprotected _updateState() {\n\t\tconst elements = document.querySelectorAll<HTMLInputElement>(\n\t\t\t'input[type=\"checkbox\"][data-kt-theme-switch-state]'\n\t\t);\n\t\telements.forEach((element) => {\n\t\t\tif (element.getAttribute('data-kt-theme-switch-state') === this._mode) {\n\t\t\t\telement.checked = true;\n\t\t\t}\n\t\t});\n\t}\n\n\tpublic getMode(): KTThemeSwitchModeType {\n\t\treturn this._getMode();\n\t}\n\n\tpublic setMode(mode: KTThemeSwitchModeType) {\n\t\tthis.setMode(mode);\n\t}\n\n\tpublic static getInstance(): KTThemeSwitch {\n\t\tconst root = document.documentElement;\n\n\t\tif (KTData.has(root, 'theme-switch')) {\n\t\t\treturn KTData.get(root, 'theme-switch') as KTThemeSwitch;\n\t\t}\n\n\t\tif (root) {\n\t\t\treturn new KTThemeSwitch(root);\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tpublic static createInstances(): void {\n\t\tconst root = document.documentElement;\n\t\tif (root) new KTThemeSwitch(root);\n\t}\n\n\tpublic static init(): void {\n\t\tKTThemeSwitch.createInstances();\n\t}\n}\n","export { KTTogglePassword } from './toggle-password';\nexport type { KTTogglePasswordConfigInterface, KTTogglePasswordInterface } from './types';\n","/* eslint-disable max-len */\n/* eslint-disable require-jsdoc */\n\nimport KTData from '../../helpers/data';\nimport KTDom from '../../helpers/dom';\nimport KTComponent from '../component';\nimport {\n\tKTTogglePasswordConfigInterface,\n\tKTTogglePasswordInterface,\n} from './types';\n\nexport class KTTogglePassword\n\textends KTComponent\n\timplements KTTogglePasswordInterface\n{\n\tprotected override _name: string = 'toggle-password';\n\tprotected override _defaultConfig: KTTogglePasswordConfigInterface = {\n\t\tpermanent: false,\n\t};\n\tprotected override _config: KTTogglePasswordConfigInterface =\n\t\tthis._defaultConfig;\n\tprotected _triggerElement: HTMLElement;\n\tprotected _inputElement: HTMLInputElement;\n\n\tconstructor(\n\t\telement: HTMLElement,\n\t\tconfig: KTTogglePasswordConfigInterface | null = null\n\t) {\n\t\tsuper();\n\n\t\tif (KTData.has(element as HTMLElement, this._name)) return;\n\n\t\tthis._init(element);\n\t\tthis._buildConfig(config);\n\n\t\tthis._triggerElement = this._element.querySelector(\n\t\t\t'[data-kt-toggle-password-trigger]'\n\t\t);\n\t\tthis._inputElement = this._element.querySelector('input');\n\n\t\tif (!this._triggerElement || !this._inputElement) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._handlers();\n\t}\n\n\tprotected _handlers(): void {\n\t\tif (!this._element) return;\n\n\t\tthis._triggerElement.addEventListener('click', () => {\n\t\t\tthis._toggle();\n\t\t});\n\n\t\tthis._inputElement.addEventListener('input', () => {\n\t\t\tthis._update();\n\t\t});\n\t}\n\n\tprotected _toggle(): void {\n\t\tif (!this._element) return;\n\t\tconst payload = { cancel: false };\n\t\tthis._fireEvent('toggle', payload);\n\t\tthis._dispatchEvent('toggle', payload);\n\t\tif (payload.cancel === true) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (this._isVisible()) {\n\t\t\tthis._element.classList.remove('active');\n\t\t\tthis._setVisible(false);\n\t\t} else {\n\t\t\tthis._element.classList.add('active');\n\t\t\tthis._setVisible(true);\n\t\t}\n\n\t\tthis._fireEvent('toggled');\n\t\tthis._dispatchEvent('toggled');\n\t}\n\n\tprotected _update(): void {\n\t\tif (!this._element) return;\n\n\t\tif ((this._getOption('permanent') as boolean) === false) {\n\t\t\tif (this._isVisible()) {\n\t\t\t\tthis._setVisible(false);\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic _isVisible(): boolean {\n\t\treturn this._inputElement.getAttribute('type') === 'text';\n\t}\n\n\tpublic _setVisible(flag: boolean) {\n\t\tif (flag) {\n\t\t\tthis._inputElement.setAttribute('type', 'text');\n\t\t} else {\n\t\t\tthis._inputElement.setAttribute('type', 'password');\n\t\t}\n\t}\n\n\tpublic toggle(): void {\n\t\tthis._toggle();\n\t}\n\n\tpublic setVisible(flag: boolean): void {\n\t\tthis._setVisible(flag);\n\t}\n\n\tpublic isVisible(): boolean {\n\t\treturn this._isVisible();\n\t}\n\n\tpublic static getInstance(element: HTMLElement): KTTogglePassword {\n\t\tif (!element) return null;\n\n\t\tif (KTData.has(element, 'toggle-password')) {\n\t\t\treturn KTData.get(element, 'toggle-password') as KTTogglePassword;\n\t\t}\n\n\t\tif (element.getAttribute('data-kt-toggle-password')) {\n\t\t\treturn new KTTogglePassword(element);\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tpublic static getOrCreateInstance(\n\t\telement: HTMLElement,\n\t\tconfig?: KTTogglePasswordConfigInterface\n\t): KTTogglePassword {\n\t\treturn this.getInstance(element) || new KTTogglePassword(element, config);\n\t}\n\n\tpublic static createInstances(): void {\n\t\tconst elements = document.querySelectorAll('[data-kt-toggle-password]');\n\n\t\telements.forEach((element) => {\n\t\t\tnew KTTogglePassword(element as HTMLElement);\n\t\t});\n\t}\n\n\tpublic static init(): void {\n\t\tKTTogglePassword.createInstances();\n\t}\n}\n\nif (typeof window !== 'undefined') {\n\twindow.KTTogglePassword = KTTogglePassword;\n}\n","export { KTToggle } from './toggle';\nexport type { KTToggleConfigInterface, KTToggleInterface } from './types';\n","/* eslint-disable max-len */\n/* eslint-disable require-jsdoc */\n\nimport KTData from '../../helpers/data';\nimport KTDom from '../../helpers/dom';\nimport KTComponent from '../component';\nimport { KTToggleConfigInterface, KTToggleInterface } from './types';\n\nexport class KTToggle extends KTComponent implements KTToggleInterface {\n\tprotected override _name: string = 'toggle';\n\tprotected override _defaultConfig: KTToggleConfigInterface = {\n\t\ttarget: '',\n\t\tactiveClass: 'active',\n\t\tclass: '',\n\t\tremoveClass: '',\n\t\tattribute: '',\n\t};\n\tprotected override _config: KTToggleConfigInterface = this._defaultConfig;\n\tprotected _targetElement: HTMLElement;\n\n\tconstructor(\n\t\telement: HTMLElement,\n\t\tconfig: KTToggleConfigInterface | null = null\n\t) {\n\t\tsuper();\n\n\t\tif (KTData.has(element as HTMLElement, this._name)) return;\n\n\t\tthis._init(element);\n\t\tthis._buildConfig(config);\n\n\t\tthis._targetElement = this._getTargetElement();\n\t\tif (!this._targetElement) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._handlers();\n\t}\n\n\tprotected _handlers(): void {\n\t\tif (!this._element) return;\n\n\t\tthis._element.addEventListener('click', () => {\n\t\t\tthis._toggle();\n\t\t});\n\t}\n\n\tprivate _getTargetElement(): HTMLElement | null {\n\t\treturn (\n\t\t\tKTDom.getElement(\n\t\t\t\tthis._element.getAttribute('data-kt-toggle') as string\n\t\t\t) || KTDom.getElement(this._getOption('target') as string)\n\t\t);\n\t}\n\n\tprotected _toggle(): void {\n\t\tif (!this._element) return;\n\t\tconst payload = { cancel: false };\n\t\tthis._fireEvent('toggle', payload);\n\t\tthis._dispatchEvent('toggle', payload);\n\t\tif (payload.cancel === true) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._element.classList.toggle(this._getOption('activeClass') as string);\n\t\tthis._update();\n\n\t\tthis._fireEvent('toggled');\n\t\tthis._dispatchEvent('toggled');\n\t}\n\n\tprotected _update(): void {\n\t\tif (!this._targetElement) return;\n\n\t\tif (this._getOption('removeClass')) {\n\t\t\tKTDom.removeClass(\n\t\t\t\tthis._targetElement,\n\t\t\t\tthis._getOption('removeClass') as string\n\t\t\t);\n\t\t}\n\n\t\tif (!this._isActive()) {\n\t\t\tif (this._getOption('class')) {\n\t\t\t\tKTDom.addClass(this._targetElement, this._getOption('class') as string);\n\t\t\t}\n\n\t\t\tif (this._getOption('attribute')) {\n\t\t\t\tthis._targetElement.setAttribute(\n\t\t\t\t\tthis._getOption('attribute') as string,\n\t\t\t\t\t'true'\n\t\t\t\t);\n\t\t\t}\n\t\t} else {\n\t\t\tif (this._getOption('class')) {\n\t\t\t\tKTDom.removeClass(\n\t\t\t\t\tthis._targetElement,\n\t\t\t\t\tthis._getOption('class') as string\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tif (this._getOption('attribute')) {\n\t\t\t\tthis._targetElement.removeAttribute(\n\t\t\t\t\tthis._getOption('attribute') as string\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic _isActive(): boolean {\n\t\tif (!this._element) return false;\n\n\t\treturn (\n\t\t\tKTDom.hasClass(this._targetElement, this._getOption('class') as string) ||\n\t\t\tthis._targetElement.hasAttribute(this._getOption('attribute') as string)\n\t\t);\n\t}\n\n\tpublic toggle(): void {\n\t\tthis._toggle();\n\t}\n\n\tpublic update(): void {\n\t\tthis._update();\n\t}\n\n\tpublic isActive(): boolean {\n\t\treturn this._isActive();\n\t}\n\n\tpublic static getInstance(element: HTMLElement): KTToggle {\n\t\tif (!element) return null;\n\n\t\tif (KTData.has(element, 'toggle')) {\n\t\t\treturn KTData.get(element, 'toggle') as KTToggle;\n\t\t}\n\n\t\tif (element.getAttribute('data-kt-toggle')) {\n\t\t\treturn new KTToggle(element);\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tpublic static getOrCreateInstance(\n\t\telement: HTMLElement,\n\t\tconfig?: KTToggleConfigInterface\n\t): KTToggle {\n\t\treturn this.getInstance(element) || new KTToggle(element, config);\n\t}\n\n\tpublic static createInstances(): void {\n\t\tconst elements = document.querySelectorAll('[data-kt-toggle]');\n\t\telements.forEach((element) => {\n\t\t\tnew KTToggle(element as HTMLElement);\n\t\t});\n\t}\n\n\tpublic static init(): void {\n\t\tKTToggle.createInstances();\n\t}\n}\n\nif (typeof window !== 'undefined') {\n\twindow.KTToggle = KTToggle;\n}\n","export { KTTooltip } from './tooltip';\nexport type { KTTooltipConfigInterface, KTTooltipInterface } from './types';","/* eslint-disable max-len */\n/* eslint-disable require-jsdoc */\n\nimport KTData from '../../helpers/data';\nimport KTDom from '../../helpers/dom';\nimport KTComponent from '../component';\nimport { KTTooltipInterface, KTTooltipConfigInterface } from './types';\nimport {\n\tcreatePopper,\n\tPositioningStrategy,\n\tInstance,\n\tPlacement,\n} from '@popperjs/core';\nimport { KTTooltipTriggerType } from './types';\n\ndeclare global {\n\tinterface Window {\n\t\tKT_TOOLTIP_INITIALIZED: boolean;\n\t}\n}\n\nexport class KTTooltip extends KTComponent implements KTTooltipInterface {\n\tprotected override _name: string = 'tooltip';\n\tprotected override _defaultConfig: KTTooltipConfigInterface = {\n\t\ttarget: '',\n\t\thiddenClass: 'hidden',\n\t\ttrigger: 'hover',\n\t\tplacement: 'top',\n\t\tplacementRtl: 'top',\n\t\tcontainer: '',\n\t\tstrategy: 'fixed',\n\t\toffset: '0, 5px',\n\t\toffsetRtl: '0, 5px',\n\t\tdelayShow: 0,\n\t\tdelayHide: 0,\n\t\tpermanent: false,\n\t\tzindex: '100',\n\t};\n\tprotected override _config: KTTooltipConfigInterface = this._defaultConfig;\n\tprotected _isOpen: boolean = false;\n\tprotected _targetElement: HTMLElement;\n\tprotected _popper!: Instance;\n\tprotected _transitioning: boolean = false;\n\tprotected _timeout!: ReturnType<typeof setTimeout>;\n\n\tconstructor(\n\t\telement: HTMLElement,\n\t\tconfig: KTTooltipConfigInterface | null = null\n\t) {\n\t\tsuper();\n\n\t\tif (KTData.has(element as HTMLElement, this._name)) return;\n\n\t\tthis._init(element);\n\t\tthis._buildConfig(config);\n\n\t\tthis._targetElement = this._getTargetElement();\n\t\tif (!this._targetElement) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._handlers();\n\t}\n\n\tprivate _getTargetElement(): HTMLElement | null {\n\t\treturn (\n\t\t\tKTDom.getElement(\n\t\t\t\tthis._element.getAttribute('data-kt-tooltip') as string\n\t\t\t) ||\n\t\t\tthis._element.querySelector(\n\t\t\t\t'.tooltip, .popover, [data-kt-tooltip-content]'\n\t\t\t) ||\n\t\t\tKTDom.getElement(this._getOption('target') as string)\n\t\t);\n\t}\n\n\tprotected _handlers(): void {\n\t\tif (!this._element) return;\n\n\t\tif (this._getOption('trigger') === 'click') {\n\t\t\tthis._element.addEventListener('click', () => this._toggle());\n\t\t}\n\n\t\tif (this._getOption('trigger') === 'focus') {\n\t\t\tthis._element.addEventListener('focus', () => this._toggle());\n\t\t\tthis._element.addEventListener('blur', () => this._hide());\n\t\t}\n\n\t\tif (this._getOption('trigger') === 'hover') {\n\t\t\tthis._element.addEventListener('mouseenter', () => this._show());\n\t\t\tthis._element.addEventListener('mouseleave', () => this._hide());\n\t\t}\n\t}\n\n\tprotected _show(): void {\n\t\tif (this._timeout) {\n\t\t\tclearTimeout(this._timeout);\n\t\t}\n\n\t\tif (this._isOpen) return;\n\n\t\tthis._timeout = setTimeout(() => {\n\t\t\tconst payload = { cancel: false };\n\t\t\tthis._fireEvent('show', payload);\n\t\t\tthis._dispatchEvent('show', payload);\n\t\t\tif (payload.cancel === true) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (!this._targetElement) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (!this._element) return;\n\n\t\t\tthis._createPopper();\n\t\t\tthis._handleContainer();\n\t\t\tthis._setZindex();\n\n\t\t\tthis._targetElement.classList.add('show');\n\t\t\tthis._targetElement.classList.remove(\n\t\t\t\tthis._getOption('hiddenClass') as string\n\t\t\t);\n\t\t\tthis._targetElement.style.opacity = '0';\n\t\t\tKTDom.reflow(this._targetElement);\n\t\t\tthis._targetElement.style.opacity = '1';\n\t\t\tthis._transitioning = true;\n\t\t\tthis._isOpen = true;\n\n\t\t\tKTDom.transitionEnd(this._targetElement, () => {\n\t\t\t\tthis._targetElement.style.opacity = '';\n\t\t\t\tthis._transitioning = false;\n\t\t\t\tthis._fireEvent('shown');\n\t\t\t\tthis._dispatchEvent('shown');\n\t\t\t});\n\t\t}, this._getOption('delayShow') as number);\n\t}\n\n\tprotected _hide(): void {\n\t\tif (this._timeout) {\n\t\t\tclearTimeout(this._timeout);\n\t\t}\n\n\t\tif (!this._isOpen) return;\n\n\t\tthis._timeout = setTimeout(() => {\n\t\t\tconst payload = { cancel: false };\n\t\t\tthis._fireEvent('hide', payload);\n\t\t\tthis._dispatchEvent('hide', payload);\n\t\t\tif (payload.cancel === true) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (!this._targetElement) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis._targetElement.style.opacity = '1';\n\t\t\tKTDom.reflow(this._targetElement);\n\t\t\tthis._targetElement.style.opacity = '0';\n\t\t\tthis._transitioning = true;\n\t\t\tthis._isOpen = false;\n\n\t\t\tKTDom.transitionEnd(this._targetElement, () => {\n\t\t\t\tthis._popper.destroy();\n\t\t\t\tthis._targetElement.classList.remove('show');\n\t\t\t\tthis._targetElement.classList.add(\n\t\t\t\t\tthis._getOption('hiddenClass') as string\n\t\t\t\t);\n\t\t\t\tthis._targetElement.style.opacity = '';\n\t\t\t\tthis._transitioning = false;\n\t\t\t\tthis._fireEvent('hidden');\n\t\t\t\tthis._dispatchEvent('hidden');\n\t\t\t});\n\t\t}, this._getOption('delayHide') as number);\n\t}\n\n\tprotected _toggle(): void {\n\t\tconst payload = { cancel: false };\n\t\tthis._fireEvent('toggle', payload);\n\t\tthis._dispatchEvent('toggle', payload);\n\t\tif (payload.cancel === true) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (this._isOpen) {\n\t\t\tthis._hide();\n\t\t} else {\n\t\t\tthis._show();\n\t\t}\n\t}\n\n\tprotected _createPopper(): void {\n\t\tif (!this._element) return;\n\n\t\tconst isRtl = KTDom.isRTL();\n\n\t\t// Placement\n\t\tlet placement = this._getOption('placement') as Placement;\n\t\tif (isRtl && this._getOption('placementRtl')) {\n\t\t\tplacement = this._getOption('placementRtl') as Placement;\n\t\t}\n\n\t\t// Offset\n\t\tlet offsetValue = this._getOption('offset');\n\t\tif (isRtl && this._getOption('offsetRtl')) {\n\t\t\toffsetValue = this._getOption('offsetRtl') as Placement;\n\t\t}\n\t\tconst offset = offsetValue\n\t\t\t? offsetValue\n\t\t\t\t\t.toString()\n\t\t\t\t\t.split(',')\n\t\t\t\t\t.map((value) => parseInt(value.trim(), 10))\n\t\t\t: [0, 0];\n\n\t\tif (!this._targetElement) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._popper = createPopper(this._element, this._targetElement, {\n\t\t\tplacement: placement,\n\t\t\tstrategy: this._getOption('strategy') as PositioningStrategy,\n\t\t\tmodifiers: [\n\t\t\t\t{\n\t\t\t\t\tname: 'offset',\n\t\t\t\t\toptions: {\n\t\t\t\t\t\toffset,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t],\n\t\t});\n\t}\n\n\tprotected _handleContainer(): void {\n\t\tif (this._getOption('container')) {\n\t\t\tif (this._getOption('container') === 'body') {\n\t\t\t\tdocument.body.appendChild(this._targetElement);\n\t\t\t} else {\n\t\t\t\tdocument\n\t\t\t\t\t.querySelector(this._getOption('container') as string)\n\t\t\t\t\t?.appendChild(this._targetElement);\n\t\t\t}\n\t\t}\n\t}\n\n\tprotected _setZindex(): void {\n\t\tlet zindex: number = parseInt(this._getOption('zindex') as string);\n\n\t\tif (parseInt(KTDom.getCssProp(this._element, 'z-index')) > zindex) {\n\t\t\tzindex = parseInt(KTDom.getCssProp(this._element, 'z-index'));\n\t\t}\n\n\t\tif (KTDom.getHighestZindex(this._element) > zindex) {\n\t\t\tzindex = KTDom.getHighestZindex(this._element) + 1;\n\t\t}\n\n\t\tthis._targetElement.style.zIndex = String(zindex);\n\t}\n\n\tpublic show(): void {\n\t\tthis._show();\n\t}\n\n\tpublic hide(): void {\n\t\tthis._hide();\n\t}\n\n\tpublic toggle(): void {\n\t\tthis._toggle();\n\t}\n\n\tpublic getContentElement(): HTMLElement | null {\n\t\treturn this._targetElement;\n\t}\n\n\tpublic isOpen(): boolean {\n\t\treturn this._isOpen;\n\t}\n\n\tpublic getTriggerOption(): KTTooltipTriggerType {\n\t\treturn this._getOption('trigger') as KTTooltipTriggerType;\n\t}\n\n\tpublic isPermanent(): boolean {\n\t\treturn this._getOption('permanent') as boolean;\n\t}\n\n\tpublic static initHandlers(): void {\n\t\tdocument.addEventListener('click', (event: Event) => {\n\t\t\tdocument\n\t\t\t\t.querySelectorAll('[data-kt-tooltip-initialized]')\n\t\t\t\t.forEach((tooltipElement) => {\n\t\t\t\t\tconst tooltip = KTTooltip.getInstance(tooltipElement as HTMLElement);\n\n\t\t\t\t\tif (\n\t\t\t\t\t\ttooltip &&\n\t\t\t\t\t\ttooltip.isOpen() &&\n\t\t\t\t\t\ttooltip.getTriggerOption() !== 'hover' &&\n\t\t\t\t\t\t!tooltip.isPermanent()\n\t\t\t\t\t) {\n\t\t\t\t\t\tconst contentElement = tooltip.getContentElement();\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tcontentElement &&\n\t\t\t\t\t\t\t(contentElement === event.target ||\n\t\t\t\t\t\t\t\tcontentElement.contains(event.target as HTMLElement))\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttooltip.hide();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t});\n\t}\n\n\tpublic static getInstance(element: HTMLElement): KTTooltip {\n\t\tif (!element) return null;\n\n\t\tif (KTData.has(element, 'tooltip')) {\n\t\t\treturn KTData.get(element, 'tooltip') as KTTooltip;\n\t\t}\n\n\t\tif (element.getAttribute('data-kt-tooltip')) {\n\t\t\treturn new KTTooltip(element);\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tpublic static getOrCreateInstance(\n\t\telement: HTMLElement,\n\t\tconfig?: KTTooltipConfigInterface\n\t): KTTooltip {\n\t\treturn this.getInstance(element) || new KTTooltip(element, config);\n\t}\n\n\tpublic static createInstances(): void {\n\t\tdocument.querySelectorAll('[data-kt-tooltip]').forEach((element) => {\n\t\t\tnew KTTooltip(element as HTMLElement);\n\t\t});\n\t}\n\n\tpublic static init(): void {\n\t\tKTTooltip.createInstances();\n\n\t\tif (window.KT_TOOLTIP_INITIALIZED !== true) {\n\t\t\tKTTooltip.initHandlers();\n\t\t\twindow.KT_TOOLTIP_INITIALIZED = true;\n\t\t}\n\t}\n}\n\nif (typeof window !== 'undefined') {\n\twindow.KTTooltip = KTTooltip;\n}\n","const KTElementMap = new Map();\n\nconst KTData = {\n  set(element: HTMLElement, key: string, value: unknown): void {\n    if (!KTElementMap.has(element)) {\n      KTElementMap.set(element, new Map());\n    }\n\n    const valueMap = KTElementMap.get(element);\n\n    valueMap.set(key, value);\n  },\n\n  get(element: HTMLElement, key: string): unknown {\n    if (KTElementMap.has(element)) {\n      return KTElementMap.get(element).get(key) || null;\n    }\n\n    return null;\n  },\n\n  has(element: HTMLElement, key: string): boolean {\n    return KTElementMap.has(element) && KTElementMap.get(element).has(key);\n  },\n\n  remove(element: HTMLElement, key: string): void {\n    if (!KTElementMap.has(element) || !KTElementMap.get(element).has(key)) {\n      return;\n    }\n\n    const valueMap = KTElementMap.get(element);\n\n    valueMap.delete(key);\n\n    if (valueMap.size === 0) {\n      KTElementMap.delete(element);\n    }\n  }\n};\n\nexport default KTData;\n","/* eslint-disable max-len */\nimport KTUtils from './utils';\nimport { KTOffsetType, KTOptionType, KTViewPortType } from '../types';\n\nconst KTDom = {\n\tisRTL(): boolean {\n\t\tconst htmlTag = document.documentElement; // Access the <html> tag\n\n\t\t// Check if the \"dir\" attribute is present and its value is \"rtl\"\n\t\tconst dir = htmlTag.getAttribute('dir');\n\n\t\treturn dir === 'rtl';\n\t},\n\n\tisElement(element: HTMLElement): boolean {\n\t\tif (element && element instanceof HTMLElement) {\n\t\t\treturn true;\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t},\n\n\tgetElement(element: HTMLElement | string): HTMLElement {\n\t\tif (this.isElement(element)) {\n\t\t\treturn element as HTMLElement;\n\t\t}\n\n\t\tif (element && (element as string).length > 0) {\n\t\t\treturn document.querySelector(KTUtils.parseSelector(element as string));\n\t\t}\n\n\t\treturn null;\n\t},\n\n\tremove(element: HTMLElement): void {\n\t\tif (this.isElement(element) && element.parentNode) {\n\t\t\telement.parentNode.removeChild(element);\n\t\t}\n\t},\n\n\thasClass(element: HTMLElement, className: string): boolean {\n\t\t// Split classNames string into an array of individual class names\n\t\tconst classes = className.split(' ');\n\n\t\t// Loop through each class name\n\t\tfor (const className of classes) {\n\t\t\t// Check if the element has the current class name\n\t\t\tif (!element.classList.contains(className)) {\n\t\t\t\t// Return false if any class is missing\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\t// Return true if all classes are present\n\t\treturn true;\n\t},\n\n\taddClass(element: HTMLElement, className: string): void {\n\t\tconst classNames = className.split(' ');\n\n\t\tif (element.classList) {\n\t\t\tfor (let i = 0; i < classNames.length; i++) {\n\t\t\t\tif (classNames[i] && classNames[i].length > 0) {\n\t\t\t\t\telement.classList.add(classNames[i].trim());\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (!this.hasClass(element, className)) {\n\t\t\tfor (let x = 0; x < classNames.length; x++) {\n\t\t\t\telement.className += ' ' + classNames[x].trim();\n\t\t\t}\n\t\t}\n\t},\n\n\tremoveClass(element: HTMLElement, className: string): void {\n\t\tconst classNames = className.split(' ');\n\n\t\tif (element.classList) {\n\t\t\tfor (let i = 0; i < classNames.length; i++) {\n\t\t\t\telement.classList.remove(classNames[i].trim());\n\t\t\t}\n\t\t} else if (this.hasClass(element, className)) {\n\t\t\tfor (let x = 0; x < classNames.length; x++) {\n\t\t\t\telement.className = element.className.replace(\n\t\t\t\t\tnew RegExp('\\\\b' + classNames[x].trim() + '\\\\b', 'g'),\n\t\t\t\t\t''\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t},\n\n\tgetCssProp(element: HTMLElement, prop: string): string {\n\t\treturn (\n\t\t\telement ? window.getComputedStyle(element).getPropertyValue(prop) : ''\n\t\t).replace(' ', '');\n\t},\n\n\tsetCssProp(element: HTMLElement, prop: string, value: string) {\n\t\tif (element) {\n\t\t\twindow.getComputedStyle(element).setProperty(prop, value);\n\t\t}\n\t},\n\n\toffset(element: HTMLElement): KTOffsetType {\n\t\tif (!element) return { top: 0, left: 0, right: 0, bottom: 0 };\n\n\t\tconst rect = element.getBoundingClientRect();\n\n\t\treturn {\n\t\t\ttop: rect.top,\n\t\t\tleft: rect.left,\n\t\t\tright: window.innerWidth - rect.right,\n\t\t\tbottom: window.innerHeight - rect.top,\n\t\t};\n\t},\n\n\tgetIndex(element: HTMLElement): number {\n\t\tconst children = Array.from(element.parentNode?.children || []);\n\t\treturn children.indexOf(element);\n\t},\n\n\tparents(element: HTMLElement, selector: string): Array<HTMLElement> {\n\t\tconst parents: Array<HTMLElement> = [];\n\n\t\t// Push each parent element to the array\n\t\tfor (\n\t\t\telement && element !== document.documentElement;\n\t\t\t(element = element.parentElement as HTMLElement);\n\n\t\t) {\n\t\t\tif (selector) {\n\t\t\t\tif (element.matches(selector)) {\n\t\t\t\t\tparents.push(element as HTMLElement);\n\t\t\t\t}\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tparents.push(element as HTMLElement);\n\t\t}\n\n\t\t// Return our parent array\n\t\treturn parents;\n\t},\n\n\tsiblings(element: HTMLElement) {\n\t\tconst parent = element.parentNode;\n\t\tif (!parent) return [];\n\t\treturn Array.from(parent.children).filter((child) => child !== element);\n\t},\n\n\tchildren(element: HTMLElement, selector: string): Array<HTMLElement> {\n\t\tif (!element || !element.childNodes) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst result: Array<HTMLElement> = [];\n\t\tconst l = element.childNodes.length;\n\t\tlet i = 0;\n\n\t\tfor (i = 0; i < l; i++) {\n\t\t\tif (\n\t\t\t\telement.childNodes[i].nodeType == 1 &&\n\t\t\t\t(element.childNodes[i] as HTMLElement).matches(selector)\n\t\t\t) {\n\t\t\t\tresult.push(element.childNodes[i] as HTMLElement);\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t},\n\n\tchild(element: HTMLElement, selector: string): HTMLElement {\n\t\tconst children = KTDom.children(element, selector);\n\n\t\treturn children ? children[0] : null;\n\t},\n\n\tisVisible(element: HTMLElement): boolean {\n\t\tif (!this.isElement(element) || element.getClientRects().length === 0) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// eslint-disable-next-line max-len\n\t\treturn (\n\t\t\tgetComputedStyle(element).getPropertyValue('visibility') === 'visible'\n\t\t);\n\t},\n\n\tisDisabled(\n\t\telement: HTMLInputElement | HTMLSelectElement | HTMLButtonElement\n\t): boolean {\n\t\tif (!element || element.nodeType !== Node.ELEMENT_NODE) {\n\t\t\treturn true;\n\t\t}\n\n\t\tif (element.classList.contains('disabled')) {\n\t\t\treturn true;\n\t\t}\n\n\t\tif (typeof element.disabled !== 'undefined') {\n\t\t\treturn element.disabled;\n\t\t}\n\n\t\treturn (\n\t\t\telement.hasAttribute('disabled') &&\n\t\t\telement.getAttribute('disabled') !== 'false'\n\t\t);\n\t},\n\n\ttransitionEnd(element: HTMLElement, callback: CallableFunction): void {\n\t\tconst duration: number = this.getCSSTransitionDuration(element);\n\n\t\tsetTimeout(() => {\n\t\t\tcallback();\n\t\t}, duration);\n\t},\n\n\tanimationEnd(element: HTMLElement, callback: CallableFunction): void {\n\t\tconst duration: number = this.getCSSAnimationDuration(element);\n\n\t\tsetTimeout(() => {\n\t\t\tcallback();\n\t\t}, duration);\n\t},\n\n\tgetCSSTransitionDuration(element: HTMLElement): number {\n\t\treturn (\n\t\t\tparseFloat(window.getComputedStyle(element).transitionDuration) * 1000\n\t\t);\n\t},\n\n\tgetCSSAnimationDuration(element: HTMLElement): number {\n\t\treturn (\n\t\t\tparseFloat(window.getComputedStyle(element).animationDuration) * 1000\n\t\t);\n\t},\n\n\treflow(element: HTMLElement): void {\n\t\telement.offsetHeight;\n\t},\n\n\tinsertAfter(element: HTMLElement, referenceNode: HTMLElement) {\n\t\tconst parentNode = referenceNode.parentNode;\n\t\tif (parentNode) {\n\t\t\tparentNode.insertBefore(element, referenceNode.nextSibling);\n\t\t}\n\t},\n\n\tgetHighestZindex(element: HTMLElement): number {\n\t\tlet position: string, value: number;\n\n\t\twhile (element && element !== document.documentElement) {\n\t\t\t// Ignore z-index if position is set to a value where z-index is ignored by the browser\n\t\t\t// This makes behavior of this function consistent across browsers\n\t\t\t// WebKit always returns auto if the element is positioned\n\t\t\tposition = element.style.position;\n\n\t\t\tif (\n\t\t\t\tposition === 'absolute' ||\n\t\t\t\tposition === 'relative' ||\n\t\t\t\tposition === 'fixed'\n\t\t\t) {\n\t\t\t\t// IE returns 0 when zIndex is not specified\n\t\t\t\t// other browsers return a string\n\t\t\t\t// we ignore the case of nested elements with an explicit value of 0\n\t\t\t\t// <div style=\"z-index: -10;\"><div style=\"z-index: 0;\"></div></div>\n\t\t\t\tvalue = parseInt(element.style.zIndex);\n\n\t\t\t\tif (!isNaN(value) && value !== 0) {\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\telement = element.parentNode as HTMLElement;\n\t\t}\n\n\t\treturn 1;\n\t},\n\n\tisParentOrElementHidden(element: HTMLElement): boolean {\n\t\tif (!element) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst computedStyle = window.getComputedStyle(element);\n\n\t\tif (computedStyle.display === 'none') {\n\t\t\treturn true;\n\t\t}\n\n\t\treturn this.isParentOrElementHidden(element.parentElement);\n\t},\n\n\tgetViewPort(): KTViewPortType {\n\t\treturn {\n\t\t\twidth: window.innerWidth,\n\t\t\theight: window.innerHeight,\n\t\t};\n\t},\n\n\tgetScrollTop() {\n\t\treturn (document.scrollingElement || document.documentElement).scrollTop;\n\t},\n\n\tisInViewport(element: HTMLElement): boolean {\n\t\tconst rect = element.getBoundingClientRect();\n\n\t\treturn (\n\t\t\trect.top >= 0 &&\n\t\t\trect.left >= 0 &&\n\t\t\trect.bottom <=\n\t\t\t\t(window.innerHeight || document.documentElement.clientHeight) &&\n\t\t\trect.right <= (window.innerWidth || document.documentElement.clientWidth)\n\t\t);\n\t},\n\n\tisPartiallyInViewport(element: HTMLElement): boolean {\n\t\tconst x = element.getBoundingClientRect().left;\n\t\tconst y = element.getBoundingClientRect().top;\n\t\tconst ww = Math.max(\n\t\t\tdocument.documentElement.clientWidth,\n\t\t\twindow.innerWidth || 0\n\t\t);\n\t\tconst hw = Math.max(\n\t\t\tdocument.documentElement.clientHeight,\n\t\t\twindow.innerHeight || 0\n\t\t);\n\t\tconst w = element.clientWidth;\n\t\tconst h = element.clientHeight;\n\n\t\treturn y < hw && y + h > 0 && x < ww && x + w > 0;\n\t},\n\n\tisVisibleInParent(child: HTMLElement, parent: HTMLElement): boolean {\n\t\tconst childRect = child.getBoundingClientRect();\n\t\tconst parentRect = parent.getBoundingClientRect();\n\n\t\t// Check if the child element is visible\n\t\tif (\n\t\t\tchild.offsetParent === null ||\n\t\t\tgetComputedStyle(child).visibility === 'hidden' ||\n\t\t\tgetComputedStyle(child).display === 'none'\n\t\t) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Check if the child is within the vertical bounds of the parent\n\t\tconst isVisibleVertically =\n\t\t\tchildRect.top >= parentRect.top && childRect.bottom <= parentRect.bottom;\n\n\t\t// Check if the child is within the horizontal bounds of the parent\n\t\tconst isVisibleHorizontally =\n\t\t\tchildRect.left >= parentRect.left && childRect.right <= parentRect.right;\n\n\t\treturn isVisibleVertically && isVisibleHorizontally;\n\t},\n\n\tgetRelativeTopPosition(child: HTMLElement, parent: HTMLElement): number {\n\t\tconst childRect = child.getBoundingClientRect();\n\t\tconst parentRect = parent.getBoundingClientRect();\n\n\t\t// Calculate the relative top position\n\t\tconst relativeTop = childRect.top - parentRect.top;\n\n\t\treturn relativeTop;\n\t},\n\n\tgetDataAttributes(element: HTMLElement, prefix: string): object {\n\t\tif (!element) {\n\t\t\treturn {};\n\t\t}\n\n\t\tprefix = KTUtils.camelCase(prefix);\n\n\t\tconst attributes: { [key: string]: KTOptionType } = {};\n\t\tconst keys = Object.keys(element.dataset).filter((key) =>\n\t\t\tkey.startsWith(prefix)\n\t\t);\n\n\t\tfor (const key of keys) {\n\t\t\tlet normalizedKey = key.replace(prefix, '');\n\t\t\tnormalizedKey = KTUtils.uncapitalize(normalizedKey);\n\t\t\tattributes[normalizedKey] = KTUtils.parseDataAttribute(\n\t\t\t\telement.dataset[key]\n\t\t\t);\n\t\t}\n\n\t\treturn attributes;\n\t},\n\n\tready(callback: CallableFunction): void {\n\t\tif (document.readyState === 'loading') {\n\t\t\tdocument.addEventListener('DOMContentLoaded', () => {\n\t\t\t\tcallback();\n\t\t\t});\n\t\t} else {\n\t\t\tcallback();\n\t\t}\n\t},\n};\n\nexport default KTDom;\n","import { KTCallableType } from '../types';\nimport KTUtils from './utils';\n\nexport interface KTDelegatedEventHandlersInterface {\n  [key: string]: KTCallableType;\n}\n\nconst KTDelegatedEventHandlers: KTDelegatedEventHandlersInterface = {};\n\nconst KTEventHandler = {\n  on: function(element: HTMLElement, selector: string, eventName: string, handler: KTCallableType): string {\n    if ( element === null ) {\n      return null;\n    }\n\n    const eventId = KTUtils.geUID('event');\n\n    KTDelegatedEventHandlers[eventId] = (event: Event & {target: HTMLElement}) => {\n      const targets = element.querySelectorAll(selector);\n      let target = event.target;\n\n      while (target && target !== element) {\n        for (let i = 0, j = targets.length; i < j; i++ ) {\n          if (target === targets[i] ) {\n            handler.call(this, event, target);\n          }\n        }\n\n        target = target.parentNode as HTMLElement;\n      }\n    };\n\n    element.addEventListener(eventName, KTDelegatedEventHandlers[eventId]);\n\n    return eventId;\n  },\n\n  off(element: HTMLElement, eventName: string, eventId: string) {\n    if (!element || KTDelegatedEventHandlers[eventId] === null) {\n      return;\n    }\n\n    element.removeEventListener(eventName, KTDelegatedEventHandlers[eventId]);\n\n    delete KTDelegatedEventHandlers[eventId];\n  }\n};\n\nexport default KTEventHandler;\n","import { KTOptionType } from '../types';\n\nconst KTUtils = {\n\tgeUID(prefix: string = ''): string {\n\t\treturn prefix + Math.floor(Math.random() * new Date().getTime());\n\t},\n\n\tgetCssVar(variable: string): string {\n\t\tlet hex = getComputedStyle(document.documentElement).getPropertyValue(\n\t\t\tvariable\n\t\t);\n\n\t\tif (hex && hex.length > 0) {\n\t\t\thex = hex.trim();\n\t\t}\n\n\t\treturn hex;\n\t},\n\n\tparseDataAttribute(value: string): KTOptionType {\n\t\tif (value === 'true') {\n\t\t\treturn true;\n\t\t}\n\n\t\tif (value === 'false') {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (value === Number(value).toString()) {\n\t\t\treturn Number(value);\n\t\t}\n\n\t\tif (value === '' || value === 'null') {\n\t\t\treturn null;\n\t\t}\n\n\t\tif (typeof value !== 'string') {\n\t\t\treturn value;\n\t\t}\n\n\t\ttry {\n\t\t\treturn KTUtils.parseJson(value) as object;\n\t\t} catch {\n\t\t\treturn value;\n\t\t}\n\t},\n\n\tparseJson(value: string): JSON {\n\t\treturn value && value.length > 0\n\t\t\t? JSON.parse(decodeURIComponent(value))\n\t\t\t: null;\n\t},\n\n\tparseSelector(selector: string): string {\n\t\tif (selector && window.CSS && window.CSS.escape) {\n\t\t\t// Escape any IDs in the selector using CSS.escape\n\t\t\tselector = selector.replace(\n\t\t\t\t/#([^\\s\"#']+)/g,\n\t\t\t\t(match, id) => `#${window.CSS.escape(id)}`\n\t\t\t);\n\t\t}\n\n\t\treturn selector;\n\t},\n\n\tcapitalize(value: string): string {\n\t\treturn value.charAt(0).toUpperCase() + value.slice(1);\n\t},\n\n\tuncapitalize(value: string): string {\n\t\treturn value.charAt(0).toLowerCase() + value.slice(1);\n\t},\n\n\tcamelCase(value: string): string {\n\t\treturn value.replace(/-([a-z])/g, (match, letter) => {\n\t\t\treturn letter.toUpperCase();\n\t\t});\n\t},\n\n\tcamelReverseCase(str: string): string {\n\t\treturn str.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\n\t},\n\n\tisRTL(): boolean {\n\t\tconst htmlElement = document.querySelector('html');\n\t\treturn Boolean(\n\t\t\thtmlElement && htmlElement.getAttribute('direction') === 'rtl'\n\t\t);\n\t},\n\n\tthrottle(\n\t\ttimer: undefined | ReturnType<typeof setTimeout>,\n\t\tfunc: CallableFunction,\n\t\tdelay: number\n\t): void {\n\t\t// If setTimeout is already scheduled, no need to do anything\n\t\tif (timer) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Schedule a setTimeout after delay seconds\n\t\ttimer = setTimeout(() => {\n\t\t\tfunc();\n\n\t\t\t// Once setTimeout function execution is finished, timerId = undefined so that in <br>\n\t\t\t// the next scroll event function execution can be scheduled by the setTimeout\n\t\t\tclearTimeout(timer);\n\t\t}, delay);\n\t},\n\n\tchecksum(value: string): string {\n\t\tlet hash = 0;\n\n\t\tfor (let i = 0; i < value.length; i++) {\n\t\t\thash = ((hash << 5) - hash + value.charCodeAt(i)) | 0;\n\t\t}\n\n\t\treturn ('0000000' + (hash >>> 0).toString(16)).slice(-8);\n\t},\n\n\tstringToBoolean: (value: KTOptionType): boolean | null => {\n\t\tif (typeof value === 'boolean') return value;\n\t\tif (typeof value !== 'string') return null;\n\n\t\tconst cleanedStr = value.toLowerCase().trim();\n\t\tif (cleanedStr === 'true') return true;\n\t\tif (cleanedStr === 'false') return false;\n\t\treturn null;\n\t},\n\n\tstringToObject: <T>(value: KTOptionType): T | null => {\n\t\ttry {\n\t\t\tconst parsed = JSON.parse(value.toString() as string);\n\t\t\tif (parsed && typeof parsed === 'object' && !Array.isArray(parsed)) {\n\t\t\t\treturn parsed as T;\n\t\t\t}\n\t\t\treturn null;\n\t\t} catch (error) {\n\t\t\treturn null;\n\t\t}\n\t},\n\n\tstringToInteger: (value: KTOptionType | number): number | null => {\n\t\t// If already a number, return it as an integer\n\t\tif (typeof value === 'number' && !isNaN(value)) {\n\t\t\treturn Math.floor(value);\n\t\t}\n\n\t\t// If not a string, return null\n\t\tif (typeof value !== 'string') return null;\n\n\t\tconst cleanedStr = value.trim();\n\t\tconst num = parseInt(cleanedStr, 10);\n\t\tif (!isNaN(num) && cleanedStr !== '') {\n\t\t\treturn num;\n\t\t}\n\t\treturn null;\n\t},\n\n\tstringToFloat: (value: KTOptionType | number): number | null => {\n\t\t// If already a number, return it as is\n\t\tif (typeof value === 'number' && !isNaN(value)) {\n\t\t\treturn value;\n\t\t}\n\n\t\t// If not a string, return null\n\t\tif (typeof value !== 'string') return null;\n\n\t\tconst cleanedStr = value.trim();\n\t\tconst num = parseFloat(cleanedStr);\n\t\tif (!isNaN(num) && cleanedStr !== '') {\n\t\t\treturn num;\n\t\t}\n\t\treturn null;\n\t},\n};\n\nexport default KTUtils;\n","/*\n * ReUI\n * @version: 1.0.0\n * @author: Keenthemes\n * Copyright 2024 Keenthemes\n */\n\nimport KTDom from './helpers/dom';\nimport KTUtils from './helpers/utils';\nimport KTEventHandler from './helpers/event-handler';\nimport { KTDropdown } from './components/dropdown';\nimport { KTModal } from './components/modal';\nimport { KTDrawer } from './components/drawer';\nimport { KTCollapse } from './components/collapse';\nimport { KTDismiss } from './components/dismiss';\nimport { KTTabs } from './components/tabs';\nimport { KTAccordion } from './components/accordion';\nimport { KTScrollspy } from './components/scrollspy';\nimport { KTScrollable } from './components/scrollable';\nimport { KTScrollto } from './components/scrollto';\nimport { KTSticky } from './components/sticky';\nimport { KTReparent } from './components/reparent';\nimport { KTToggle } from './components/toggle';\nimport { KTTooltip } from './components/tooltip';\nimport { KTStepper } from './components/stepper';\nimport { KTThemeSwitch } from './components/theme-switch';\nimport { KTImageInput } from './components/image-input';\nimport { KTTogglePassword } from './components/toggle-password';\nimport { KTDataTable } from './components/datatable';\nimport { KTDatepicker } from './components/datepicker';\nimport { KTSelect } from './components/select';\n\nexport { KTDropdown } from './components/dropdown';\nexport { KTModal } from './components/modal';\nexport { KTDrawer } from './components/drawer';\nexport { KTCollapse } from './components/collapse';\nexport { KTDismiss } from './components/dismiss';\nexport { KTTabs } from './components/tabs';\nexport { KTAccordion } from './components/accordion';\nexport { KTScrollspy } from './components/scrollspy';\nexport { KTScrollable } from './components/scrollable';\nexport { KTScrollto } from './components/scrollto';\nexport { KTSticky } from './components/sticky';\nexport { KTReparent } from './components/reparent';\nexport { KTToggle } from './components/toggle';\nexport { KTTooltip } from './components/tooltip';\nexport { KTStepper } from './components/stepper';\nexport { KTThemeSwitch } from './components/theme-switch';\nexport { KTImageInput } from './components/image-input';\nexport { KTTogglePassword } from './components/toggle-password';\nexport { KTDataTable } from './components/datatable';\nexport { KTDatepicker } from './components/datepicker';\nexport { KTSelect } from './components/select';\n\nconst KTComponents = {\n\tinit(): void {\n\t\tKTDropdown.init();\n\t\tKTModal.init();\n\t\tKTDrawer.init();\n\t\tKTCollapse.init();\n\t\tKTDismiss.init();\n\t\tKTTabs.init();\n\t\tKTAccordion.init();\n\t\tKTScrollspy.init();\n\t\tKTScrollable.init();\n\t\tKTScrollto.init();\n\t\tKTSticky.init();\n\t\tKTReparent.init();\n\t\tKTToggle.init();\n\t\tKTTooltip.init();\n\t\tKTStepper.init();\n\t\tKTThemeSwitch.init();\n\t\tKTImageInput.init();\n\t\tKTTogglePassword.init();\n\t\tKTDataTable.init();\n\t\tKTDatepicker.init();\n\t\tKTSelect.init();\n\t},\n};\n\ndeclare global {\n\tinterface Window {\n\t\tKTUtils: typeof KTUtils;\n\t\tKTDom: typeof KTDom;\n\t\tKTEventHandler: typeof KTEventHandler;\n\t\tKTDropdown: typeof KTDropdown;\n\t\tKTModal: typeof KTModal;\n\t\tKTDrawer: typeof KTDrawer;\n\t\tKTCollapse: typeof KTCollapse;\n\t\tKTDismiss: typeof KTDismiss;\n\t\tKTTabs: typeof KTTabs;\n\t\tKTAccordion: typeof KTAccordion;\n\t\tKTScrollspy: typeof KTScrollspy;\n\t\tKTScrollable: typeof KTScrollable;\n\t\tKTScrollto: typeof KTScrollto;\n\t\tKTSticky: typeof KTSticky;\n\t\tKTReparent: typeof KTReparent;\n\t\tKTToggle: typeof KTToggle;\n\t\tKTTooltip: typeof KTTooltip;\n\t\tKTStepper: typeof KTStepper;\n\t\tKTThemeSwitch: typeof KTThemeSwitch;\n\t\tKTImageInput: typeof KTImageInput;\n\t\tKTTogglePassword: typeof KTTogglePassword;\n\t\tKTDataTable: typeof KTDataTable;\n\t\tKTDatepicker: typeof KTDatepicker;\n\t\tKTSelect: typeof KTSelect;\n\t\tKTComponents: typeof KTComponents;\n\t}\n}\n\nexport default KTComponents;\n\nKTDom.ready(() => {\n\tKTComponents.init();\n});\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(\"./src/index.ts\");\n"],"names":["root","factory","exports","module","define","amd","a","i","self","DEFAULT_OPTIONS","placement","modifiers","strategy","areValidElements","_len","arguments","length","args","Array","_key","some","element","getBoundingClientRect","popperGenerator","generatorOptions","_generatorOptions","_generatorOptions$def","defaultModifiers","_generatorOptions$def2","defaultOptions","reference","popper","options","state","orderedModifiers","Object","assign","modifiersData","elements","attributes","styles","effectCleanupFns","isDestroyed","instance","setOptions","setOptionsAction","cleanupModifierEffects","scrollParents","isElement","contextElement","concat","filter","m","enabled","forEach","_ref","name","_ref$options","effect","cleanupFn","noopFn","push","update","forceUpdate","_state$elements","rects","reset","modifier","data","index","_state$orderedModifie","fn","_state$orderedModifie2","_options","Promise","resolve","destroy","then","onFirstUpdate","createPopper","contains","parent","child","rootNode","getRootNode","isShadowRoot","next","isSameNode","parentNode","host","includeScale","isFixedStrategy","clientRect","scaleX","scaleY","isHTMLElement","offsetWidth","round","width","offsetHeight","height","visualViewport","window","addVisualOffsets","x","left","offsetLeft","y","top","offsetTop","right","bottom","getClientRectFromMixedType","clippingParent","viewport","rect","clientTop","clientLeft","clientHeight","clientWidth","getInnerBoundingClientRect","getClippingRect","boundary","rootBoundary","mainClippingParents","clippingParents","clipperElement","indexOf","position","getClippingParents","firstClippingParent","clippingRect","reduce","accRect","max","min","getCompositeRect","elementOrVirtualElement","offsetParent","isFixed","isOffsetParentAnElement","offsetParentIsScaled","isElementScaled","documentElement","scroll","scrollLeft","scrollTop","offsets","getComputedStyle","getDocumentElement","ownerDocument","document","getDocumentRect","_element$ownerDocumen","html","winScroll","body","scrollWidth","scrollHeight","direction","getHTMLElementScroll","getLayoutRect","Math","abs","getNodeName","nodeName","toLowerCase","getNodeScroll","node","getTrueOffsetParent","getOffsetParent","isFirefox","test","currentNode","css","transform","perspective","contain","willChange","getContainingBlock","getParentNode","assignedSlot","getScrollParent","getViewportRect","win","layoutViewport","getWindow","toString","defaultView","getWindowScroll","pageXOffset","pageYOffset","getWindowScrollBarX","Element","HTMLElement","ShadowRoot","isLayoutViewport","isScrollParent","_getComputedStyle","overflow","overflowX","overflowY","isTableElement","listScrollParents","list","scrollParent","isBody","target","updatedList","auto","basePlacements","start","end","variationPlacements","acc","placements","beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite","modifierPhases","phase","keys","style","value","removeAttribute","setAttribute","_ref2","initialStyles","margin","arrow","hasOwnProperty","property","attribute","requires","_state$modifiersData$","arrowElement","popperOffsets","basePlacement","axis","len","paddingObject","padding","toPaddingObject","arrowRect","minProp","maxProp","endDiff","startDiff","arrowOffsetParent","clientSize","centerToReference","center","offset","within","axisProp","centerOffset","_options$element","querySelector","requiresIfExists","unsetSides","mapToStyles","_Object$assign2","popperRect","variation","gpuAcceleration","adaptive","roundOffsets","_offsets$x","_offsets$y","_ref3","hasX","hasY","sideX","sideY","heightProp","widthProp","_Object$assign","commonStyles","_ref4","dpr","devicePixelRatio","roundOffsetsByDPR","_ref5","_options$gpuAccelerat","_options$adaptive","_options$roundOffsets","passive","_options$scroll","_options$resize","resize","addEventListener","removeEventListener","_skip","_options$mainAxis","mainAxis","checkMainAxis","_options$altAxis","altAxis","checkAltAxis","specifiedFallbackPlacements","fallbackPlacements","altBoundary","_options$flipVariatio","flipVariations","allowedAutoPlacements","preferredPlacement","oppositePlacement","getExpandedFallbackPlacements","referenceRect","checksMap","Map","makeFallbackChecks","firstFittingPlacement","_basePlacement","isStartVariation","isVertical","mainVariationSide","altVariationSide","checks","every","check","set","_loop","_i","fittingPlacement","find","get","slice","getSideOffsets","preventedOffsets","isAnySideFullyClipped","side","preventOverflow","referenceOverflow","elementContext","popperAltOverflow","referenceClippingOffsets","popperEscapeOffsets","isReferenceHidden","hasPopperEscaped","distanceAndSkiddingToXY","invertDistance","skidding","distance","_options$offset","_data$state$placement","_options$tether","tether","_options$tetherOffset","tetherOffset","isBasePlacement","tetherOffsetValue","normalizedTetherOffsetValue","offsetModifierState","_offsetModifierState$","mainSide","altSide","additive","minLen","maxLen","arrowPaddingObject","arrowPaddingMin","arrowPaddingMax","arrowLen","minOffset","maxOffset","clientOffset","offsetModifierValue","tetherMin","tetherMax","preventedOffset","_offsetModifierState$2","_mainSide","_altSide","_offset","_min","_max","isOriginSide","_offsetModifierValue","_tetherMin","_tetherMax","_preventedOffset","withinMaxClamp","computeAutoPlacement","_options$allowedAutoP","allowedPlacements","overflows","sort","b","computeOffsets","commonX","commonY","debounce","pending","undefined","detectOverflow","_options$placement","_options$strategy","_options$boundary","_options$rootBoundary","_options$elementConte","_options$altBoundary","_options$padding","altContext","clippingClientRect","referenceClientRect","popperClientRect","elementClientRect","overflowOffsets","offsetData","key","multiply","expandToHashMap","hashMap","getAltAxis","getBasePlacement","split","getFreshSideObject","getMainAxisFromPlacement","hash","getOppositePlacement","replace","matched","getOppositeVariationPlacement","getVariation","mergeByName","merged","current","existing","map","mergePaddingObject","order","visited","Set","result","add","dep","has","depModifier","orderModifiers","rectToClientRect","getUAString","uaData","navigator","userAgentData","brands","isArray","item","brand","version","join","userAgent","v","config","_name","_defaultConfig","hiddenClass","activeClass","expandAll","_config","_init","_buildConfig","_handlers","on","this","_element","event","preventDefault","accordionElement","closest","_toggle","payload","cancel","_fireEvent","_dispatchEvent","classList","_hide","_show","hasAttribute","_getOption","toggleElement","contentElement","getElement","getAttribute","_hideSiblings","remove","reflow","transitionEnd","siblings","sibling","show","hide","toggle","getInstance","KTAccordion","getOrCreateInstance","createInstances","querySelectorAll","init","_isAnimating","_targetElement","_getTargetElement","_isOpen","_expand","_collapse","expand","collapse","isOpen","KTCollapse","_dataOptionPrefix","_uid","_events","geUID","eventType","callable","CustomEvent","detail","bubbles","cancelable","composed","dispatchEvent","getCssProp","camelReverseCase","_getGlobalConfig","KTGlobalComponentsConfig","getDataAttributes","dispose","callback","eventId","off","delete","getOption","dismiss","tabs","accordion","_originalTbodyClass","_originalTrClasses","_originalTheadClass","_originalTdClasses","_originalThClasses","_checkboxListener","_checkboxToggle","_data","_initDefaultConfig","_initElements","stateSave","_deleteState","_loadState","_initTableHeader","_updateData","requestMethod","requestHeaders","info","infoEmpty","pageSizes","pageSize","pageMore","pageMoreLimit","pagination","number","class","text","previous","more","classes","base","asc","desc","sortField","sortOrder","aText","String","bText","compareValues","search","delay","values","includes","loading","template","content","table","size","spinner","checkbox","checkedClass","_state","_tableElement","_tbodyElement","tBodies","createTBody","_theadElement","tHead","_storeOriginalClasses","_infoElement","_sizeElement","_paginationElement","className","thElements","from","th","originalRows","row","rowIndex","tdElements","td","_showSpinner","apiEndpoint","_fetchDataFromLocal","_finalize","bind","_fetchDataFromServer","headerCheckElement","_initChecbox","_attachSearchEvent","_hideSpinner","tableId","_tableId","searchElement","getState","_debouncedSearch","debouncedSearch","_debounce","_headerCheckElement","_headerChecked","checked","_targetElements","_checkboxHandler","page","originalData","_tableConfigInvalidate","_localTableHeaderInvalidate","_localTableContentInvalidate","_localExtractTableContent","originalDataAttributes","_temp","call","endIndex","startIndex","totalItems","_draw","checksum","JSON","stringify","innerHTML","_contentChecksum","restConfig","_configChecksum","dataRow","dataRowAttribute","attr","trim","_getTableHeaders","queryParams","_getQueryParamsForFetchRequest","_performFetchRequest","response","responseData","json","_noticeOnTable","mapResponse","totalCount","filters","URLSearchParams","column","type","mapRequest","requestBody","apiEndpointWithQueryParams","URL","fetch","method","headers","catch","error","totalPages","ceil","_dispose","_updateTable","_updatePagination","_saveState","removeChild","tbodyElement","_updateTableContent","_setSortIcon","header","sortElement","sortClass","originalClass","sortAttribute","cellIndex","_toggleSortOrder","_sort","fragment","createDocumentFragment","textContent","createElement","columns","colIndex","columnDef","render","createdCell","appendChild","message","cell","insertRow","insertCell","colSpan","_removeChildElements","_createPageSizeControls","_createPaginationControls","container","firstChild","option","selected","append","onchange","_reloadPageSize","Number","_setPaginationInfoText","paginationContainer","_createPaginationContainer","_createPaginationButtons","currentPage","createButton","disabled","handleClick","button","onclick","_paginateData","pageMoreEnabled","maxButtons","_calculatePageRange","startPage","endPage","halfMaxButtons","floor","isInteger","_createSpinner","display","ns","_tableNamespace","localStorage","setItem","stateString","getItem","parse","removeItem","stateNamespace","id","newSortOrder","field","func","wait","timeout","clearTimeout","setTimeout","_checkboxUpdate","_isChecked","_change","total","indeterminate","_getChecked","isChecked","uncheck","getChecked","goPage","setPageSize","reload","redraw","showSpinner","hideSpinner","setFilter","f","query","KTDataTable","_instances","_calendarState","Date","_dropdownElement","_mainDisplayElement","getConfig","_attachCalendarEventListeners","_attachMonthYearEventListeners","_getDaysInMonth","year","month","getDate","_getFirstDayOfMonth","firstDayOfWeek","getFirstDayOfWeek","getDay","_getYear","date","getFullYear","_getMonth","getMonth","_getMonthYear","currentMonth","currentYear","_getMonthName","monthNames","getMonthNames","_setMonth","setMonth","_setYear","setFullYear","_renderCalendar","selectedData","calendarHtml","_generateCalendarHtml","_dropdownContainer","getTemplates","dropdownContainer","_calendarElement","replaceWith","_initDropdown","enableTime","_renderTimeInputDisplay","getSelectedDateInterface","_attachTimeSelectorEvent","calendar","visibleMonths","firstDayOfMonth","daysInMonth","weeksHtml","_generateWeeksHtml","daysOfWeekHtml","daysOfWeek","getWeekdays","_updateMonthContainer","monthContainer","monthContainerSelector","monthDisplay","monthDisplaySelector","yearDisplay","yearDisplaySelector","daysOfWeekSelector","datepickerGrid","calendarGridSelector","weekHtml","totalCells","_calculateTotalCells","dayOfMonth","_adjustDateForEdges","isDisabled","_isDateDisabled","dayCellHtml","_generateDayCellHtml","week","outerHTML","totalDays","prevMonth","prevYear","daysInPrevMonth","_isOutsideVisibleRange","isMinMaxConfigRange","isSelected","range","getSelectedDate","toDateString","isToday","isInRange","_isSelectedCalendarDateInRange","isStartDate","getSelectedDateRange","startDate","isEndDate","endDate","dayCell","focus","dateYear","dateMonth","firstVisibleMonth","lastVisibleMonth","lastVisibleYear","_isMonthYearSelectorVisible","_handleToggleMonthYearSelector","monthYearDisplaySelector","monthYearSelector","prevBtnSelector","_goToCalendarPreviousMonth","nextBtnSelector","_goToCalendarNextMonth","_renderMonthYearSelector","dateCellSelector","_handleCalendarDayClick","keyboardNavigateEvent","_handleOnDateChange","dateCell","day","parseInt","dataset","hoveredDate","_updateCalendarHover","selectedDate","selectedDateRange","setSelectedDate","setSelectedDateRange","calendarPreviousMonthEvent","calendarNextMonthEvent","newSelectedDate","getHours","getMinutes","getSeconds","dateChangeEvent","calendarRenderedEvent","selectedStartDate","selectedEndDate","allCells","hoveredInRangeClass","setHours","startDateTimestamp","getTime","hoveredDateTimestamp","lowerBound","upperBound","cellDate","cellTimestamp","monthYearElement","_clearAndAppend","_populateMonthYearOptions","newContent","_clearMonthYearSelector","_populateMonthOptions","selectedMonthIndex","monthOptionsHtml","monthOptions","monthOptionsContainer","monthOptionsSelector","insertAdjacentHTML","_populateYearOptions","selectedYear","yearLength","yearOptionsHtml","yearOptions","yearOptionsContainer","yearOptionSelector","visibleYears","_updateMonthYearDisplayTitles","_handleYearClick","monthOptionSelector","_handleMonthClick","selectedMonth","newElement","startDateTimeDisplay","getDateDisplayInterface","endDateTimeDisplay","timeSelectorRangeDisplay","hourStep","minuteStep","secondStep","getDisabledHours","getDisabledMinutes","is12Hours","dateTimeDisplay","timeSelectorDisplay","_timeInputDisplayElement","changedElement","timeSegment","datepickerSegment","newValue","isStartTimeSelector","targetDate","_getTargetDateForRange","_updateTimeComponent","dateToUpdate","DatePickerSegment","Hours","EndHours","Minutes","EndMinutes","setMinutes","Seconds","EndSeconds","setSeconds","AmPm","EndAmPm","currentHour","newHour","dropdownSelector","mainDisplaySelector","_toggleDropdown","console","log","_closeDropdown","_openDropdown","_setAriaAttributes","renderCalendar","KTDatepickerCalendar","DefaultConfig","locale","locales","DefaultLocales","weekDays","forceLeadingZero","dateFormat","timeFormat","am","pm","rangeSeparator","inputSelector","startInputSelector","endInputSelector","segmentSelector","timeInputSelector","yearOptionsSelector","initEvent","selectedClass","containerClass","monthContainerClass","daysOfWeekClass","dayCellClass","dayCellSelectedClass","dayCellCurrentClass","dayCellDisabledClass","dayCellInRangeClass","dayCellStartClass","dayCellEndClass","monthYearSelectorContainerClass","monthYearDisplayClass","monthYearDisplayTextClass","monthYearOptionsContainerClass","monthOptionClass","monthOptionSelectedClass","monthOptionCurrentClass","yearOptionClass","yearOptionSelectedClass","yearOptionCurrentClass","datetimeDisplayClass","datetimeSegmentClass","timeListContainerClass","timeSelectorFlexContainerClass","timePartContainerClass","timePartLabelClass","timeSelectClass","_selectedDate","_selectedDateRange","_setLocale","_localeConfig","_getLocalesConfig","warn","templates","DefaultTemplates","padZero","num","maxLength","paddingChar","padStart","getDateFormat","getTimeFormat","getWeekdaysShort","dayNamesShort","dayNames","monthNamesShort","getWeekdaysMin","dayNamesMin","disabledHours","disabledMinutes","strToDate","dateString","format","formatParts","dateParts","part","dateMap","hours","minutes","seconds","formatPart","partValue","getAmPm","formatTimezone","timezoneOffset","getTimezoneOffset","offsetHours","formatTime","amPm","hour","toLocaleLowerCase","toLocaleUpperCase","minDate","maxDate","parseDateString","dayIndex","monthIndex","yearIndex","isNaN","datetime","dayPlaceholder","match","monthPlaceholder","yearPlaceholder","hoursPlaceholder","minutesPlaceholder","secondsPlaceholder","gmtOffset","getMilliseconds","setSelectedDateRangeStart","setSelectedDateRangeEnd","KTDatepickerStateManager","addLocale","_getInputElements","_calendar","_keyboard","KTDatepickerKeyboard","_initDatePicker","_dateInputElement","_startDateInputElement","_endDateInputElement","_destroy","KTDatepicker","_formatDateRange","dateRange","_formatDateTime","formattedDate","_formatDateOnly","formattedTime","_updateInputValue","HTMLInputElement","_attachSelectedDateListener","_handleOnCalendarUpdate","_event","_initKeyboardSupport","setInputElement","dateInputDisplayElement","_renderDateInputDisplay","setInputDisplayElement","datetimeDisplayRange","datetimeDisplay","_dateInputDisplayElement","setDate","getDateRange","setDateRange","setMinDate","setMaxDate","stateManager","_attachInputEventListeners","_attachKeyboardEvent","_dateInputFocusOut","_focusedSegment","_updateDateInputDisplayElement","_handleDateInputSegmentClick","segmentElement","_handleKeyboardNavigation","_handleKeyboardNavigationCalendar","_handleKeyboardInput","segmentActions","ArrowUp","_adjustSegmentValue","ArrowDown","ArrowLeft","_navigateSegment","ArrowRight","Enter","_handleEnterKey","Escape","increment","activeDate","_getActiveDate","Day","EndDay","maxDay","newDay","Month","EndMonth","Year","EndYear","newHours","newMinutes","newSeconds","_updateActiveDate","segment","currentValue","_getSegmentValue","maxValue","_getSegmentMaxValue","requiredDigits","_getSegmentRequiredDigits","newDigit","potentialNewValue","_getSegmentMinValue","_setSegmentValue","_activeInput","ActiveInput","End","Start","segmentValues","segmentCount","newIndex","_isTimeSegment","_isOutOfRangeSegment","GmtOffset","now","blur","generateLocaleConfig","_","toLocaleString","weekday","_html","strings","str","firstElementChild","weekdays","daysHtml","isCurrentMonth","startYear","isCurrentYear","showDate","showTime","showGMT","datetimeDisplayEnd","startDatetime","endDatetime","displayValue","minute","second","startDateTime","endDateTime","is24Hours","mode","interrupt","stopPropagation","_dismiss","opacity","getTargetElement","KTDismiss","zindex","enable","shownClass","backdrop","backdropClass","backdropStatic","keyboard","disableScroll","persistent","_isTransitioning","_backdropElement","_relatedTarget","_handleClose","_update","relatedTarget","KTDrawer","_createBackdrop","zIndex","_autoFocus","_deleteBackdrop","isEnabled","addClass","removeClass","input","_isEnabled","stringToBoolean","getRelatedTarget","drawer","handleResize","throttle","timer","handleToggle","selector","drawerEl","handleDismiss","modalElement","modal","handleClickAway","handleKeyword","ctrlKey","altKey","shiftKey","code","metaKey","KT_DRAWER_INITIALIZED","hoverTimeout","placementRtl","permanent","trigger","attach","offsetRtl","_disabled","_toggleElement","_menuElement","_setupNestedDropdowns","subToggle","subItem","subMenu","KTDropdown","_click","_mouseover","_mouseout","KTMenu","parentZindex","getHighestZindex","_initPopper","_destroyPopper","isRTL","_getPopperConfig","_isDropdownOpen","isRtl","offsetValue","_getToggleElement","_getContentElement","click","mouseover","mouseout","getToggleElement","getContentElement","isPermanent","disable","findElement","skipElement","dropdown","handleKeyboard","dropdownEl","handleMouseover","handleMouseout","initHandlers","KT_DROPDOWN_INITIALIZED","_previewUrl","_inputElement","_hiddenElement","_removeElement","_previewElement","_remove","reader","FileReader","onload","backgroundImage","readAsDataURL","files","_lastMode","_setPreviewUrl","_getPreviewUrl","url","isEmpty","isChanged","setPreviewUrl","getPreviewUrl","KTImageInput","dropdownZindex","dropdownHoverTimeout","dropdownPlacement","dropdownOffset","accordionExpandAll","itemElement","_getItemElement","_getItemOption","_link","_isItemDropdownPermanent","itemElements","_getItemChildElements","_getItemToggleMode","each","_isItemSubShown","_showDropdown","_showAccordion","_hideDropdown","_hideAccordion","_reset","_hasItemSub","subElement","_getItemSubElement","_updateItemSubType","_isItemParentShown","parents","_isItemSubElement","_getItemLinkElement","itemEl","_getItemParentElement","parentItem","_getItemParentElements","parentElement","parentElements","_getItemChildElement","children","buffer","_initDropdownPopper","insertAfter","_destroyDropdownPopper","_getDropdownPopperConfig","_hideAccordions","_setActiveLink","linkElement","parentItems","activeLinks","activeParentItems","activeLink","activeParentItem","_getLinkByAttribute","itemToHide","getItemTriggerMode","getItemToggleMode","link","setActiveLink","getLinkByAttribute","getItemLinkElement","getItemElement","getItemSubElement","getItemParentElements","isItemSubShown","isItemParentShown","isItemDropdownPermanent","hideAccordions","menuElement","menu","updateDropdowns","updateByLinkAttribute","tagName","KT_MENU_INITIALIZED","KTModal","targetElement","_setZindex","KT_MODAL_INITIALIZED","KTReparent","targetEl","prepend","reparent","KT_REPARENT_INITIALIZED","KTScrollable","save","dependencies","wrappers","_elementId","_setupHeight","_setupState","heightType","_getHeightType","_getHeight","setProperty","stateEnabled","elementIdExists","Boolean","storedPosition","pos","behavior","_getHeightOption","_getAutoHeight","getViewPort","_getElementSpacing","_getElementHeight","computedStyle","marginTop","marginBottom","borderTopWidth","borderBottomWidth","spacing","paddingTop","paddingBottom","getHeight","KT_SCROLL_INITIALIZED","KTScrollspy","smooth","_anchorElements","_getTarget","anchorElement","_updateAnchor","_scrollTo","sectionElement","scrollTo","isVisible","scrollPosition","parentAnchorElements","parentAnchorElement","_isActive","updateAnchor","isActive","KTScrollto","_scroll","select","_select","displayElement","getValueDisplayElement","_searchInputElement","_clearButtonElement","_boundKeyNavHandler","_handleComboboxKeyNav","_boundInputHandler","_handleComboboxInput","_boundClearHandler","_handleClearButtonClick","_attachEventListeners","_removeEventListeners","_toggleClearButtonVisibility","_dropdownIsOpen","openDropdown","_filterOptionsForCombobox","showAllOptions","clearSelection","handleDropdownKeyNavigation","multiple","closeOnSelect","_focusNextOption","_focusPreviousOption","updateSelectedValue","selectedText","cleanText","tempDiv","titleElement","inputEvent","Event","resetInputValueToSelection","selectedOptions","getSelectedOptions","selectedOption","getOptionsElement","opt","KTSelectCombobox","placeholder","items","isLoading","onFetch","remote","dataUrl","apiDataProperty","remoteErrorMessage","dataValueField","dataFieldText","dataFieldDescription","dataFieldIcon","dataFieldIconWidth","dataFieldIconHeight","searchParam","searchDebounce","paginationLimit","paginationPageParam","paginationLimitParam","paginationTotalParam","maxSelections","isRequired","enableSearch","searchPlaceholder","searchAutofocus","searchMinLength","searchMaxItems","searchNotFoundText","searchHighlight","selectAllText","clearAllText","showSelectedCount","renderSelected","label","displaySelector","dropdownContentSelector","searchSelector","valueSelector","optionSelector","_selectedOptions","setItems","reject","_fetchRemoteData","finally","encodeURIComponent","getItems","setItemsFromOptions","title","setSelectedOptions","toggleSelectedOptions","splice","modifyConfig","KTSelectState","SelectOptionDefaultConfig","description","icon","KTSelect","KTSelectRemote","KTSelectSearch","KTSelectTags","filterOptions","FocusManager","EventManager","_globalConfig","getHTMLOptionElement","optionElement","theme","Templates","getTheme","defaultTemplates","KTSelectOption","_isLoading","_hasError","_errorMessage","_currentPage","_totalPages","_lastQuery","fetchData","_buildUrl","ok","Error","status","_processData","eventName","hasError","errorMessage","params","limitParam","pageParam","limit","paramsString","processedData","total_pages","mappedData","mappedItem","_mapItemToOption","valueField","labelField","descriptionField","iconField","substring","getValue","obj","path","prev","curr","loadNextPage","hasMorePages","getErrorMessage","setElement","_noResultsElement","_originalOptionContents","_searchInput","getSearchInput","_eventManager","_focusManager","getDropdownElement","handleSearchInput","_handleSearchInput","_cacheOriginalOptionContents","addListener","_resetAllOptions","resetFocus","refreshOptionCache","clearSearchHighlights","closeDropdown","removeAllListeners","getVisibleOptions","onArrowDown","focusNext","onArrowUp","focusPrevious","onEnter","_selectFocusedOption","onClose","focusedOption","getFocusedOption","optionValue","_clearNoResultsMessage","_filterOptions","dropdownElement","visibleCount","_handleNoResults","_applyHighlightToDisplay","visibleOptionsCount","_showNoResultsMessage","noResults","optionsContainer","_clearDisplayHighlights","clear","_comboboxModule","_tagsModule","_loadMoreIndicator","_searchDebounceTimeout","_originalOptionsHtml","_remoteModule","_initializeRemoteData","_setupComponent","_renderLoadingState","_clearExistingOptions","_generateOptionsHtml","_renderLoadedState","_addLoadMoreButton","_renderErrorState","emptyOption","loadingOption","errorOption","_dropdownContentElement","_wrapperElement","_handleLoadMore","newItems","existingItems","_updateOptionsInDropdown","loadMoreButton","selectOption","renderedOption","insertBefore","_initializeOptionsHtml","_createHtmlStructure","_setupElementReferences","_initializeSearchModule","_updateDisplayAndAriaAttributes","_applyInitialDisabledState","_preSelectOptions","_initZIndex","_addInitializationFlag","_addKeyboardNavigationStyles","wrapperElement","isCombobox","maxHeight","after","getElementById","head","nextElementSibling","_displayElement","_valueDisplayElement","_handleDocumentClick","_handleEscKey","_handleDropdownOptionClick","_handleDropdownClick","_handleDropdownKeyDown","_searchModule","_handleRemoteSearch","updateSelectedOptionDisplay","extractedValue","_getValueByKey","extractedLabel","extractedDesc","extractedIcon","o","k","_selectOption","preSelectedValues","toggleDropdown","_focusedOptionIndex","_focusSelectedOption","firstSelectedValue","focusOptionByValue","updateDropdownPosition","_updateSelectedOptionClass","changeEvent","_updateValueDisplay","updateTagsDisplay","displayText","_getOptionInnerHtml","_updateDebugDisplays","selectId","debugElement","_hoverFocusedOption","applyFocus","_scrollOptionIntoView","scrollIntoView","selectFocusedOption","selectedValue","clickedElement","matches","_handleOptionClick","clickedOption","ariaDisabled","_handleFocus","_handleBlur","enableMultiSelect","disableMultiSelect","toggleSelection","_renderSearchLoadingState","_updateSearchResults","_renderSearchErrorState","isDropdownOpen","tagElement","_createTagElement","optionLabel","_getOptionLabel","mockOption","tag","closeButton","_removeTag","optionElements","originalOptions","defaultTheme","wrapper","displayActive","displayDisabled","dropdownOpen","optionSelected","optionDisabled","optionHighlighted","optionGroup","optionGroupHeader","searchWrapper","tagRemove","optionsHtml","hasSearch","isHtmlOption","HTMLOptionElement","iconHtml","imgElement","src","alt","safeTitle","selectedDisplay","count","highlightSearchTerm","regex","RegExp","clonedElement","cloneNode","textContainer","childNodes","highlightTextNodes","nodeType","Node","TEXT_NODE","nodeValue","highlightedText","tempElement","replaceChild","ELEMENT_NODE","_templates","_themes","TemplateRegistry","_instance","registerTemplates","registerTemplate","templateSet","templateName","registerTheme","Intl","NumberFormat","currency","onVisibleCount","noResultsElement","isMatch","hasIcon","hasDescription","highlightTextInElement","highlightMatchingText","callbacks","highlightClass","originalText","queryLower","textLower","lastIndex","matchEnd","matchedText","optionsSelector","_focusClass","_hoverClass","_optionsSelector","visibleOptions","optionRect","containerRect","block","findIndex","getFocusedIndex","setFocusedIndex","_boundHandlers","handler","context","boundHandler","removeListener","eventMap","originalHandler","KTStepper","activeStep","_activeStep","_nextElement","_backElement","_go","_goNext","_goBack","_getTotalSteps","_getItemElements","numberElement","step","_goTo","_getStep","_goLast","_goFirst","_isLast","_isFirst","isLast","isFirst","go","goTo","goFirst","goLast","goNext","goBack","getStep","getTotalSteps","getItemElements","KTSticky","reverse","release","activate","_releaseElement","_activateElement","_attributeRoot","_eventTriggerState","_lastScrollTop","_process","_getOffset","_disable","st","getScrollTop","isPartiallyInViewport","_enable","active","activateElement","_calculateHeight","parseFloat","insetInlineStart","offseRight","insetInlineEnd","KTTabs","_currentTabElement","_currentContentElement","_lastTabElement","_lastContentElement","_tabElements","tabElement","_isShown","_getDropdownToggleElement","containerElement","isShown","keyboardArrow","keyboardJump","handleAccessibility","KT_TABS_INITIALIZED","KTThemeSwitch","_mode","_currentMode","_setMode","currentMode","_getSystemMode","_bindMode","_updateState","_getMode","matchMedia","getMode","setMode","KTTogglePassword","_triggerElement","_isVisible","_setVisible","flag","setVisible","KTToggle","hasClass","KTTooltip","delayShow","delayHide","_transitioning","_timeout","_createPopper","_handleContainer","_popper","getTriggerOption","tooltipElement","tooltip","KT_TOOLTIP_INITIALIZED","KTElementMap","KTData","valueMap","KTDom","parseSelector","classNames","prop","getPropertyValue","setCssProp","innerWidth","innerHeight","getIndex","l","getClientRects","duration","getCSSTransitionDuration","animationEnd","getCSSAnimationDuration","transitionDuration","animationDuration","referenceNode","nextSibling","isParentOrElementHidden","scrollingElement","isInViewport","ww","hw","w","h","isVisibleInParent","childRect","parentRect","visibility","isVisibleVertically","isVisibleHorizontally","getRelativeTopPosition","prefix","camelCase","startsWith","normalizedKey","uncapitalize","parseDataAttribute","ready","readyState","KTDelegatedEventHandlers","KTEventHandler","targets","j","KTUtils","random","getCssVar","variable","hex","parseJson","decodeURIComponent","CSS","escape","capitalize","charAt","toUpperCase","letter","htmlElement","charCodeAt","cleanedStr","stringToObject","parsed","stringToInteger","stringToFloat","KTComponents","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","d","definition","defineProperty","enumerable","prototype","r","Symbol","toStringTag"],"sourceRoot":""}